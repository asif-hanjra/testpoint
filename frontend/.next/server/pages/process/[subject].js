/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/process/[subject]";
exports.ids = ["pages/process/[subject]"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fprocess%2F%5Bsubject%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fprocess%2F%5Bsubject%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fprocess%2F%5Bsubject%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fprocess%2F%5Bsubject%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n/* harmony import */ var _pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/process/[subject].tsx */ \"./pages/process/[subject].tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/process/[subject]\",\n        pathname: \"/process/[subject]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_process_subject_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGcHJvY2VzcyUyRiU1QnN1YmplY3QlNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRnByb2Nlc3MlMkYlNUJzdWJqZWN0JTVELnRzeCZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUMwRDtBQUMxRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsdURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsdURBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsdURBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsdURBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLHVEQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLHVEQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsdURBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsdURBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsdURBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsdURBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsdURBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQsaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tY3EtZGVkdXBsaWNhdGlvbi1mcm9udGVuZC8/NWFjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIGFwcCBhbmQgZG9jdW1lbnQgbW9kdWxlcy5cbmltcG9ydCBEb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL3Byb2Nlc3MvW3N1YmplY3RdLnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL3Byb2Nlc3MvW3N1YmplY3RdXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9wcm9jZXNzL1tzdWJqZWN0XVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIEFwcCxcbiAgICAgICAgRG9jdW1lbnRcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fprocess%2F%5Bsubject%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fprocess%2F%5Bsubject%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./components/GroupDisplay.tsx":
/*!*************************************!*\
  !*** ./components/GroupDisplay.tsx ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroupDisplay: () => (/* binding */ GroupDisplay)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _MCQCard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MCQCard */ \"./components/MCQCard.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/api */ \"./lib/api.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/storage */ \"./lib/storage.ts\");\n/* harmony import */ var _contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../contexts/FileStatusContext */ \"./contexts/FileStatusContext.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_MCQCard__WEBPACK_IMPORTED_MODULE_2__, _lib_api__WEBPACK_IMPORTED_MODULE_3__, _contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__]);\n([_MCQCard__WEBPACK_IMPORTED_MODULE_2__, _lib_api__WEBPACK_IMPORTED_MODULE_3__, _contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\nconst GroupDisplay = ({ subject, group, groupIndex, totalGroups, onSubmit, onPrevious, onNext, completedGroups = [], onGoToNextIncomplete, initialCheckedFiles, onFileToggle, conflictingFiles = new Set(), fileAppearanceCounts = {}, fileAppearanceOrder = {}, fileAppearanceTotals = {}, keptAppearanceOrder = {}, globalExpandState = true })=>{\n    const fileStatusContext = (0,_contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__.useFileStatus)();\n    const isCompleted = completedGroups.includes(groupIndex);\n    const [checkedFiles, setCheckedFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [submitting, setSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Use globalExpandState from parent instead of local state\n    const groupExpanded = globalExpandState;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Initialize checked state from Context or initialCheckedFiles\n        const initChecked = {};\n        group.files.forEach((filename)=>{\n            if (initialCheckedFiles && filename in initialCheckedFiles) {\n                // Page-level selection (from autoSelections / user toggles) wins\n                initChecked[filename] = initialCheckedFiles[filename];\n            } else {\n                // Use Context to get checked state\n                initChecked[filename] = fileStatusContext.getFileChecked(filename);\n            }\n        });\n        setCheckedFiles(initChecked);\n    }, [\n        group,\n        subject,\n        initialCheckedFiles,\n        fileStatusContext\n    ]);\n    // Update Context and localStorage when toggling\n    const handleToggle = (filename, checked)=>{\n        setCheckedFiles((prev)=>({\n                ...prev,\n                [filename]: checked\n            }));\n        fileStatusContext.setFileChecked(filename, checked);\n        // Call external toggle handler if provided\n        if (onFileToggle) {\n            onFileToggle(filename, checked);\n        }\n    };\n    const handleSubmit = async ()=>{\n        const checkedList = group.files.filter((f)=>checkedFiles[f]);\n        const uncheckedList = group.files.filter((f)=>!checkedFiles[f]);\n        setSubmitting(true);\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.api.submitGroup(subject, groupIndex, checkedList);\n            // Mark group as completed\n            _lib_storage__WEBPACK_IMPORTED_MODULE_4__.storage.markGroupCompleted(subject, groupIndex);\n            // Call parent callback (parent will show toast)\n            onSubmit();\n        } catch (error) {\n            console.error(\"Failed to submit group:\", error);\n            alert(\"Error submitting group\");\n        } finally{\n            setSubmitting(false);\n        }\n    };\n    // Removed toggleAll and handleExpandToggle - now controlled by parent via globalExpandState\n    // Individual cards can still toggle themselves, but we don't sync it back to parent\n    const handleExpandToggle = (expanded)=>{\n    // Individual card toggles are allowed, but we don't update parent state\n    // The global toggle at the top controls all groups\n    };\n    // Sort files by similarity score (highest first)\n    // For pairwise groups (2 files), all files have the same similarity score\n    // For connected components, we can use max_similarity or just keep original order\n    const sortedFiles = [\n        ...group.files\n    ].sort((a, b)=>{\n        // If similarities array exists, use it (old format)\n        if (group.similarities && group.similarities.length > 0) {\n            const getMaxScore = (file)=>{\n                const scores = group.similarities.filter((s)=>s.file1 === file || s.file2 === file).map((s)=>s.score);\n                return scores.length > 0 ? Math.max(...scores) : 0;\n            };\n            return getMaxScore(b) - getMaxScore(a);\n        }\n        // Otherwise, for pairwise groups, all files have the same similarity\n        // Just keep original order (or sort alphabetically)\n        return 0;\n    });\n    const checkedCount = Object.values(checkedFiles).filter(Boolean).length;\n    const uncheckedCount = group.files.length - checkedCount;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white rounded-lg shadow-lg p-6 mb-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-between items-center mb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-bold\",\n                                    children: [\n                                        \"Group \",\n                                        groupIndex + 1,\n                                        \" of \",\n                                        totalGroups\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                                    lineNumber: 149,\n                                    columnNumber: 13\n                                }, undefined),\n                                isCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"bg-green-500 text-white text-sm px-3 py-1 rounded-full\",\n                                    children: \"✓ Completed\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                                    lineNumber: 153,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-gray-600\",\n                                    children: [\n                                        \"Max Similarity: \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-semibold\",\n                                            children: [\n                                                (group.max_similarity * 100).toFixed(1),\n                                                \"%\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                                            lineNumber: 159,\n                                            columnNumber: 31\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                                    lineNumber: 158,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                            lineNumber: 148,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-4\",\n                            children: [\n                                onGoToNextIncomplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: onGoToNextIncomplete,\n                                    className: \"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm\",\n                                    children: \"Go to Next Incomplete →\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                                    lineNumber: 164,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-sm text-gray-600\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-semibold text-green-600\",\n                                            children: [\n                                                checkedCount,\n                                                \" to save\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                                            lineNumber: 173,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        \" / \",\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-semibold text-red-600\",\n                                            children: [\n                                                uncheckedCount,\n                                                \" to remove\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                                            lineNumber: 175,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                                    lineNumber: 172,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                            lineNumber: 162,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                    lineNumber: 147,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                lineNumber: 146,\n                columnNumber: 7\n            }, undefined),\n            fileStatusContext.loadingStatuses || fileStatusContext.loadingMCQData ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center items-center py-12\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                            lineNumber: 185,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-600\",\n                            children: fileStatusContext.loadingStatuses ? \"Loading file statuses...\" : \"Loading MCQ data...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                            lineNumber: 186,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                    lineNumber: 184,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                lineNumber: 183,\n                columnNumber: 9\n            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6\",\n                children: sortedFiles.map((filename)=>{\n                    const fileStatus = fileStatusContext.getFileStatus(filename);\n                    // New badge logic (main cards):\n                    // - appearanceTotal: how many times this filename appears on the current page (main + KEPT)\n                    const appearanceTotal = fileAppearanceTotals[filename] || 0;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MCQCard__WEBPACK_IMPORTED_MODULE_2__.MCQCard, {\n                        subject: subject,\n                        filename: filename,\n                        checked: checkedFiles[filename] ?? fileStatusContext.getFileChecked(filename),\n                        status: fileStatus?.status || \"unknown\",\n                        onToggle: handleToggle,\n                        expanded: groupExpanded,\n                        onExpandToggle: handleExpandToggle,\n                        appearanceTotal: appearanceTotal,\n                        appearanceTotals: fileAppearanceTotals,\n                        mcqData: fileStatus?.mcqData,\n                        removalInfo: fileStatus?.removalInfo,\n                        keptFileData: fileStatus?.keptFileData,\n                        hasConflict: conflictingFiles.has(filename)\n                    }, filename, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                        lineNumber: 200,\n                        columnNumber: 15\n                    }, undefined);\n                })\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n                lineNumber: 192,\n                columnNumber: 9\n            }, undefined),\n             false && /*#__PURE__*/ 0\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/testpoint/frontend/components/GroupDisplay.tsx\",\n        lineNumber: 144,\n        columnNumber: 5\n    }, undefined);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7OztBQTRCUixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWNxLWRlZHVwbGljYXRpb24tZnJvbnRlbmQvLi9jb21wb25lbnRzL0dyb3VwRGlzcGxheS50c3g/ZTdlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE1DUUNhcmQgfSBmcm9tICcuL01DUUNhcmQnO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSAnLi4vbGliL2FwaSc7XG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSAnLi4vbGliL3N0b3JhZ2UnO1xuaW1wb3J0IHsgdXNlRmlsZVN0YXR1cyB9IGZyb20gJy4uL2NvbnRleHRzL0ZpbGVTdGF0dXNDb250ZXh0JztcblxuaW50ZXJmYWNlIEdyb3VwIHtcbiAgZmlsZXM6IHN0cmluZ1tdO1xuICBtYXhfc2ltaWxhcml0eT86IG51bWJlcjtcbiAgc2ltaWxhcml0eT86IG51bWJlcjsgIC8vIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gIHNpbWlsYXJpdGllcz86IEFycmF5PHtcbiAgICBmaWxlMTogc3RyaW5nO1xuICAgIGZpbGUyOiBzdHJpbmc7XG4gICAgc2NvcmU6IG51bWJlcjtcbiAgfT47XG59XG5cbmludGVyZmFjZSBHcm91cERpc3BsYXlQcm9wcyB7XG4gIHN1YmplY3Q6IHN0cmluZztcbiAgZ3JvdXA6IEdyb3VwO1xuICBncm91cEluZGV4OiBudW1iZXI7XG4gIHRvdGFsR3JvdXBzOiBudW1iZXI7XG4gIG9uU3VibWl0OiAoKSA9PiB2b2lkO1xuICBvblByZXZpb3VzPzogKCkgPT4gdm9pZDtcbiAgb25OZXh0PzogKCkgPT4gdm9pZDtcbiAgY29tcGxldGVkR3JvdXBzPzogbnVtYmVyW107XG4gIG9uR29Ub05leHRJbmNvbXBsZXRlPzogKCkgPT4gdm9pZDtcbiAgaW5pdGlhbENoZWNrZWRGaWxlcz86IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9O1xuICBvbkZpbGVUb2dnbGU/OiAoZmlsZW5hbWU6IHN0cmluZywgY2hlY2tlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgY29uZmxpY3RpbmdGaWxlcz86IFNldDxzdHJpbmc+OyAgLy8gRmlsZXMgd2l0aCBjb25mbGljdHMgKGNoZWNrZWQgaW4gb25lIGdyb3VwLCB1bmNoZWNrZWQgaW4gYW5vdGhlcilcbiAgZmlsZUFwcGVhcmFuY2VDb3VudHM/OiB7IFtmaWxlbmFtZTogc3RyaW5nXTogeyB0b3RhbDogbnVtYmVyOyBjaGVja2VkOiBudW1iZXIgfSB9OyAgLy8gRmlsZSBhcHBlYXJhbmNlIGFuZCBjaGVja2VkIGNvdW50c1xuICBmaWxlQXBwZWFyYW5jZU9yZGVyPzogeyBbZmlsZW5hbWU6IHN0cmluZ106IHsgW2dyb3VwSW5kZXg6IG51bWJlcl06IG51bWJlciB9IH07ICAvLyBPcmRlciBvZiBtYWluIGZpbGUgYXBwZWFyYW5jZXMgcGVyIGdyb3VwXG4gIGZpbGVBcHBlYXJhbmNlVG90YWxzPzogeyBbZmlsZW5hbWU6IHN0cmluZ106IG51bWJlciB9OyAgLy8gVG90YWwgYXBwZWFyYW5jZXMgKG1haW4gKyBLRVBUKSBwZXIgZmlsZW5hbWUgb24gY3VycmVudCBwYWdlXG4gIGtlcHRBcHBlYXJhbmNlT3JkZXI/OiB7IFtyZW1vdmVkRmlsZW5hbWU6IHN0cmluZ106IHsgW2tlcHRGaWxlbmFtZTogc3RyaW5nXTogbnVtYmVyIH0gfTsgIC8vIEFwcGVhcmFuY2UgaW5kZXggZm9yIEtFUFQgY2FyZHNcbiAgZ2xvYmFsRXhwYW5kU3RhdGU/OiBib29sZWFuOyAgLy8gR2xvYmFsIGV4cGFuZC9jb2xsYXBzZSBzdGF0ZSBjb250cm9sbGVkIGJ5IHBhcmVudFxufVxuXG5leHBvcnQgY29uc3QgR3JvdXBEaXNwbGF5OiBSZWFjdC5GQzxHcm91cERpc3BsYXlQcm9wcz4gPSAoe1xuICBzdWJqZWN0LFxuICBncm91cCxcbiAgZ3JvdXBJbmRleCxcbiAgdG90YWxHcm91cHMsXG4gIG9uU3VibWl0LFxuICBvblByZXZpb3VzLFxuICBvbk5leHQsXG4gIGNvbXBsZXRlZEdyb3VwcyA9IFtdLFxuICBvbkdvVG9OZXh0SW5jb21wbGV0ZSxcbiAgaW5pdGlhbENoZWNrZWRGaWxlcyxcbiAgb25GaWxlVG9nZ2xlLFxuICBjb25mbGljdGluZ0ZpbGVzID0gbmV3IFNldCgpLFxuICBmaWxlQXBwZWFyYW5jZUNvdW50cyA9IHt9LFxuICBmaWxlQXBwZWFyYW5jZU9yZGVyID0ge30sXG4gIGZpbGVBcHBlYXJhbmNlVG90YWxzID0ge30sXG4gIGtlcHRBcHBlYXJhbmNlT3JkZXIgPSB7fSxcbiAgZ2xvYmFsRXhwYW5kU3RhdGUgPSB0cnVlLCAgLy8gRGVmYXVsdCB0byBleHBhbmRlZCwgY29udHJvbGxlZCBieSBwYXJlbnRcbn0pID0+IHtcbiAgY29uc3QgZmlsZVN0YXR1c0NvbnRleHQgPSB1c2VGaWxlU3RhdHVzKCk7XG4gIGNvbnN0IGlzQ29tcGxldGVkID0gY29tcGxldGVkR3JvdXBzLmluY2x1ZGVzKGdyb3VwSW5kZXgpO1xuICBjb25zdCBbY2hlY2tlZEZpbGVzLCBzZXRDaGVja2VkRmlsZXNdID0gdXNlU3RhdGU8eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0+KHt9KTtcbiAgY29uc3QgW3N1Ym1pdHRpbmcsIHNldFN1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBVc2UgZ2xvYmFsRXhwYW5kU3RhdGUgZnJvbSBwYXJlbnQgaW5zdGVhZCBvZiBsb2NhbCBzdGF0ZVxuICBjb25zdCBncm91cEV4cGFuZGVkID0gZ2xvYmFsRXhwYW5kU3RhdGU7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJbml0aWFsaXplIGNoZWNrZWQgc3RhdGUgZnJvbSBDb250ZXh0IG9yIGluaXRpYWxDaGVja2VkRmlsZXNcbiAgICBjb25zdCBpbml0Q2hlY2tlZDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgICBcbiAgICBncm91cC5maWxlcy5mb3JFYWNoKGZpbGVuYW1lID0+IHtcbiAgICAgIGlmIChpbml0aWFsQ2hlY2tlZEZpbGVzICYmIGZpbGVuYW1lIGluIGluaXRpYWxDaGVja2VkRmlsZXMpIHtcbiAgICAgICAgLy8gUGFnZS1sZXZlbCBzZWxlY3Rpb24gKGZyb20gYXV0b1NlbGVjdGlvbnMgLyB1c2VyIHRvZ2dsZXMpIHdpbnNcbiAgICAgICAgaW5pdENoZWNrZWRbZmlsZW5hbWVdID0gaW5pdGlhbENoZWNrZWRGaWxlc1tmaWxlbmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVc2UgQ29udGV4dCB0byBnZXQgY2hlY2tlZCBzdGF0ZVxuICAgICAgICBpbml0Q2hlY2tlZFtmaWxlbmFtZV0gPSBmaWxlU3RhdHVzQ29udGV4dC5nZXRGaWxlQ2hlY2tlZChmaWxlbmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgc2V0Q2hlY2tlZEZpbGVzKGluaXRDaGVja2VkKTtcbiAgfSwgW2dyb3VwLCBzdWJqZWN0LCBpbml0aWFsQ2hlY2tlZEZpbGVzLCBmaWxlU3RhdHVzQ29udGV4dF0pO1xuXG4gIC8vIFVwZGF0ZSBDb250ZXh0IGFuZCBsb2NhbFN0b3JhZ2Ugd2hlbiB0b2dnbGluZ1xuICBjb25zdCBoYW5kbGVUb2dnbGUgPSAoZmlsZW5hbWU6IHN0cmluZywgY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgIHNldENoZWNrZWRGaWxlcyhwcmV2ID0+ICh7IC4uLnByZXYsIFtmaWxlbmFtZV06IGNoZWNrZWQgfSkpO1xuICAgIGZpbGVTdGF0dXNDb250ZXh0LnNldEZpbGVDaGVja2VkKGZpbGVuYW1lLCBjaGVja2VkKTtcblxuICAgIC8vIENhbGwgZXh0ZXJuYWwgdG9nZ2xlIGhhbmRsZXIgaWYgcHJvdmlkZWRcbiAgICBpZiAob25GaWxlVG9nZ2xlKSB7XG4gICAgICBvbkZpbGVUb2dnbGUoZmlsZW5hbWUsIGNoZWNrZWQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tlZExpc3QgPSBncm91cC5maWxlcy5maWx0ZXIoZiA9PiBjaGVja2VkRmlsZXNbZl0pO1xuICAgIGNvbnN0IHVuY2hlY2tlZExpc3QgPSBncm91cC5maWxlcy5maWx0ZXIoZiA9PiAhY2hlY2tlZEZpbGVzW2ZdKTtcblxuICAgIHNldFN1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaS5zdWJtaXRHcm91cChzdWJqZWN0LCBncm91cEluZGV4LCBjaGVja2VkTGlzdCk7XG4gICAgICBcbiAgICAgIC8vIE1hcmsgZ3JvdXAgYXMgY29tcGxldGVkXG4gICAgICBzdG9yYWdlLm1hcmtHcm91cENvbXBsZXRlZChzdWJqZWN0LCBncm91cEluZGV4KTtcbiAgICAgIFxuICAgICAgLy8gQ2FsbCBwYXJlbnQgY2FsbGJhY2sgKHBhcmVudCB3aWxsIHNob3cgdG9hc3QpXG4gICAgICBvblN1Ym1pdCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3VibWl0IGdyb3VwOicsIGVycm9yKTtcbiAgICAgIGFsZXJ0KCdFcnJvciBzdWJtaXR0aW5nIGdyb3VwJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZW1vdmVkIHRvZ2dsZUFsbCBhbmQgaGFuZGxlRXhwYW5kVG9nZ2xlIC0gbm93IGNvbnRyb2xsZWQgYnkgcGFyZW50IHZpYSBnbG9iYWxFeHBhbmRTdGF0ZVxuICAvLyBJbmRpdmlkdWFsIGNhcmRzIGNhbiBzdGlsbCB0b2dnbGUgdGhlbXNlbHZlcywgYnV0IHdlIGRvbid0IHN5bmMgaXQgYmFjayB0byBwYXJlbnRcbiAgY29uc3QgaGFuZGxlRXhwYW5kVG9nZ2xlID0gKGV4cGFuZGVkOiBib29sZWFuKSA9PiB7XG4gICAgLy8gSW5kaXZpZHVhbCBjYXJkIHRvZ2dsZXMgYXJlIGFsbG93ZWQsIGJ1dCB3ZSBkb24ndCB1cGRhdGUgcGFyZW50IHN0YXRlXG4gICAgLy8gVGhlIGdsb2JhbCB0b2dnbGUgYXQgdGhlIHRvcCBjb250cm9scyBhbGwgZ3JvdXBzXG4gIH07XG5cbiAgLy8gU29ydCBmaWxlcyBieSBzaW1pbGFyaXR5IHNjb3JlIChoaWdoZXN0IGZpcnN0KVxuICAvLyBGb3IgcGFpcndpc2UgZ3JvdXBzICgyIGZpbGVzKSwgYWxsIGZpbGVzIGhhdmUgdGhlIHNhbWUgc2ltaWxhcml0eSBzY29yZVxuICAvLyBGb3IgY29ubmVjdGVkIGNvbXBvbmVudHMsIHdlIGNhbiB1c2UgbWF4X3NpbWlsYXJpdHkgb3IganVzdCBrZWVwIG9yaWdpbmFsIG9yZGVyXG4gIGNvbnN0IHNvcnRlZEZpbGVzID0gWy4uLmdyb3VwLmZpbGVzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgLy8gSWYgc2ltaWxhcml0aWVzIGFycmF5IGV4aXN0cywgdXNlIGl0IChvbGQgZm9ybWF0KVxuICAgIGlmIChncm91cC5zaW1pbGFyaXRpZXMgJiYgZ3JvdXAuc2ltaWxhcml0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGdldE1heFNjb3JlID0gKGZpbGU6IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBzY29yZXMgPSBncm91cC5zaW1pbGFyaXRpZXMhXG4gICAgICAgICAgLmZpbHRlcihzID0+IHMuZmlsZTEgPT09IGZpbGUgfHwgcy5maWxlMiA9PT0gZmlsZSlcbiAgICAgICAgICAubWFwKHMgPT4gcy5zY29yZSk7XG4gICAgICAgIHJldHVybiBzY29yZXMubGVuZ3RoID4gMCA/IE1hdGgubWF4KC4uLnNjb3JlcykgOiAwO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBnZXRNYXhTY29yZShiKSAtIGdldE1heFNjb3JlKGEpO1xuICAgIH1cbiAgICBcbiAgICAvLyBPdGhlcndpc2UsIGZvciBwYWlyd2lzZSBncm91cHMsIGFsbCBmaWxlcyBoYXZlIHRoZSBzYW1lIHNpbWlsYXJpdHlcbiAgICAvLyBKdXN0IGtlZXAgb3JpZ2luYWwgb3JkZXIgKG9yIHNvcnQgYWxwaGFiZXRpY2FsbHkpXG4gICAgcmV0dXJuIDA7XG4gIH0pO1xuXG4gIGNvbnN0IGNoZWNrZWRDb3VudCA9IE9iamVjdC52YWx1ZXMoY2hlY2tlZEZpbGVzKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoO1xuICBjb25zdCB1bmNoZWNrZWRDb3VudCA9IGdyb3VwLmZpbGVzLmxlbmd0aCAtIGNoZWNrZWRDb3VudDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC02IG1iLTZcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGRcIj5cbiAgICAgICAgICAgICAgR3JvdXAge2dyb3VwSW5kZXggKyAxfSBvZiB7dG90YWxHcm91cHN9XG4gICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAge2lzQ29tcGxldGVkICYmIChcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmctZ3JlZW4tNTAwIHRleHQtd2hpdGUgdGV4dC1zbSBweC0zIHB5LTEgcm91bmRlZC1mdWxsXCI+XG4gICAgICAgICAgICAgICAg4pyTIENvbXBsZXRlZFxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIE1heCBTaW1pbGFyaXR5IC0gbW92ZWQgdG8gdG9wIGxlZnQgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICBNYXggU2ltaWxhcml0eTogPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPnsoZ3JvdXAubWF4X3NpbWlsYXJpdHkgKiAxMDApLnRvRml4ZWQoMSl9JTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgIHtvbkdvVG9OZXh0SW5jb21wbGV0ZSAmJiAoXG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkdvVG9OZXh0SW5jb21wbGV0ZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctYmx1ZS01MDAgaG92ZXI6YmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRleHQtc21cIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgR28gdG8gTmV4dCBJbmNvbXBsZXRlIOKGklxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7LyogU2F2ZS9SZW1vdmUgY291bnRzIC0gbW92ZWQgdG8gdG9wIHJpZ2h0ICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyZWVuLTYwMFwiPntjaGVja2VkQ291bnR9IHRvIHNhdmU8L3NwYW4+XG4gICAgICAgICAgICAgIHsnIC8gJ31cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LXJlZC02MDBcIj57dW5jaGVja2VkQ291bnR9IHRvIHJlbW92ZTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTUNRIENhcmRzIEdyaWQgKi99XG4gICAgICB7ZmlsZVN0YXR1c0NvbnRleHQubG9hZGluZ1N0YXR1c2VzIHx8IGZpbGVTdGF0dXNDb250ZXh0LmxvYWRpbmdNQ1FEYXRhID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHB5LTEyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTIgdy0xMiBib3JkZXItYi0yIGJvcmRlci1ibHVlLTYwMCBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAge2ZpbGVTdGF0dXNDb250ZXh0LmxvYWRpbmdTdGF0dXNlcyA/ICdMb2FkaW5nIGZpbGUgc3RhdHVzZXMuLi4nIDogJ0xvYWRpbmcgTUNRIGRhdGEuLi4nfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICkgOiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyBnYXAtNCBtYi02XCI+XG4gICAgICAgICAge3NvcnRlZEZpbGVzLm1hcChmaWxlbmFtZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaWxlU3RhdHVzID0gZmlsZVN0YXR1c0NvbnRleHQuZ2V0RmlsZVN0YXR1cyhmaWxlbmFtZSk7XG4gICAgICAgICAgICAvLyBOZXcgYmFkZ2UgbG9naWMgKG1haW4gY2FyZHMpOlxuICAgICAgICAgICAgLy8gLSBhcHBlYXJhbmNlVG90YWw6IGhvdyBtYW55IHRpbWVzIHRoaXMgZmlsZW5hbWUgYXBwZWFycyBvbiB0aGUgY3VycmVudCBwYWdlIChtYWluICsgS0VQVClcbiAgICAgICAgICAgIGNvbnN0IGFwcGVhcmFuY2VUb3RhbCA9IGZpbGVBcHBlYXJhbmNlVG90YWxzW2ZpbGVuYW1lXSB8fCAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8TUNRQ2FyZFxuICAgICAgICAgICAgICAgIGtleT17ZmlsZW5hbWV9XG4gICAgICAgICAgICAgICAgc3ViamVjdD17c3ViamVjdH1cbiAgICAgICAgICAgICAgICBmaWxlbmFtZT17ZmlsZW5hbWV9XG4gICAgICAgICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZEZpbGVzW2ZpbGVuYW1lXSA/PyBmaWxlU3RhdHVzQ29udGV4dC5nZXRGaWxlQ2hlY2tlZChmaWxlbmFtZSl9XG4gICAgICAgICAgICAgICAgc3RhdHVzPXtmaWxlU3RhdHVzPy5zdGF0dXMgfHwgJ3Vua25vd24nfVxuICAgICAgICAgICAgICAgIG9uVG9nZ2xlPXtoYW5kbGVUb2dnbGV9XG4gICAgICAgICAgICAgICAgZXhwYW5kZWQ9e2dyb3VwRXhwYW5kZWR9XG4gICAgICAgICAgICAgICAgb25FeHBhbmRUb2dnbGU9e2hhbmRsZUV4cGFuZFRvZ2dsZX1cbiAgICAgICAgICAgICAgICBhcHBlYXJhbmNlVG90YWw9e2FwcGVhcmFuY2VUb3RhbH1cbiAgICAgICAgICAgICAgICBhcHBlYXJhbmNlVG90YWxzPXtmaWxlQXBwZWFyYW5jZVRvdGFsc31cbiAgICAgICAgICAgICAgICBtY3FEYXRhPXtmaWxlU3RhdHVzPy5tY3FEYXRhfVxuICAgICAgICAgICAgICAgIHJlbW92YWxJbmZvPXtmaWxlU3RhdHVzPy5yZW1vdmFsSW5mb31cbiAgICAgICAgICAgICAgICBrZXB0RmlsZURhdGE9e2ZpbGVTdGF0dXM/LmtlcHRGaWxlRGF0YX1cbiAgICAgICAgICAgICAgICBoYXNDb25mbGljdD17Y29uZmxpY3RpbmdGaWxlcy5oYXMoZmlsZW5hbWUpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogTmF2aWdhdGlvbiBidXR0b25zIC0gSGlkZGVuIGluIE1vZGUgMyAocGFpcndpc2UpICovfVxuICAgICAge2ZhbHNlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcHQtNCBib3JkZXItdFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uUHJldmlvdXN9XG4gICAgICAgICAgICBkaXNhYmxlZD17IW9uUHJldmlvdXN9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTIgYmctZ3JheS0zMDAgaG92ZXI6YmctZ3JheS00MDAgZGlzYWJsZWQ6YmctZ3JheS0yMDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHJvdW5kZWQtbGdcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFByZXZpb3VzXG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9XG4gICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGluZ31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTggcHktMiBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCBkaXNhYmxlZDpiZy1ibHVlLTQwMCB0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgcm91bmRlZC1sZ1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3N1Ym1pdHRpbmcgPyAnU3VibWl0dGluZy4uLicgOiAnU3VibWl0IEdyb3VwJ31cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uTmV4dH1cbiAgICAgICAgICAgIGRpc2FibGVkPXshb25OZXh0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNiBweS0yIGJnLWdyYXktMzAwIGhvdmVyOmJnLWdyYXktNDAwIGRpc2FibGVkOmJnLWdyYXktMjAwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCByb3VuZGVkLWxnXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBOZXh0XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiTUNRQ2FyZCIsImFwaSIsInN0b3JhZ2UiLCJ1c2VGaWxlU3RhdHVzIiwiR3JvdXBEaXNwbGF5Iiwic3ViamVjdCIsImdyb3VwIiwiZ3JvdXBJbmRleCIsInRvdGFsR3JvdXBzIiwib25TdWJtaXQiLCJvblByZXZpb3VzIiwib25OZXh0IiwiY29tcGxldGVkR3JvdXBzIiwib25Hb1RvTmV4dEluY29tcGxldGUiLCJpbml0aWFsQ2hlY2tlZEZpbGVzIiwib25GaWxlVG9nZ2xlIiwiY29uZmxpY3RpbmdGaWxlcyIsIlNldCIsImZpbGVBcHBlYXJhbmNlQ291bnRzIiwiZmlsZUFwcGVhcmFuY2VPcmRlciIsImZpbGVBcHBlYXJhbmNlVG90YWxzIiwia2VwdEFwcGVhcmFuY2VPcmRlciIsImdsb2JhbEV4cGFuZFN0YXRlIiwiZmlsZVN0YXR1c0NvbnRleHQiLCJpc0NvbXBsZXRlZCIsImluY2x1ZGVzIiwiY2hlY2tlZEZpbGVzIiwic2V0Q2hlY2tlZEZpbGVzIiwic3VibWl0dGluZyIsInNldFN1Ym1pdHRpbmciLCJncm91cEV4cGFuZGVkIiwiaW5pdENoZWNrZWQiLCJmaWxlcyIsImZvckVhY2giLCJmaWxlbmFtZSIsImdldEZpbGVDaGVja2VkIiwiaGFuZGxlVG9nZ2xlIiwiY2hlY2tlZCIsInByZXYiLCJzZXRGaWxlQ2hlY2tlZCIsImhhbmRsZVN1Ym1pdCIsImNoZWNrZWRMaXN0IiwiZmlsdGVyIiwiZiIsInVuY2hlY2tlZExpc3QiLCJzdWJtaXRHcm91cCIsIm1hcmtHcm91cENvbXBsZXRlZCIsImVycm9yIiwiY29uc29sZSIsImFsZXJ0IiwiaGFuZGxlRXhwYW5kVG9nZ2xlIiwiZXhwYW5kZWQiLCJzb3J0ZWRGaWxlcyIsInNvcnQiLCJhIiwiYiIsInNpbWlsYXJpdGllcyIsImxlbmd0aCIsImdldE1heFNjb3JlIiwiZmlsZSIsInNjb3JlcyIsInMiLCJmaWxlMSIsImZpbGUyIiwibWFwIiwic2NvcmUiLCJNYXRoIiwibWF4IiwiY2hlY2tlZENvdW50IiwiT2JqZWN0IiwidmFsdWVzIiwiQm9vbGVhbiIsInVuY2hlY2tlZENvdW50IiwiZGl2IiwiY2xhc3NOYW1lIiwiaDIiLCJzcGFuIiwibWF4X3NpbWlsYXJpdHkiLCJ0b0ZpeGVkIiwiYnV0dG9uIiwib25DbGljayIsImxvYWRpbmdTdGF0dXNlcyIsImxvYWRpbmdNQ1FEYXRhIiwicCIsImZpbGVTdGF0dXMiLCJnZXRGaWxlU3RhdHVzIiwiYXBwZWFyYW5jZVRvdGFsIiwic3RhdHVzIiwib25Ub2dnbGUiLCJvbkV4cGFuZFRvZ2dsZSIsImFwcGVhcmFuY2VUb3RhbHMiLCJtY3FEYXRhIiwicmVtb3ZhbEluZm8iLCJrZXB0RmlsZURhdGEiLCJoYXNDb25mbGljdCIsImhhcyIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/GroupDisplay.tsx\n");

/***/ }),

/***/ "./components/KeptMCQCard.tsx":
/*!************************************!*\
  !*** ./components/KeptMCQCard.tsx ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeptMCQCard: () => (/* binding */ KeptMCQCard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/api */ \"./lib/api.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/storage */ \"./lib/storage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_api__WEBPACK_IMPORTED_MODULE_2__]);\n_lib_api__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst KeptMCQCard = ({ subject, filename, removedFilename, expanded: externalExpanded, onExpandToggle, mcqData: providedMcqData, checked: initialChecked = true, onToggle, status: initialStatus = \"saved\", appearanceTotal })=>{\n    const [internalExpanded, setInternalExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const expanded = externalExpanded !== undefined ? externalExpanded : internalExpanded;\n    const [mcqData, setMcqData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(providedMcqData || null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Get current checked state from localStorage (not local state)\n    // This ensures the checkbox reflects the pending change, not the actual file status\n    // Kept files should always default to checked (true) if not explicitly set\n    const getCurrentCheckedState = ()=>{\n        const session = _lib_storage__WEBPACK_IMPORTED_MODULE_3__.storage.loadSession(subject);\n        const cachedCheckedFiles = session?.checkedFiles || {};\n        // CRITICAL: Only read the value for THIS specific filename\n        // If there's a pending change in localStorage, use that; otherwise default to true (checked)\n        return cachedCheckedFiles[filename] !== undefined ? cachedCheckedFiles[filename] : true; // Default to checked for kept files\n    };\n    // Get current status from localStorage (actual file status, not pending)\n    const getCurrentStatus = ()=>{\n        const session = _lib_storage__WEBPACK_IMPORTED_MODULE_3__.storage.loadSession(subject);\n        const cachedStatuses = session?.fileStatuses || {};\n        // Use actual file status, not pending changes\n        return cachedStatuses[filename] === \"removed\" ? \"removed\" : cachedStatuses[filename] === \"saved\" ? \"saved\" : initialStatus;\n    };\n    const [checkedState, setCheckedState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>getCurrentCheckedState());\n    const [statusState, setStatusState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(()=>getCurrentStatus());\n    // Update state when localStorage changes (for checkbox responsiveness)\n    // NOTE: We use polling because localStorage changes in the same window don't trigger 'storage' events\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // CRITICAL: Capture filename in closure to ensure we're always checking the right file\n        const currentFilename = filename;\n        let lastCheckedValue = getCurrentCheckedState();\n        let lastStatusValue = getCurrentStatus();\n        const updateState = ()=>{\n            // CRITICAL: Re-read from localStorage using the captured filename\n            // This ensures each component instance only reads its own value\n            const session = _lib_storage__WEBPACK_IMPORTED_MODULE_3__.storage.loadSession(subject);\n            const cachedCheckedFiles = session?.checkedFiles || {};\n            const cachedStatuses = session?.fileStatuses || {};\n            const newChecked = cachedCheckedFiles[currentFilename] !== undefined ? cachedCheckedFiles[currentFilename] : true;\n            const newStatus = cachedStatuses[currentFilename] === \"removed\" ? \"removed\" : cachedStatuses[currentFilename] === \"saved\" ? \"saved\" : initialStatus;\n            // Only update if the value actually changed for THIS specific filename\n            // This prevents unnecessary re-renders and ensures each component only responds to its own changes\n            if (lastCheckedValue !== newChecked) {\n                setCheckedState(newChecked);\n                lastCheckedValue = newChecked;\n            }\n            if (lastStatusValue !== newStatus) {\n                setStatusState(newStatus);\n                lastStatusValue = newStatus;\n            }\n        };\n        // Update immediately\n        updateState();\n        // Also listen for storage events (if another tab/window changes it)\n        window.addEventListener(\"storage\", updateState);\n        // Poll localStorage periodically to catch changes from same window\n        // Use a longer interval to avoid performance issues\n        const interval = setInterval(updateState, 200);\n        return ()=>{\n            window.removeEventListener(\"storage\", updateState);\n            clearInterval(interval);\n        };\n    }, [\n        subject,\n        filename,\n        initialStatus\n    ]); // Include filename to recreate effect when it changes\n    const checked = checkedState;\n    const status = statusState;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // OPTIMIZED: Only load if data not provided\n        if (!providedMcqData) {\n            loadMCQData();\n        }\n    }, [\n        subject,\n        filename,\n        providedMcqData\n    ]);\n    // Update mcqData when providedMcqData changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (providedMcqData) {\n            setMcqData(providedMcqData);\n        }\n    }, [\n        providedMcqData\n    ]);\n    const loadMCQData = async ()=>{\n        setLoading(true);\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_2__.api.getMCQData(subject, filename);\n            setMcqData(response.data);\n        } catch (error) {\n            console.error(\"Failed to load kept MCQ data:\", error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    if (loading || !mcqData) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"border-2 border-purple-300 border-dashed rounded-lg p-4 bg-purple-50 shadow-sm\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-pulse\",\n                children: \"Loading kept file...\"\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                lineNumber: 146,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n            lineNumber: 145,\n            columnNumber: 7\n        }, undefined);\n    }\n    const mcq = mcqData.mcq?.[0] || {};\n    const statement = mcq.statement || mcqData.statement || \"\";\n    const options = mcq.options || {};\n    const correctOption = mcq.correct_option || \"\";\n    const oneLiner = mcq.one_liner || \"\";\n    // Check for year key at both top level and inside mcq array\n    const hasYear = \"year\" in mcqData && mcqData.year != null || mcq && \"year\" in mcq && mcq.year != null;\n    const bgColor = hasYear ? \"bg-green-50\" : \"bg-orange-50\";\n    const borderColor = hasYear ? \"border-green-300\" : \"border-orange-300\";\n    const borderStyle = hasYear ? \"border-dashed\" : \"border-solid\";\n    // Handler for expanding/collapsing card\n    const handleCardClick = ()=>{\n        const newExpanded = !expanded;\n        if (onExpandToggle) {\n            onExpandToggle(newExpanded);\n        } else {\n            setInternalExpanded(newExpanded);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `border-2 ${borderColor} ${borderStyle} rounded-lg p-4 ${bgColor} shadow-sm relative cursor-pointer`,\n        onClick: handleCardClick,\n        children: [\n            hasYear && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute -top-3 -left-3 bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xs font-bold shadow-lg border-2 border-white z-10\",\n                children: \"PP\"\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                lineNumber: 180,\n                columnNumber: 9\n            }, undefined),\n            appearanceTotal && appearanceTotal > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute -top-3 -right-3 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xs font-bold shadow-lg border-2 border-white z-10\",\n                children: [\n                    appearanceTotal,\n                    \"x\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                lineNumber: 187,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center mb-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white border-2 border-purple-400 rounded-lg px-4 py-2 shadow-md flex items-center gap-2\",\n                    children: [\n                        statusState === \"saved\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-green-600 font-bold text-lg\",\n                            children: \"✓\"\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                            lineNumber: 197,\n                            columnNumber: 13\n                        }, undefined),\n                        statusState === \"removed\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-red-600 font-bold text-lg\",\n                            children: \"✗\"\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                            lineNumber: 200,\n                            columnNumber: 13\n                        }, undefined),\n                        statusState === \"unknown\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-gray-400 font-bold text-lg\",\n                            children: \"○\"\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                            lineNumber: 203,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-gray-800 font-bold text-base\",\n                            children: filename\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                            lineNumber: 206,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                    lineNumber: 194,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                lineNumber: 193,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-start gap-3 mb-3\",\n                children: [\n                    onToggle && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"checkbox\",\n                        checked: checkedState,\n                        onChange: (e)=>{\n                            e.stopPropagation(); // Prevent card click when clicking checkbox\n                            const newChecked = e.target.checked;\n                            // CRITICAL: Capture filename in closure to ensure we update the correct file\n                            const currentFilename = filename;\n                            // Update local state immediately for UI responsiveness\n                            setCheckedState(newChecked);\n                            // CRITICAL: Update localStorage directly here using the captured filename\n                            // This ensures each KeptMCQCard instance updates only its own file\n                            _lib_storage__WEBPACK_IMPORTED_MODULE_3__.storage.updateCheckedFiles(subject, currentFilename, newChecked);\n                            // Call onToggle if provided (this is handleKeptFileToggle from MCQCard)\n                            // handleKeptFileToggle will only update localStorage, not parent state\n                            if (onToggle) {\n                                // Ensure we're passing the correct filename (this component's filename, not removedFilename)\n                                onToggle(currentFilename, newChecked);\n                            }\n                        },\n                        className: \"mt-1 w-5 h-5 cursor-pointer\",\n                        title: checkedState ? \"Uncheck to move this file to removed folder\" : \"Check to move this file back to saved folder\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                        lineNumber: 214,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-2 p-2 bg-purple-100 border border-purple-300 rounded text-xs\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-purple-700 font-bold\",\n                                            children: \"✓ KEPT\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                            lineNumber: 246,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-600\",\n                                            children: \"when\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                            lineNumber: 247,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-red-600 font-semibold\",\n                                            children: removedFilename\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                            lineNumber: 248,\n                                            columnNumber: 15\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-600\",\n                                            children: \"was removed\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                            lineNumber: 249,\n                                            columnNumber: 15\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                    lineNumber: 245,\n                                    columnNumber: 13\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                lineNumber: 244,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-gray-800 font-medium\",\n                                children: statement\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                lineNumber: 254,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                        lineNumber: 242,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: (e)=>{\n                            e.stopPropagation(); // Prevent card click when clicking button\n                            handleCardClick();\n                        },\n                        className: \"text-blue-600 hover:text-blue-800 font-bold text-xl\",\n                        children: expanded ? \"−\" : \"+\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                        lineNumber: 260,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                lineNumber: 211,\n                columnNumber: 7\n            }, undefined),\n            expanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 pt-4 border-t border-gray-300 space-y-3\",\n                children: [\n                    Object.keys(options).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"font-semibold mb-2\",\n                                children: \"Options:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                lineNumber: 277,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: Object.entries(options).map(([key, value])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: correctOption === key ? \"font-bold text-green-700\" : \"text-gray-700\",\n                                        children: [\n                                            key,\n                                            \") \",\n                                            value\n                                        ]\n                                    }, key, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                        lineNumber: 280,\n                                        columnNumber: 19\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                                lineNumber: 278,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                        lineNumber: 276,\n                        columnNumber: 13\n                    }, undefined),\n                    hasYear && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-600\",\n                        children: [\n                            \"Year: \",\n                            mcqData.year\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                        lineNumber: 293,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n                lineNumber: 273,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/testpoint/frontend/components/KeptMCQCard.tsx\",\n        lineNumber: 174,\n        columnNumber: 5\n    }, undefined);\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMzQixTQUFTNEIsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsS0FBS0MsTUFBTSxpQkFDeEMsOERBQUNsQzt3Q0FFQ0MsV0FBV0ksa0JBQWtCNEIsTUFBTSw2QkFBNkI7OzRDQUUvREE7NENBQUk7NENBQUdDOzt1Q0FISEQ7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBV2R4Qix5QkFDQyw4REFBQ1Q7d0JBQUlDLFdBQVU7OzRCQUF3Qjs0QkFDOUI3QyxRQUFRc0QsSUFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9qQyxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWNxLWRlZHVwbGljYXRpb24tZnJvbnRlbmQvLi9jb21wb25lbnRzL0tlcHRNQ1FDYXJkLnRzeD8zN2M3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYXBpIH0gZnJvbSAnLi4vbGliL2FwaSc7XG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSAnLi4vbGliL3N0b3JhZ2UnO1xuXG5pbnRlcmZhY2UgS2VwdE1DUUNhcmRQcm9wcyB7XG4gIHN1YmplY3Q6IHN0cmluZztcbiAgZmlsZW5hbWU6IHN0cmluZztcbiAgcmVtb3ZlZEZpbGVuYW1lOiBzdHJpbmc7XG4gIGV4cGFuZGVkPzogYm9vbGVhbjtcbiAgb25FeHBhbmRUb2dnbGU/OiAoZXhwYW5kZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIG1jcURhdGE/OiBhbnk7ICAvLyBPUFRJTUlaRUQ6IE9wdGlvbmFsIHByb3AgdG8gYXZvaWQgQVBJIGNhbGwgaWYgZGF0YSBwcm92aWRlZFxuICBjaGVja2VkPzogYm9vbGVhbjsgIC8vIFdoZXRoZXIgdGhpcyBrZXB0IGZpbGUgaXMgY3VycmVudGx5IGNoZWNrZWQgKHNhdmVkKVxuICBvblRvZ2dsZT86IChmaWxlbmFtZTogc3RyaW5nLCBjaGVja2VkOiBib29sZWFuKSA9PiB2b2lkOyAgLy8gVG9nZ2xlIGhhbmRsZXIgdG8gbW92ZSBmaWxlIGJldHdlZW4gc2F2ZWQvcmVtb3ZlZFxuICBzdGF0dXM/OiAnc2F2ZWQnIHwgJ3JlbW92ZWQnIHwgJ3Vua25vd24nOyAgLy8gQ3VycmVudCBzdGF0dXMgb2YgdGhlIGtlcHQgZmlsZVxuICAgYXBwZWFyYW5jZVRvdGFsPzogbnVtYmVyOyAgLy8gbjogdG90YWwgYXBwZWFyYW5jZXMgb2YgdGhpcyBmaWxlbmFtZSBvbiBwYWdlIChtYWluICsgS0VQVClcbn1cblxuZXhwb3J0IGNvbnN0IEtlcHRNQ1FDYXJkOiBSZWFjdC5GQzxLZXB0TUNRQ2FyZFByb3BzPiA9ICh7IFxuICBzdWJqZWN0LCBcbiAgZmlsZW5hbWUsXG4gIHJlbW92ZWRGaWxlbmFtZSxcbiAgZXhwYW5kZWQ6IGV4dGVybmFsRXhwYW5kZWQsXG4gIG9uRXhwYW5kVG9nZ2xlLFxuICBtY3FEYXRhOiBwcm92aWRlZE1jcURhdGEsICAvLyBPUFRJTUlaRUQ6IFVzZSBwcm92aWRlZCBkYXRhIGlmIGF2YWlsYWJsZVxuICBjaGVja2VkOiBpbml0aWFsQ2hlY2tlZCA9IHRydWUsICAvLyBEZWZhdWx0IHRvIGNoZWNrZWQgKHNhdmVkKSBzaW5jZSBpdCdzIGEga2VwdCBmaWxlXG4gIG9uVG9nZ2xlLFxuICBzdGF0dXM6IGluaXRpYWxTdGF0dXMgPSAnc2F2ZWQnLCAgLy8gRGVmYXVsdCB0byBzYXZlZCBzaW5jZSBpdCdzIGEga2VwdCBmaWxlXG4gIGFwcGVhcmFuY2VUb3RhbFxufSkgPT4ge1xuICBjb25zdCBbaW50ZXJuYWxFeHBhbmRlZCwgc2V0SW50ZXJuYWxFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGV4cGFuZGVkID0gZXh0ZXJuYWxFeHBhbmRlZCAhPT0gdW5kZWZpbmVkID8gZXh0ZXJuYWxFeHBhbmRlZCA6IGludGVybmFsRXhwYW5kZWQ7XG4gIGNvbnN0IFttY3FEYXRhLCBzZXRNY3FEYXRhXSA9IHVzZVN0YXRlPGFueT4ocHJvdmlkZWRNY3FEYXRhIHx8IG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBHZXQgY3VycmVudCBjaGVja2VkIHN0YXRlIGZyb20gbG9jYWxTdG9yYWdlIChub3QgbG9jYWwgc3RhdGUpXG4gIC8vIFRoaXMgZW5zdXJlcyB0aGUgY2hlY2tib3ggcmVmbGVjdHMgdGhlIHBlbmRpbmcgY2hhbmdlLCBub3QgdGhlIGFjdHVhbCBmaWxlIHN0YXR1c1xuICAvLyBLZXB0IGZpbGVzIHNob3VsZCBhbHdheXMgZGVmYXVsdCB0byBjaGVja2VkICh0cnVlKSBpZiBub3QgZXhwbGljaXRseSBzZXRcbiAgY29uc3QgZ2V0Q3VycmVudENoZWNrZWRTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBzZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICBjb25zdCBjYWNoZWRDaGVja2VkRmlsZXMgPSBzZXNzaW9uPy5jaGVja2VkRmlsZXMgfHwge307XG4gICAgLy8gQ1JJVElDQUw6IE9ubHkgcmVhZCB0aGUgdmFsdWUgZm9yIFRISVMgc3BlY2lmaWMgZmlsZW5hbWVcbiAgICAvLyBJZiB0aGVyZSdzIGEgcGVuZGluZyBjaGFuZ2UgaW4gbG9jYWxTdG9yYWdlLCB1c2UgdGhhdDsgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gdHJ1ZSAoY2hlY2tlZClcbiAgICByZXR1cm4gY2FjaGVkQ2hlY2tlZEZpbGVzW2ZpbGVuYW1lXSAhPT0gdW5kZWZpbmVkIFxuICAgICAgPyBjYWNoZWRDaGVja2VkRmlsZXNbZmlsZW5hbWVdIFxuICAgICAgOiB0cnVlOyAgLy8gRGVmYXVsdCB0byBjaGVja2VkIGZvciBrZXB0IGZpbGVzXG4gIH07XG4gIFxuICAvLyBHZXQgY3VycmVudCBzdGF0dXMgZnJvbSBsb2NhbFN0b3JhZ2UgKGFjdHVhbCBmaWxlIHN0YXR1cywgbm90IHBlbmRpbmcpXG4gIGNvbnN0IGdldEN1cnJlbnRTdGF0dXMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHN0b3JhZ2UubG9hZFNlc3Npb24oc3ViamVjdCk7XG4gICAgY29uc3QgY2FjaGVkU3RhdHVzZXMgPSBzZXNzaW9uPy5maWxlU3RhdHVzZXMgfHwge307XG4gICAgLy8gVXNlIGFjdHVhbCBmaWxlIHN0YXR1cywgbm90IHBlbmRpbmcgY2hhbmdlc1xuICAgIHJldHVybiAoY2FjaGVkU3RhdHVzZXNbZmlsZW5hbWVdID09PSAncmVtb3ZlZCcgPyAncmVtb3ZlZCcgOiBcbiAgICAgICAgICAgIGNhY2hlZFN0YXR1c2VzW2ZpbGVuYW1lXSA9PT0gJ3NhdmVkJyA/ICdzYXZlZCcgOiBcbiAgICAgICAgICAgIGluaXRpYWxTdGF0dXMpIGFzICdzYXZlZCcgfCAncmVtb3ZlZCcgfCAndW5rbm93bic7XG4gIH07XG4gIFxuICBjb25zdCBbY2hlY2tlZFN0YXRlLCBzZXRDaGVja2VkU3RhdGVdID0gdXNlU3RhdGUoKCkgPT4gZ2V0Q3VycmVudENoZWNrZWRTdGF0ZSgpKTtcbiAgY29uc3QgW3N0YXR1c1N0YXRlLCBzZXRTdGF0dXNTdGF0ZV0gPSB1c2VTdGF0ZSgoKSA9PiBnZXRDdXJyZW50U3RhdHVzKCkpO1xuICBcbiAgLy8gVXBkYXRlIHN0YXRlIHdoZW4gbG9jYWxTdG9yYWdlIGNoYW5nZXMgKGZvciBjaGVja2JveCByZXNwb25zaXZlbmVzcylcbiAgLy8gTk9URTogV2UgdXNlIHBvbGxpbmcgYmVjYXVzZSBsb2NhbFN0b3JhZ2UgY2hhbmdlcyBpbiB0aGUgc2FtZSB3aW5kb3cgZG9uJ3QgdHJpZ2dlciAnc3RvcmFnZScgZXZlbnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ1JJVElDQUw6IENhcHR1cmUgZmlsZW5hbWUgaW4gY2xvc3VyZSB0byBlbnN1cmUgd2UncmUgYWx3YXlzIGNoZWNraW5nIHRoZSByaWdodCBmaWxlXG4gICAgY29uc3QgY3VycmVudEZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgXG4gICAgbGV0IGxhc3RDaGVja2VkVmFsdWUgPSBnZXRDdXJyZW50Q2hlY2tlZFN0YXRlKCk7XG4gICAgbGV0IGxhc3RTdGF0dXNWYWx1ZSA9IGdldEN1cnJlbnRTdGF0dXMoKTtcbiAgICBcbiAgICBjb25zdCB1cGRhdGVTdGF0ZSA9ICgpID0+IHtcbiAgICAgIC8vIENSSVRJQ0FMOiBSZS1yZWFkIGZyb20gbG9jYWxTdG9yYWdlIHVzaW5nIHRoZSBjYXB0dXJlZCBmaWxlbmFtZVxuICAgICAgLy8gVGhpcyBlbnN1cmVzIGVhY2ggY29tcG9uZW50IGluc3RhbmNlIG9ubHkgcmVhZHMgaXRzIG93biB2YWx1ZVxuICAgICAgY29uc3Qgc2Vzc2lvbiA9IHN0b3JhZ2UubG9hZFNlc3Npb24oc3ViamVjdCk7XG4gICAgICBjb25zdCBjYWNoZWRDaGVja2VkRmlsZXMgPSBzZXNzaW9uPy5jaGVja2VkRmlsZXMgfHwge307XG4gICAgICBjb25zdCBjYWNoZWRTdGF0dXNlcyA9IHNlc3Npb24/LmZpbGVTdGF0dXNlcyB8fCB7fTtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3Q2hlY2tlZCA9IGNhY2hlZENoZWNrZWRGaWxlc1tjdXJyZW50RmlsZW5hbWVdICE9PSB1bmRlZmluZWQgXG4gICAgICAgID8gY2FjaGVkQ2hlY2tlZEZpbGVzW2N1cnJlbnRGaWxlbmFtZV0gXG4gICAgICAgIDogdHJ1ZTtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3U3RhdHVzID0gKGNhY2hlZFN0YXR1c2VzW2N1cnJlbnRGaWxlbmFtZV0gPT09ICdyZW1vdmVkJyA/ICdyZW1vdmVkJyA6IFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVkU3RhdHVzZXNbY3VycmVudEZpbGVuYW1lXSA9PT0gJ3NhdmVkJyA/ICdzYXZlZCcgOiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxTdGF0dXMpIGFzICdzYXZlZCcgfCAncmVtb3ZlZCcgfCAndW5rbm93bic7XG4gICAgICBcbiAgICAgIC8vIE9ubHkgdXBkYXRlIGlmIHRoZSB2YWx1ZSBhY3R1YWxseSBjaGFuZ2VkIGZvciBUSElTIHNwZWNpZmljIGZpbGVuYW1lXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIHVubmVjZXNzYXJ5IHJlLXJlbmRlcnMgYW5kIGVuc3VyZXMgZWFjaCBjb21wb25lbnQgb25seSByZXNwb25kcyB0byBpdHMgb3duIGNoYW5nZXNcbiAgICAgIGlmIChsYXN0Q2hlY2tlZFZhbHVlICE9PSBuZXdDaGVja2VkKSB7XG4gICAgICAgIHNldENoZWNrZWRTdGF0ZShuZXdDaGVja2VkKTtcbiAgICAgICAgbGFzdENoZWNrZWRWYWx1ZSA9IG5ld0NoZWNrZWQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChsYXN0U3RhdHVzVmFsdWUgIT09IG5ld1N0YXR1cykge1xuICAgICAgICBzZXRTdGF0dXNTdGF0ZShuZXdTdGF0dXMpO1xuICAgICAgICBsYXN0U3RhdHVzVmFsdWUgPSBuZXdTdGF0dXM7XG4gICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyBVcGRhdGUgaW1tZWRpYXRlbHlcbiAgICB1cGRhdGVTdGF0ZSgpO1xuICAgIFxuICAgIC8vIEFsc28gbGlzdGVuIGZvciBzdG9yYWdlIGV2ZW50cyAoaWYgYW5vdGhlciB0YWIvd2luZG93IGNoYW5nZXMgaXQpXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3N0b3JhZ2UnLCB1cGRhdGVTdGF0ZSk7XG4gICAgXG4gICAgLy8gUG9sbCBsb2NhbFN0b3JhZ2UgcGVyaW9kaWNhbGx5IHRvIGNhdGNoIGNoYW5nZXMgZnJvbSBzYW1lIHdpbmRvd1xuICAgIC8vIFVzZSBhIGxvbmdlciBpbnRlcnZhbCB0byBhdm9pZCBwZXJmb3JtYW5jZSBpc3N1ZXNcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZVN0YXRlLCAyMDApO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIHVwZGF0ZVN0YXRlKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFtzdWJqZWN0LCBmaWxlbmFtZSwgaW5pdGlhbFN0YXR1c10pOyAvLyBJbmNsdWRlIGZpbGVuYW1lIHRvIHJlY3JlYXRlIGVmZmVjdCB3aGVuIGl0IGNoYW5nZXNcbiAgXG4gIGNvbnN0IGNoZWNrZWQgPSBjaGVja2VkU3RhdGU7XG4gIGNvbnN0IHN0YXR1cyA9IHN0YXR1c1N0YXRlO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gT1BUSU1JWkVEOiBPbmx5IGxvYWQgaWYgZGF0YSBub3QgcHJvdmlkZWRcbiAgICBpZiAoIXByb3ZpZGVkTWNxRGF0YSkge1xuICAgICAgbG9hZE1DUURhdGEoKTtcbiAgICB9XG4gIH0sIFtzdWJqZWN0LCBmaWxlbmFtZSwgcHJvdmlkZWRNY3FEYXRhXSk7XG5cbiAgLy8gVXBkYXRlIG1jcURhdGEgd2hlbiBwcm92aWRlZE1jcURhdGEgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcm92aWRlZE1jcURhdGEpIHtcbiAgICAgIHNldE1jcURhdGEocHJvdmlkZWRNY3FEYXRhKTtcbiAgICB9XG4gIH0sIFtwcm92aWRlZE1jcURhdGFdKTtcblxuICBjb25zdCBsb2FkTUNRRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5nZXRNQ1FEYXRhKHN1YmplY3QsIGZpbGVuYW1lKTtcbiAgICAgIHNldE1jcURhdGEocmVzcG9uc2UuZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGtlcHQgTUNRIGRhdGE6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKGxvYWRpbmcgfHwgIW1jcURhdGEpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItMiBib3JkZXItcHVycGxlLTMwMCBib3JkZXItZGFzaGVkIHJvdW5kZWQtbGcgcC00IGJnLXB1cnBsZS01MCBzaGFkb3ctc21cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXB1bHNlXCI+TG9hZGluZyBrZXB0IGZpbGUuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBtY3EgPSBtY3FEYXRhLm1jcT8uWzBdIHx8IHt9O1xuICBjb25zdCBzdGF0ZW1lbnQgPSBtY3Euc3RhdGVtZW50IHx8IG1jcURhdGEuc3RhdGVtZW50IHx8ICcnO1xuICBjb25zdCBvcHRpb25zID0gbWNxLm9wdGlvbnMgfHwge307XG4gIGNvbnN0IGNvcnJlY3RPcHRpb24gPSBtY3EuY29ycmVjdF9vcHRpb24gfHwgJyc7XG4gIGNvbnN0IG9uZUxpbmVyID0gbWNxLm9uZV9saW5lciB8fCAnJztcbiAgLy8gQ2hlY2sgZm9yIHllYXIga2V5IGF0IGJvdGggdG9wIGxldmVsIGFuZCBpbnNpZGUgbWNxIGFycmF5XG4gIGNvbnN0IGhhc1llYXIgPSAoJ3llYXInIGluIG1jcURhdGEgJiYgbWNxRGF0YS55ZWFyICE9IG51bGwpIHx8IChtY3EgJiYgJ3llYXInIGluIG1jcSAmJiBtY3EueWVhciAhPSBudWxsKTtcblxuICBjb25zdCBiZ0NvbG9yID0gaGFzWWVhciA/ICdiZy1ncmVlbi01MCcgOiAnYmctb3JhbmdlLTUwJztcbiAgY29uc3QgYm9yZGVyQ29sb3IgPSBoYXNZZWFyID8gJ2JvcmRlci1ncmVlbi0zMDAnIDogJ2JvcmRlci1vcmFuZ2UtMzAwJztcbiAgY29uc3QgYm9yZGVyU3R5bGUgPSBoYXNZZWFyID8gJ2JvcmRlci1kYXNoZWQnIDogJ2JvcmRlci1zb2xpZCc7XG5cbiAgLy8gSGFuZGxlciBmb3IgZXhwYW5kaW5nL2NvbGxhcHNpbmcgY2FyZFxuICBjb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgbmV3RXhwYW5kZWQgPSAhZXhwYW5kZWQ7XG4gICAgaWYgKG9uRXhwYW5kVG9nZ2xlKSB7XG4gICAgICBvbkV4cGFuZFRvZ2dsZShuZXdFeHBhbmRlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEludGVybmFsRXhwYW5kZWQobmV3RXhwYW5kZWQpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgXG4gICAgICBjbGFzc05hbWU9e2Bib3JkZXItMiAke2JvcmRlckNvbG9yfSAke2JvcmRlclN0eWxlfSByb3VuZGVkLWxnIHAtNCAke2JnQ29sb3J9IHNoYWRvdy1zbSByZWxhdGl2ZSBjdXJzb3ItcG9pbnRlcmB9XG4gICAgICBvbkNsaWNrPXtoYW5kbGVDYXJkQ2xpY2t9XG4gICAgPlxuICAgICAgey8qIFBQIGJhZGdlOiBzaG93cyBpZiBNQ1EgaGFzIFwieWVhclwiIGtleSAqL31cbiAgICAgIHtoYXNZZWFyICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTMgLWxlZnQtMyBiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCB3LTggaC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHMgZm9udC1ib2xkIHNoYWRvdy1sZyBib3JkZXItMiBib3JkZXItd2hpdGUgei0xMFwiPlxuICAgICAgICAgIFBQXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIENvdW50IGJhZGdlIChLRVBUIGNhcmQpOiBueCA9IHRvdGFsIGFwcGVhcmFuY2VzIG9mIHRoaXMgZmlsZW5hbWUgb24gY3VycmVudCBwYWdlICovfVxuICAgICAge2FwcGVhcmFuY2VUb3RhbCAmJiBhcHBlYXJhbmNlVG90YWwgPiAxICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTMgLXJpZ2h0LTMgYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCB3LTggaC04IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHMgZm9udC1ib2xkIHNoYWRvdy1sZyBib3JkZXItMiBib3JkZXItd2hpdGUgei0xMFwiPlxuICAgICAgICAgIHthcHBlYXJhbmNlVG90YWx9eFxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICBcbiAgICAgIHsvKiBGaWxlbmFtZSBib3ggYXQgdG9wIGNlbnRlciB3aXRoIHN0YXR1cyBpbmRpY2F0b3IgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgbWItM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGJvcmRlci0yIGJvcmRlci1wdXJwbGUtNDAwIHJvdW5kZWQtbGcgcHgtNCBweS0yIHNoYWRvdy1tZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIHsvKiBTdGF0dXMgaW5kaWNhdG9yICh0aWNrL2Nyb3NzL25vIG1hcmspICovfVxuICAgICAgICAgIHtzdGF0dXNTdGF0ZSA9PT0gJ3NhdmVkJyAmJiAoXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTYwMCBmb250LWJvbGQgdGV4dC1sZ1wiPuKckzwvc3Bhbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtzdGF0dXNTdGF0ZSA9PT0gJ3JlbW92ZWQnICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCBmb250LWJvbGQgdGV4dC1sZ1wiPuKclzwvc3Bhbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIHtzdGF0dXNTdGF0ZSA9PT0gJ3Vua25vd24nICYmIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgZm9udC1ib2xkIHRleHQtbGdcIj7il4s8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7LyogRmlsZW5hbWUgLSBoaWdobGlnaHRlZCAqL31cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktODAwIGZvbnQtYm9sZCB0ZXh0LWJhc2VcIj57ZmlsZW5hbWV9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7LyogSGVhZGVyIHdpdGggbGFiZWwgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTMgbWItM1wiPlxuICAgICAgICB7LyogQ2hlY2tib3ggdG8gdG9nZ2xlIGtlcHQgZmlsZSBiZXR3ZWVuIHNhdmVkL3JlbW92ZWQgKi99XG4gICAgICAgIHtvblRvZ2dsZSAmJiAoXG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgY2hlY2tlZD17Y2hlY2tlZFN0YXRlfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFByZXZlbnQgY2FyZCBjbGljayB3aGVuIGNsaWNraW5nIGNoZWNrYm94XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0NoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ1JJVElDQUw6IENhcHR1cmUgZmlsZW5hbWUgaW4gY2xvc3VyZSB0byBlbnN1cmUgd2UgdXBkYXRlIHRoZSBjb3JyZWN0IGZpbGVcbiAgICAgICAgICAgICAgY29uc3QgY3VycmVudEZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGUgaW1tZWRpYXRlbHkgZm9yIFVJIHJlc3BvbnNpdmVuZXNzXG4gICAgICAgICAgICAgIHNldENoZWNrZWRTdGF0ZShuZXdDaGVja2VkKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENSSVRJQ0FMOiBVcGRhdGUgbG9jYWxTdG9yYWdlIGRpcmVjdGx5IGhlcmUgdXNpbmcgdGhlIGNhcHR1cmVkIGZpbGVuYW1lXG4gICAgICAgICAgICAgIC8vIFRoaXMgZW5zdXJlcyBlYWNoIEtlcHRNQ1FDYXJkIGluc3RhbmNlIHVwZGF0ZXMgb25seSBpdHMgb3duIGZpbGVcbiAgICAgICAgICAgICAgc3RvcmFnZS51cGRhdGVDaGVja2VkRmlsZXMoc3ViamVjdCwgY3VycmVudEZpbGVuYW1lLCBuZXdDaGVja2VkKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENhbGwgb25Ub2dnbGUgaWYgcHJvdmlkZWQgKHRoaXMgaXMgaGFuZGxlS2VwdEZpbGVUb2dnbGUgZnJvbSBNQ1FDYXJkKVxuICAgICAgICAgICAgICAvLyBoYW5kbGVLZXB0RmlsZVRvZ2dsZSB3aWxsIG9ubHkgdXBkYXRlIGxvY2FsU3RvcmFnZSwgbm90IHBhcmVudCBzdGF0ZVxuICAgICAgICAgICAgICBpZiAob25Ub2dnbGUpIHtcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgd2UncmUgcGFzc2luZyB0aGUgY29ycmVjdCBmaWxlbmFtZSAodGhpcyBjb21wb25lbnQncyBmaWxlbmFtZSwgbm90IHJlbW92ZWRGaWxlbmFtZSlcbiAgICAgICAgICAgICAgICBvblRvZ2dsZShjdXJyZW50RmlsZW5hbWUsIG5ld0NoZWNrZWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMSB3LTUgaC01IGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgIHRpdGxlPXtjaGVja2VkU3RhdGUgPyBcIlVuY2hlY2sgdG8gbW92ZSB0aGlzIGZpbGUgdG8gcmVtb3ZlZCBmb2xkZXJcIiA6IFwiQ2hlY2sgdG8gbW92ZSB0aGlzIGZpbGUgYmFjayB0byBzYXZlZCBmb2xkZXJcIn1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgIHsvKiBMYWJlbCBpbmRpY2F0aW5nIHRoaXMgd2FzIGtlcHQgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yIHAtMiBiZy1wdXJwbGUtMTAwIGJvcmRlciBib3JkZXItcHVycGxlLTMwMCByb3VuZGVkIHRleHQteHNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1wdXJwbGUtNzAwIGZvbnQtYm9sZFwiPuKckyBLRVBUPC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+d2hlbjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGZvbnQtc2VtaWJvbGRcIj57cmVtb3ZlZEZpbGVuYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPndhcyByZW1vdmVkPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFN0YXRlbWVudCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS04MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgIHtzdGF0ZW1lbnR9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBFeHBhbmQvY29sbGFwc2UgYnV0dG9uICovfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFByZXZlbnQgY2FyZCBjbGljayB3aGVuIGNsaWNraW5nIGJ1dHRvblxuICAgICAgICAgICAgaGFuZGxlQ2FyZENsaWNrKCk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnRleHQtYmx1ZS04MDAgZm9udC1ib2xkIHRleHQteGxcIlxuICAgICAgICA+XG4gICAgICAgICAge2V4cGFuZGVkID8gJ+KIkicgOiAnKyd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBFeHBhbmRhYmxlIGNvbnRlbnQgKi99XG4gICAgICB7ZXhwYW5kZWQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcHQtNCBib3JkZXItdCBib3JkZXItZ3JheS0zMDAgc3BhY2UteS0zXCI+XG4gICAgICAgICAgey8qIE9wdGlvbnMgKi99XG4gICAgICAgICAge09iamVjdC5rZXlzKG9wdGlvbnMpLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMlwiPk9wdGlvbnM6PC9oND5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMob3B0aW9ucykubWFwKChba2V5LCB2YWx1ZV0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgIGtleT17a2V5fSBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjb3JyZWN0T3B0aW9uID09PSBrZXkgPyAnZm9udC1ib2xkIHRleHQtZ3JlZW4tNzAwJyA6ICd0ZXh0LWdyYXktNzAwJ31cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2tleX0pIHt2YWx1ZSBhcyBzdHJpbmd9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIFllYXIgaWYgZXhpc3RzICovfVxuICAgICAgICAgIHtoYXNZZWFyICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgIFllYXI6IHttY3FEYXRhLnllYXJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsImFwaSIsInN0b3JhZ2UiLCJLZXB0TUNRQ2FyZCIsInN1YmplY3QiLCJmaWxlbmFtZSIsInJlbW92ZWRGaWxlbmFtZSIsImV4cGFuZGVkIiwiZXh0ZXJuYWxFeHBhbmRlZCIsIm9uRXhwYW5kVG9nZ2xlIiwibWNxRGF0YSIsInByb3ZpZGVkTWNxRGF0YSIsImNoZWNrZWQiLCJpbml0aWFsQ2hlY2tlZCIsIm9uVG9nZ2xlIiwic3RhdHVzIiwiaW5pdGlhbFN0YXR1cyIsImFwcGVhcmFuY2VUb3RhbCIsImludGVybmFsRXhwYW5kZWQiLCJzZXRJbnRlcm5hbEV4cGFuZGVkIiwidW5kZWZpbmVkIiwic2V0TWNxRGF0YSIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZ2V0Q3VycmVudENoZWNrZWRTdGF0ZSIsInNlc3Npb24iLCJsb2FkU2Vzc2lvbiIsImNhY2hlZENoZWNrZWRGaWxlcyIsImNoZWNrZWRGaWxlcyIsImdldEN1cnJlbnRTdGF0dXMiLCJjYWNoZWRTdGF0dXNlcyIsImZpbGVTdGF0dXNlcyIsImNoZWNrZWRTdGF0ZSIsInNldENoZWNrZWRTdGF0ZSIsInN0YXR1c1N0YXRlIiwic2V0U3RhdHVzU3RhdGUiLCJjdXJyZW50RmlsZW5hbWUiLCJsYXN0Q2hlY2tlZFZhbHVlIiwibGFzdFN0YXR1c1ZhbHVlIiwidXBkYXRlU3RhdGUiLCJuZXdDaGVja2VkIiwibmV3U3RhdHVzIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xlYXJJbnRlcnZhbCIsImxvYWRNQ1FEYXRhIiwicmVzcG9uc2UiLCJnZXRNQ1FEYXRhIiwiZGF0YSIsImVycm9yIiwiY29uc29sZSIsImRpdiIsImNsYXNzTmFtZSIsIm1jcSIsInN0YXRlbWVudCIsIm9wdGlvbnMiLCJjb3JyZWN0T3B0aW9uIiwiY29ycmVjdF9vcHRpb24iLCJvbmVMaW5lciIsIm9uZV9saW5lciIsImhhc1llYXIiLCJ5ZWFyIiwiYmdDb2xvciIsImJvcmRlckNvbG9yIiwiYm9yZGVyU3R5bGUiLCJoYW5kbGVDYXJkQ2xpY2siLCJuZXdFeHBhbmRlZCIsIm9uQ2xpY2siLCJzcGFuIiwiaW5wdXQiLCJ0eXBlIiwib25DaGFuZ2UiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwidGFyZ2V0IiwidXBkYXRlQ2hlY2tlZEZpbGVzIiwidGl0bGUiLCJidXR0b24iLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiaDQiLCJlbnRyaWVzIiwibWFwIiwia2V5IiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/KeptMCQCard.tsx\n");

/***/ }),

/***/ "./components/MCQCard.tsx":
/*!********************************!*\
  !*** ./components/MCQCard.tsx ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MCQCard: () => (/* binding */ MCQCard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/api */ \"./lib/api.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/storage */ \"./lib/storage.ts\");\n/* harmony import */ var _KeptMCQCard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./KeptMCQCard */ \"./components/KeptMCQCard.tsx\");\n/* harmony import */ var _contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../contexts/FileStatusContext */ \"./contexts/FileStatusContext.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_api__WEBPACK_IMPORTED_MODULE_2__, _KeptMCQCard__WEBPACK_IMPORTED_MODULE_4__, _contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__]);\n([_lib_api__WEBPACK_IMPORTED_MODULE_2__, _KeptMCQCard__WEBPACK_IMPORTED_MODULE_4__, _contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\nconst MCQCard = ({ subject, filename, checked, status, onToggle, expanded: externalExpanded, onExpandToggle, mcqData: providedMcqData, removalInfo: providedRemovalInfo, keptFileData: providedKeptFileData, hasConflict = false, appearanceTotal, appearanceTotals })=>{\n    const [internalExpanded, setInternalExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const expanded = externalExpanded !== undefined ? externalExpanded : internalExpanded;\n    const [mcqData, setMcqData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(providedMcqData || null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [removalInfo, setRemovalInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(providedRemovalInfo || null);\n    const fileStatusContext = (0,_contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__.useFileStatus)();\n    const [keptMCQData, setKeptMCQData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showKeptMCQ, setShowKeptMCQ] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [removedAgainstThis, setRemovedAgainstThis] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // File that was removed when this file was kept\n    const hasReceivedPropsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false); // Track if we've received props from parent\n    // Update state when props change (from batch loading)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (providedMcqData) {\n            setMcqData(providedMcqData);\n            setLoading(false); // Stop loading if data provided\n            hasReceivedPropsRef.current = true; // Mark that parent provided data\n        }\n        if (providedRemovalInfo) {\n            setRemovalInfo(providedRemovalInfo);\n        }\n        // Set keptMCQData if provided (for both removed and saved files)\n        if (providedKeptFileData) {\n            setKeptMCQData(providedKeptFileData);\n        }\n    }, [\n        providedMcqData,\n        providedRemovalInfo,\n        providedKeptFileData\n    ]);\n    // Find which file was removed against this saved file\n    // Search removal_history for entries where this file is in kept_files\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (status === \"saved\") {\n            const session = _lib_storage__WEBPACK_IMPORTED_MODULE_3__.storage.loadSession(subject);\n            const removalHistory = session?.removalHistory || {};\n            // Find the removed file that has this file in its kept_files\n            for (const [removedFilename, history] of Object.entries(removalHistory)){\n                const keptFiles = history?.kept_files || [];\n                if (keptFiles.includes(filename)) {\n                    setRemovedAgainstThis(removedFilename);\n                    break; // Found it, no need to continue\n                }\n            }\n        } else {\n            // Clear if status is not saved\n            setRemovedAgainstThis(null);\n        }\n    }, [\n        subject,\n        filename,\n        status\n    ]);\n    // OPTIMIZED: Only load if data not provided by parent (batch loading)\n    // Parent component (GroupDisplay) should provide data via batch loading\n    // This is a fallback ONLY if parent doesn't provide data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // If parent provides data (even if null), batch load completed - don't make API call\n        // null means batch load completed but file not found (handled in render)\n        // undefined means batch load hasn't completed yet (wait)\n        if (providedMcqData !== undefined) {\n            return; // Parent handled it via batch loading\n        }\n        // Only make API call if parent hasn't provided data yet (undefined)\n        // AND we don't already have data loaded\n        if (!mcqData && !loading) {\n            // Small delay to allow batch loading to complete (if parent is batch loading)\n            const timer = setTimeout(()=>{\n                // Double-check that parent still didn't provide data\n                // If providedMcqData is still undefined after delay, parent isn't batch loading\n                if (providedMcqData === undefined && !mcqData && !loading) {\n                    loadMCQData();\n                }\n            }, 300); // Wait 300ms for batch load to complete\n            return ()=>clearTimeout(timer);\n        }\n    }, [\n        subject,\n        filename\n    ]); // Intentionally NOT including providedMcqData to avoid race conditions\n    const loadMCQData = async ()=>{\n        setLoading(true);\n        try {\n            // OPTIMIZED: Only load MCQ content (statement, options, etc.)\n            // Status is already passed as prop from localStorage\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_2__.api.getMCQData(subject, filename);\n            setMcqData(response.data);\n            // OPTIMIZED: Get removal history from API response (includes kept_file_data)\n            const removalInfo = response.removal_info;\n            if (removalInfo) {\n                setRemovalInfo(removalInfo);\n                // OPTIMIZED: Use kept_file_data from API response (no second API call needed)\n                if (response.kept_file_data && removalInfo.kept_files && removalInfo.kept_files.length > 0) {\n                    setKeptMCQData({\n                        filename: removalInfo.kept_files[0],\n                        data: response.kept_file_data\n                    });\n                }\n            }\n        } catch (error) {\n            console.error(\"Failed to load MCQ data:\", error);\n        } finally{\n            setLoading(false);\n        }\n    };\n    if (loading || !mcqData) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"border rounded-lg p-4 bg-gray-100\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"animate-pulse\",\n                children: \"Loading...\"\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                lineNumber: 145,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n            lineNumber: 144,\n            columnNumber: 7\n        }, undefined);\n    }\n    const mcq = mcqData.mcq?.[0] || {};\n    const statement = mcq.statement || mcqData.statement || \"\";\n    const options = mcq.options || {};\n    const correctOption = mcq.correct_option || \"\";\n    const oneLiner = mcq.one_liner || \"\";\n    // Use Context to get file indicators (simplified)\n    const indicators = fileStatusContext.getFileIndicators(filename);\n    const bgColor = indicators.backgroundColor;\n    const borderColor = indicators.statusColor === \"green\" ? \"border-green-300\" : indicators.statusColor === \"red\" ? \"border-red-300\" : \"border-orange-300\";\n    const borderStyle = indicators.borderStyle;\n    // Handler for toggling checkbox when clicking anywhere on card\n    const handleCardClick = ()=>{\n        // Toggle checkbox when clicking anywhere on the card\n        onToggle(filename, !checked);\n    };\n    // Handler for expanding/collapsing card (separate from checkbox toggle)\n    const handleExpandClick = ()=>{\n        const newExpanded = !expanded;\n        if (onExpandToggle) {\n            onExpandToggle(newExpanded);\n        } else {\n            setInternalExpanded(newExpanded);\n        }\n    };\n    // Main MCQ card content\n    const mainCard = /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `border-2 ${borderColor} ${borderStyle} rounded-lg p-4 ${bgColor} shadow-sm relative cursor-pointer`,\n        \"data-conflict\": hasConflict ? \"true\" : \"false\",\n        onClick: handleCardClick,\n        children: [\n            indicators.pastPaperBadge && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute -top-3 -left-3 bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xs font-bold shadow-lg border-2 border-white z-10\",\n                children: indicators.pastPaperBadge\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                lineNumber: 188,\n                columnNumber: 9\n            }, undefined),\n            appearanceTotal && appearanceTotal > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute -top-3 -right-3 bg-red-500 text-white rounded-full w-8 h-8 flex items-center justify-center text-xs font-bold shadow-lg border-2 border-white z-10\",\n                children: [\n                    appearanceTotal,\n                    \"x\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                lineNumber: 195,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-center mb-3\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white border-2 border-gray-400 rounded-lg px-4 py-2 shadow-md flex items-center gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: `text-${indicators.statusColor}-600 font-bold text-lg`,\n                            children: indicators.statusIcon\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                            lineNumber: 204,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-gray-800 font-bold text-base\",\n                            children: filename\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                            lineNumber: 208,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                    lineNumber: 202,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                lineNumber: 201,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-start gap-3 mb-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"checkbox\",\n                        checked: checked,\n                        onChange: (e)=>onToggle(filename, e.target.checked),\n                        onClick: (e)=>e.stopPropagation(),\n                        className: \"mt-1 w-5 h-5 cursor-pointer\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                        lineNumber: 214,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1\",\n                        children: [\n                            status === \"saved\" && removedAgainstThis && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-2 p-2 bg-green-100 border border-green-300 rounded text-xs\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-green-700 font-bold\",\n                                            children: \"✓ SAVED\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                            lineNumber: 226,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-600\",\n                                            children: \"when\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                            lineNumber: 227,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-red-600 font-semibold\",\n                                            children: removedAgainstThis\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-600\",\n                                            children: \"was removed\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                            lineNumber: 229,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                    lineNumber: 225,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                lineNumber: 224,\n                                columnNumber: 13\n                            }, undefined),\n                            status === \"saved\" && !removedAgainstThis && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-2 p-2 bg-green-100 border border-green-300 rounded text-xs\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-green-700 font-bold\",\n                                    children: \"✓ SAVED\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                    lineNumber: 237,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                lineNumber: 236,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-gray-800 font-medium\",\n                                children: statement\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                lineNumber: 242,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                        lineNumber: 221,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: (e)=>{\n                            e.stopPropagation(); // Prevent card click (checkbox toggle) when clicking button\n                            handleExpandClick();\n                        },\n                        className: \"text-blue-600 hover:text-blue-800 font-bold text-xl\",\n                        children: expanded ? \"−\" : \"+\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                        lineNumber: 248,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                lineNumber: 213,\n                columnNumber: 7\n            }, undefined),\n            expanded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4 pt-4 border-t border-gray-300 space-y-3\",\n                children: [\n                    Object.keys(options).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"font-semibold mb-2\",\n                                children: \"Options:\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                lineNumber: 265,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-1\",\n                                children: Object.entries(options).map(([key, value])=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: correctOption === key ? \"font-bold text-green-700\" : \"text-gray-700\",\n                                        children: [\n                                            key,\n                                            \") \",\n                                            value\n                                        ]\n                                    }, key, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                        lineNumber: 268,\n                                        columnNumber: 19\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                lineNumber: 266,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                        lineNumber: 264,\n                        columnNumber: 13\n                    }, undefined),\n                    indicators.pastPaperBadge && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-600\",\n                        children: [\n                            \"Year: \",\n                            mcqData.year || mcq?.year\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                        lineNumber: 281,\n                        columnNumber: 13\n                    }, undefined),\n                    status === \"saved\" && removalInfo && removalInfo.kept_files && removalInfo.kept_files.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 pt-4 border-t border-gray-300\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: (e)=>{\n                                    e.stopPropagation();\n                                    setShowKeptMCQ(!showKeptMCQ);\n                                },\n                                className: \"text-sm text-blue-600 hover:text-blue-800 font-semibold underline\",\n                                children: [\n                                    showKeptMCQ ? \"Hide\" : \"View\",\n                                    \" previously removed MCQ\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                lineNumber: 289,\n                                columnNumber: 15\n                            }, undefined),\n                            showKeptMCQ && keptMCQData && removalInfo?.kept_files?.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-3\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_KeptMCQCard__WEBPACK_IMPORTED_MODULE_4__.KeptMCQCard, {\n                                    subject: subject,\n                                    filename: removalInfo.kept_files[0],\n                                    removedFilename: filename,\n                                    expanded: false,\n                                    mcqData: keptMCQData.data || keptMCQData\n                                }, `kept-card-view-${filename}-${removalInfo.kept_files[0]}`, false, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                    lineNumber: 300,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, `kept-view-${filename}-${removalInfo.kept_files[0]}`, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                                lineNumber: 299,\n                                columnNumber: 17\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                        lineNumber: 288,\n                        columnNumber: 13\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                lineNumber: 261,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n        lineNumber: 181,\n        columnNumber: 5\n    }, undefined);\n    // If file is removed and has kept file, show both cards side by side (span 2 columns in grid)\n    // This is the old behavior for removed files\n    if (status === \"removed\" && removalInfo && keptMCQData && removalInfo.kept_files?.length > 0) {\n        // Handle both formats: {filename, data} from API or just data from props\n        const keptData = keptMCQData.data || keptMCQData;\n        const keptFilename = keptMCQData.filename || removalInfo.kept_files[0];\n        // Badge values for KEPT card: nx based on global page appearance data\n        const totalsMap = appearanceTotals || {};\n        const keptTotal = totalsMap[keptFilename] || 0;\n        // Get status of kept file from Context\n        const keptFileStatusObj = fileStatusContext.getFileStatus(keptFilename);\n        const keptFileStatus = keptFileStatusObj?.status || \"saved\";\n        const keptFileChecked = fileStatusContext.getFileChecked(keptFilename);\n        // Create a separate toggle handler for kept files.\n        // This updates localStorage and also delegates to the main onToggle handler\n        // so that ALL appearances of this filename on the current page stay in sync.\n        const handleKeptFileToggle = (toggleFilename, checked)=>{\n            // CRITICAL: Verify we're updating the correct kept file (defensive check)\n            if (toggleFilename !== keptFilename) {\n                // This should never happen, but return silently if it does\n                return;\n            }\n            // Update Context\n            fileStatusContext.setFileChecked(keptFilename, checked);\n            // Also notify parent toggle handler so all instances of this filename\n            // on the current page get the same checked state.\n            if (onToggle) {\n                onToggle(keptFilename, checked);\n            }\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"col-span-2 grid grid-cols-2 gap-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: mainCard\n                }, void 0, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                    lineNumber: 356,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_KeptMCQCard__WEBPACK_IMPORTED_MODULE_4__.KeptMCQCard, {\n                        subject: subject,\n                        filename: keptFilename,\n                        removedFilename: filename,\n                        expanded: expanded,\n                        onExpandToggle: onExpandToggle,\n                        mcqData: keptData,\n                        checked: keptFileChecked,\n                        onToggle: handleKeptFileToggle,\n                        status: keptFileStatus,\n                        appearanceTotal: keptTotal\n                    }, `kept-card-${filename}-${keptFilename}`, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                        lineNumber: 362,\n                        columnNumber: 11\n                    }, undefined)\n                }, `kept-${filename}-${keptFilename}`, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n                    lineNumber: 361,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/mac/testpoint/frontend/components/MCQCard.tsx\",\n            lineNumber: 354,\n            columnNumber: 7\n        }, undefined);\n    }\n    // Otherwise, just show the main card\n    return mainCard;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7bUJBRnRDLENBQUMsS0FBSyxFQUFFN0YsU0FBUyxDQUFDLEVBQUU2RixhQUFhLENBQUM7Ozs7Ozs7Ozs7O0lBaUJsRDtJQUVBLHFDQUFxQztJQUNyQyxPQUFPcEI7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWNxLWRlZHVwbGljYXRpb24tZnJvbnRlbmQvLi9jb21wb25lbnRzL01DUUNhcmQudHN4PzY4ZTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGFwaSB9IGZyb20gJy4uL2xpYi9hcGknO1xuaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gJy4uL2xpYi9zdG9yYWdlJztcbmltcG9ydCB7IEtlcHRNQ1FDYXJkIH0gZnJvbSAnLi9LZXB0TUNRQ2FyZCc7XG5pbXBvcnQgeyB1c2VGaWxlU3RhdHVzIH0gZnJvbSAnLi4vY29udGV4dHMvRmlsZVN0YXR1c0NvbnRleHQnO1xuXG5pbnRlcmZhY2UgTUNRQ2FyZFByb3BzIHtcbiAgc3ViamVjdDogc3RyaW5nO1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICBjaGVja2VkOiBib29sZWFuO1xuICBzdGF0dXM6ICdzYXZlZCcgfCAncmVtb3ZlZCcgfCAndW5rbm93bic7XG4gIG9uVG9nZ2xlOiAoZmlsZW5hbWU6IHN0cmluZywgY2hlY2tlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgZXhwYW5kZWQ/OiBib29sZWFuO1xuICBvbkV4cGFuZFRvZ2dsZT86IChleHBhbmRlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgbWNxRGF0YT86IGFueTsgIC8vIE9QVElNSVpFRDogT3B0aW9uYWwgcHJvcCB0byBhdm9pZCBBUEkgY2FsbCBpZiBkYXRhIHByb3ZpZGVkXG4gIHJlbW92YWxJbmZvPzogYW55OyAgLy8gT1BUSU1JWkVEOiBPcHRpb25hbCByZW1vdmFsIGluZm9cbiAga2VwdEZpbGVEYXRhPzogYW55OyAgLy8gT1BUSU1JWkVEOiBPcHRpb25hbCBrZXB0IGZpbGUgZGF0YVxuICBoYXNDb25mbGljdD86IGJvb2xlYW47ICAvLyBGaWxlIGhhcyBjb25mbGljdGluZyBjaGVja2VkIHN0YXRlcyBhY3Jvc3MgZ3JvdXBzXG4gIGFwcGVhcmFuY2VUb3RhbD86IG51bWJlcjsgIC8vIG46IHRvdGFsIGFwcGVhcmFuY2VzIG9mIHRoaXMgZmlsZW5hbWUgb24gcGFnZSAobWFpbiArIEtFUFQpXG4gIGFwcGVhcmFuY2VUb3RhbHM/OiB7IFtmaWxlbmFtZTogc3RyaW5nXTogbnVtYmVyIH07IC8vIG4gZm9yIEtFUFQgY2FyZHNcbn1cblxuZXhwb3J0IGNvbnN0IE1DUUNhcmQ6IFJlYWN0LkZDPE1DUUNhcmRQcm9wcz4gPSAoeyBcbiAgc3ViamVjdCwgXG4gIGZpbGVuYW1lLCBcbiAgY2hlY2tlZCwgXG4gIHN0YXR1cyxcbiAgb25Ub2dnbGUsXG4gIGV4cGFuZGVkOiBleHRlcm5hbEV4cGFuZGVkLFxuICBvbkV4cGFuZFRvZ2dsZSxcbiAgbWNxRGF0YTogcHJvdmlkZWRNY3FEYXRhLFxuICByZW1vdmFsSW5mbzogcHJvdmlkZWRSZW1vdmFsSW5mbyxcbiAga2VwdEZpbGVEYXRhOiBwcm92aWRlZEtlcHRGaWxlRGF0YSxcbiAgaGFzQ29uZmxpY3QgPSBmYWxzZSxcbiAgYXBwZWFyYW5jZVRvdGFsLFxuICBhcHBlYXJhbmNlVG90YWxzXG59KSA9PiB7XG4gIGNvbnN0IFtpbnRlcm5hbEV4cGFuZGVkLCBzZXRJbnRlcm5hbEV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZXhwYW5kZWQgPSBleHRlcm5hbEV4cGFuZGVkICE9PSB1bmRlZmluZWQgPyBleHRlcm5hbEV4cGFuZGVkIDogaW50ZXJuYWxFeHBhbmRlZDtcbiAgY29uc3QgW21jcURhdGEsIHNldE1jcURhdGFdID0gdXNlU3RhdGU8YW55Pihwcm92aWRlZE1jcURhdGEgfHwgbnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3JlbW92YWxJbmZvLCBzZXRSZW1vdmFsSW5mb10gPSB1c2VTdGF0ZTxhbnk+KHByb3ZpZGVkUmVtb3ZhbEluZm8gfHwgbnVsbCk7XG4gIGNvbnN0IGZpbGVTdGF0dXNDb250ZXh0ID0gdXNlRmlsZVN0YXR1cygpO1xuICBjb25zdCBba2VwdE1DUURhdGEsIHNldEtlcHRNQ1FEYXRhXSA9IHVzZVN0YXRlPGFueT4obnVsbCk7XG4gIGNvbnN0IFtzaG93S2VwdE1DUSwgc2V0U2hvd0tlcHRNQ1FdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbcmVtb3ZlZEFnYWluc3RUaGlzLCBzZXRSZW1vdmVkQWdhaW5zdFRoaXNdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7IC8vIEZpbGUgdGhhdCB3YXMgcmVtb3ZlZCB3aGVuIHRoaXMgZmlsZSB3YXMga2VwdFxuICBjb25zdCBoYXNSZWNlaXZlZFByb3BzUmVmID0gdXNlUmVmKGZhbHNlKTsgLy8gVHJhY2sgaWYgd2UndmUgcmVjZWl2ZWQgcHJvcHMgZnJvbSBwYXJlbnRcblxuICAvLyBVcGRhdGUgc3RhdGUgd2hlbiBwcm9wcyBjaGFuZ2UgKGZyb20gYmF0Y2ggbG9hZGluZylcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvdmlkZWRNY3FEYXRhKSB7XG4gICAgICBzZXRNY3FEYXRhKHByb3ZpZGVkTWNxRGF0YSk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTsgLy8gU3RvcCBsb2FkaW5nIGlmIGRhdGEgcHJvdmlkZWRcbiAgICAgIGhhc1JlY2VpdmVkUHJvcHNSZWYuY3VycmVudCA9IHRydWU7IC8vIE1hcmsgdGhhdCBwYXJlbnQgcHJvdmlkZWQgZGF0YVxuICAgIH1cbiAgICBpZiAocHJvdmlkZWRSZW1vdmFsSW5mbykge1xuICAgICAgc2V0UmVtb3ZhbEluZm8ocHJvdmlkZWRSZW1vdmFsSW5mbyk7XG4gICAgfVxuICAgIC8vIFNldCBrZXB0TUNRRGF0YSBpZiBwcm92aWRlZCAoZm9yIGJvdGggcmVtb3ZlZCBhbmQgc2F2ZWQgZmlsZXMpXG4gICAgaWYgKHByb3ZpZGVkS2VwdEZpbGVEYXRhKSB7XG4gICAgICBzZXRLZXB0TUNRRGF0YShwcm92aWRlZEtlcHRGaWxlRGF0YSk7XG4gICAgfVxuICB9LCBbcHJvdmlkZWRNY3FEYXRhLCBwcm92aWRlZFJlbW92YWxJbmZvLCBwcm92aWRlZEtlcHRGaWxlRGF0YV0pO1xuICBcbiAgLy8gRmluZCB3aGljaCBmaWxlIHdhcyByZW1vdmVkIGFnYWluc3QgdGhpcyBzYXZlZCBmaWxlXG4gIC8vIFNlYXJjaCByZW1vdmFsX2hpc3RvcnkgZm9yIGVudHJpZXMgd2hlcmUgdGhpcyBmaWxlIGlzIGluIGtlcHRfZmlsZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc3RhdHVzID09PSAnc2F2ZWQnKSB7XG4gICAgICBjb25zdCBzZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICAgIGNvbnN0IHJlbW92YWxIaXN0b3J5ID0gc2Vzc2lvbj8ucmVtb3ZhbEhpc3RvcnkgfHwge307XG4gICAgICBcbiAgICAgIC8vIEZpbmQgdGhlIHJlbW92ZWQgZmlsZSB0aGF0IGhhcyB0aGlzIGZpbGUgaW4gaXRzIGtlcHRfZmlsZXNcbiAgICAgIGZvciAoY29uc3QgW3JlbW92ZWRGaWxlbmFtZSwgaGlzdG9yeV0gb2YgT2JqZWN0LmVudHJpZXMocmVtb3ZhbEhpc3RvcnkpKSB7XG4gICAgICAgIGNvbnN0IGtlcHRGaWxlcyA9IChoaXN0b3J5IGFzIGFueSk/LmtlcHRfZmlsZXMgfHwgW107XG4gICAgICAgIGlmIChrZXB0RmlsZXMuaW5jbHVkZXMoZmlsZW5hbWUpKSB7XG4gICAgICAgICAgc2V0UmVtb3ZlZEFnYWluc3RUaGlzKHJlbW92ZWRGaWxlbmFtZSk7XG4gICAgICAgICAgYnJlYWs7IC8vIEZvdW5kIGl0LCBubyBuZWVkIHRvIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ2xlYXIgaWYgc3RhdHVzIGlzIG5vdCBzYXZlZFxuICAgICAgc2V0UmVtb3ZlZEFnYWluc3RUaGlzKG51bGwpO1xuICAgIH1cbiAgfSwgW3N1YmplY3QsIGZpbGVuYW1lLCBzdGF0dXNdKTtcblxuICAvLyBPUFRJTUlaRUQ6IE9ubHkgbG9hZCBpZiBkYXRhIG5vdCBwcm92aWRlZCBieSBwYXJlbnQgKGJhdGNoIGxvYWRpbmcpXG4gIC8vIFBhcmVudCBjb21wb25lbnQgKEdyb3VwRGlzcGxheSkgc2hvdWxkIHByb3ZpZGUgZGF0YSB2aWEgYmF0Y2ggbG9hZGluZ1xuICAvLyBUaGlzIGlzIGEgZmFsbGJhY2sgT05MWSBpZiBwYXJlbnQgZG9lc24ndCBwcm92aWRlIGRhdGFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBJZiBwYXJlbnQgcHJvdmlkZXMgZGF0YSAoZXZlbiBpZiBudWxsKSwgYmF0Y2ggbG9hZCBjb21wbGV0ZWQgLSBkb24ndCBtYWtlIEFQSSBjYWxsXG4gICAgLy8gbnVsbCBtZWFucyBiYXRjaCBsb2FkIGNvbXBsZXRlZCBidXQgZmlsZSBub3QgZm91bmQgKGhhbmRsZWQgaW4gcmVuZGVyKVxuICAgIC8vIHVuZGVmaW5lZCBtZWFucyBiYXRjaCBsb2FkIGhhc24ndCBjb21wbGV0ZWQgeWV0ICh3YWl0KVxuICAgIGlmIChwcm92aWRlZE1jcURhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuOyAvLyBQYXJlbnQgaGFuZGxlZCBpdCB2aWEgYmF0Y2ggbG9hZGluZ1xuICAgIH1cbiAgICBcbiAgICAvLyBPbmx5IG1ha2UgQVBJIGNhbGwgaWYgcGFyZW50IGhhc24ndCBwcm92aWRlZCBkYXRhIHlldCAodW5kZWZpbmVkKVxuICAgIC8vIEFORCB3ZSBkb24ndCBhbHJlYWR5IGhhdmUgZGF0YSBsb2FkZWRcbiAgICBpZiAoIW1jcURhdGEgJiYgIWxvYWRpbmcpIHtcbiAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIGFsbG93IGJhdGNoIGxvYWRpbmcgdG8gY29tcGxldGUgKGlmIHBhcmVudCBpcyBiYXRjaCBsb2FkaW5nKVxuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gRG91YmxlLWNoZWNrIHRoYXQgcGFyZW50IHN0aWxsIGRpZG4ndCBwcm92aWRlIGRhdGFcbiAgICAgICAgLy8gSWYgcHJvdmlkZWRNY3FEYXRhIGlzIHN0aWxsIHVuZGVmaW5lZCBhZnRlciBkZWxheSwgcGFyZW50IGlzbid0IGJhdGNoIGxvYWRpbmdcbiAgICAgICAgaWYgKHByb3ZpZGVkTWNxRGF0YSA9PT0gdW5kZWZpbmVkICYmICFtY3FEYXRhICYmICFsb2FkaW5nKSB7XG4gICAgICAgICAgbG9hZE1DUURhdGEoKTtcbiAgICAgICAgfVxuICAgICAgfSwgMzAwKTsgLy8gV2FpdCAzMDBtcyBmb3IgYmF0Y2ggbG9hZCB0byBjb21wbGV0ZVxuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gIH0sIFtzdWJqZWN0LCBmaWxlbmFtZV0pOyAvLyBJbnRlbnRpb25hbGx5IE5PVCBpbmNsdWRpbmcgcHJvdmlkZWRNY3FEYXRhIHRvIGF2b2lkIHJhY2UgY29uZGl0aW9uc1xuXG4gIGNvbnN0IGxvYWRNQ1FEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIE9QVElNSVpFRDogT25seSBsb2FkIE1DUSBjb250ZW50IChzdGF0ZW1lbnQsIG9wdGlvbnMsIGV0Yy4pXG4gICAgICAvLyBTdGF0dXMgaXMgYWxyZWFkeSBwYXNzZWQgYXMgcHJvcCBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuZ2V0TUNRRGF0YShzdWJqZWN0LCBmaWxlbmFtZSk7XG4gICAgICBzZXRNY3FEYXRhKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgXG4gICAgICAvLyBPUFRJTUlaRUQ6IEdldCByZW1vdmFsIGhpc3RvcnkgZnJvbSBBUEkgcmVzcG9uc2UgKGluY2x1ZGVzIGtlcHRfZmlsZV9kYXRhKVxuICAgICAgY29uc3QgcmVtb3ZhbEluZm8gPSByZXNwb25zZS5yZW1vdmFsX2luZm87XG4gICAgICBcbiAgICAgIGlmIChyZW1vdmFsSW5mbykge1xuICAgICAgICBzZXRSZW1vdmFsSW5mbyhyZW1vdmFsSW5mbyk7XG4gICAgICAgIFxuICAgICAgICAvLyBPUFRJTUlaRUQ6IFVzZSBrZXB0X2ZpbGVfZGF0YSBmcm9tIEFQSSByZXNwb25zZSAobm8gc2Vjb25kIEFQSSBjYWxsIG5lZWRlZClcbiAgICAgICAgaWYgKHJlc3BvbnNlLmtlcHRfZmlsZV9kYXRhICYmIHJlbW92YWxJbmZvLmtlcHRfZmlsZXMgJiYgcmVtb3ZhbEluZm8ua2VwdF9maWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2V0S2VwdE1DUURhdGEoe1xuICAgICAgICAgICAgZmlsZW5hbWU6IHJlbW92YWxJbmZvLmtlcHRfZmlsZXNbMF0sXG4gICAgICAgICAgICBkYXRhOiByZXNwb25zZS5rZXB0X2ZpbGVfZGF0YVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIE1DUSBkYXRhOicsIGVycm9yKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChsb2FkaW5nIHx8ICFtY3FEYXRhKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbGcgcC00IGJnLWdyYXktMTAwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1wdWxzZVwiPkxvYWRpbmcuLi48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBtY3EgPSBtY3FEYXRhLm1jcT8uWzBdIHx8IHt9O1xuICBjb25zdCBzdGF0ZW1lbnQgPSBtY3Euc3RhdGVtZW50IHx8IG1jcURhdGEuc3RhdGVtZW50IHx8ICcnO1xuICBjb25zdCBvcHRpb25zID0gbWNxLm9wdGlvbnMgfHwge307XG4gIGNvbnN0IGNvcnJlY3RPcHRpb24gPSBtY3EuY29ycmVjdF9vcHRpb24gfHwgJyc7XG4gIGNvbnN0IG9uZUxpbmVyID0gbWNxLm9uZV9saW5lciB8fCAnJztcbiAgXG4gIC8vIFVzZSBDb250ZXh0IHRvIGdldCBmaWxlIGluZGljYXRvcnMgKHNpbXBsaWZpZWQpXG4gIGNvbnN0IGluZGljYXRvcnMgPSBmaWxlU3RhdHVzQ29udGV4dC5nZXRGaWxlSW5kaWNhdG9ycyhmaWxlbmFtZSk7XG4gIGNvbnN0IGJnQ29sb3IgPSBpbmRpY2F0b3JzLmJhY2tncm91bmRDb2xvcjtcbiAgY29uc3QgYm9yZGVyQ29sb3IgPSBpbmRpY2F0b3JzLnN0YXR1c0NvbG9yID09PSAnZ3JlZW4nID8gJ2JvcmRlci1ncmVlbi0zMDAnIDogXG4gICAgICAgICAgICAgICAgICAgICAgaW5kaWNhdG9ycy5zdGF0dXNDb2xvciA9PT0gJ3JlZCcgPyAnYm9yZGVyLXJlZC0zMDAnIDogJ2JvcmRlci1vcmFuZ2UtMzAwJztcbiAgY29uc3QgYm9yZGVyU3R5bGUgPSBpbmRpY2F0b3JzLmJvcmRlclN0eWxlO1xuXG4gIC8vIEhhbmRsZXIgZm9yIHRvZ2dsaW5nIGNoZWNrYm94IHdoZW4gY2xpY2tpbmcgYW55d2hlcmUgb24gY2FyZFxuICBjb25zdCBoYW5kbGVDYXJkQ2xpY2sgPSAoKSA9PiB7XG4gICAgLy8gVG9nZ2xlIGNoZWNrYm94IHdoZW4gY2xpY2tpbmcgYW55d2hlcmUgb24gdGhlIGNhcmRcbiAgICBvblRvZ2dsZShmaWxlbmFtZSwgIWNoZWNrZWQpO1xuICB9O1xuXG4gIC8vIEhhbmRsZXIgZm9yIGV4cGFuZGluZy9jb2xsYXBzaW5nIGNhcmQgKHNlcGFyYXRlIGZyb20gY2hlY2tib3ggdG9nZ2xlKVxuICBjb25zdCBoYW5kbGVFeHBhbmRDbGljayA9ICgpID0+IHtcbiAgICBjb25zdCBuZXdFeHBhbmRlZCA9ICFleHBhbmRlZDtcbiAgICBpZiAob25FeHBhbmRUb2dnbGUpIHtcbiAgICAgIG9uRXhwYW5kVG9nZ2xlKG5ld0V4cGFuZGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0SW50ZXJuYWxFeHBhbmRlZChuZXdFeHBhbmRlZCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1haW4gTUNRIGNhcmQgY29udGVudFxuICBjb25zdCBtYWluQ2FyZCA9IChcbiAgICA8ZGl2IFxuICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyLTIgJHtib3JkZXJDb2xvcn0gJHtib3JkZXJTdHlsZX0gcm91bmRlZC1sZyBwLTQgJHtiZ0NvbG9yfSBzaGFkb3ctc20gcmVsYXRpdmUgY3Vyc29yLXBvaW50ZXJgfVxuICAgICAgZGF0YS1jb25mbGljdD17aGFzQ29uZmxpY3QgPyAndHJ1ZScgOiAnZmFsc2UnfVxuICAgICAgb25DbGljaz17aGFuZGxlQ2FyZENsaWNrfVxuICAgID5cbiAgICAgIHsvKiBQUCBiYWRnZTogc2hvd3MgaWYgTUNRIGhhcyBcInllYXJcIiBrZXkgKi99XG4gICAgICB7aW5kaWNhdG9ycy5wYXN0UGFwZXJCYWRnZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0zIC1sZWZ0LTMgYmctYmx1ZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgdy04IGgtOCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhzIGZvbnQtYm9sZCBzaGFkb3ctbGcgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIHotMTBcIj5cbiAgICAgICAgICB7aW5kaWNhdG9ycy5wYXN0UGFwZXJCYWRnZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICB7LyogQ291bnQgYmFkZ2UgKG1haW4gY2FyZCk6IG54ID0gdG90YWwgYXBwZWFyYW5jZXMgb2YgdGhpcyBmaWxlbmFtZSBvbiBjdXJyZW50IHBhZ2UgKi99XG4gICAgICB7YXBwZWFyYW5jZVRvdGFsICYmIGFwcGVhcmFuY2VUb3RhbCA+IDEgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMyAtcmlnaHQtMyBiZy1yZWQtNTAwIHRleHQtd2hpdGUgcm91bmRlZC1mdWxsIHctOCBoLTggZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC14cyBmb250LWJvbGQgc2hhZG93LWxnIGJvcmRlci0yIGJvcmRlci13aGl0ZSB6LTEwXCI+XG4gICAgICAgICAge2FwcGVhcmFuY2VUb3RhbH14XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgey8qIEZpbGVuYW1lIGJveCBhdCB0b3AgY2VudGVyIHdpdGggc3RhdHVzIGluZGljYXRvciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBtYi0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgYm9yZGVyLTIgYm9yZGVyLWdyYXktNDAwIHJvdW5kZWQtbGcgcHgtNCBweS0yIHNoYWRvdy1tZCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIHsvKiBTdGF0dXMgaW5kaWNhdG9yICh0aWNrL2Nyb3NzL25vIG1hcmspICovfVxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtJHtpbmRpY2F0b3JzLnN0YXR1c0NvbG9yfS02MDAgZm9udC1ib2xkIHRleHQtbGdgfT5cbiAgICAgICAgICAgIHtpbmRpY2F0b3JzLnN0YXR1c0ljb259XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIHsvKiBGaWxlbmFtZSAtIGhpZ2hsaWdodGVkICovfVxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS04MDAgZm9udC1ib2xkIHRleHQtYmFzZVwiPntmaWxlbmFtZX08L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiBIZWFkZXIgd2l0aCBjaGVja2JveCBhbmQgc3RhdHVzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zIG1iLTNcIj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvblRvZ2dsZShmaWxlbmFtZSwgZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0gLy8gUHJldmVudCBjYXJkIGNsaWNrIHdoZW4gY2xpY2tpbmcgY2hlY2tib3hcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTEgdy01IGgtNSBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICB7LyogU2hvdyB3aGljaCBmaWxlIHdhcyByZW1vdmVkIGFnYWluc3QgdGhpcyBzYXZlZCBmaWxlICovfVxuICAgICAgICAgIHtzdGF0dXMgPT09ICdzYXZlZCcgJiYgcmVtb3ZlZEFnYWluc3RUaGlzICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMiBwLTIgYmctZ3JlZW4tMTAwIGJvcmRlciBib3JkZXItZ3JlZW4tMzAwIHJvdW5kZWQgdGV4dC14c1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi03MDAgZm9udC1ib2xkXCI+4pyTIFNBVkVEPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj53aGVuPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCBmb250LXNlbWlib2xkXCI+e3JlbW92ZWRBZ2FpbnN0VGhpc308L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPndhcyByZW1vdmVkPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFNob3cgbWluaW1hbCBtZXNzYWdlIGZvciBzYXZlZCBmaWxlcyB3aXRob3V0IHJlbW92YWwgY29udGV4dCAqL31cbiAgICAgICAgICB7c3RhdHVzID09PSAnc2F2ZWQnICYmICFyZW1vdmVkQWdhaW5zdFRoaXMgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yIHAtMiBiZy1ncmVlbi0xMDAgYm9yZGVyIGJvcmRlci1ncmVlbi0zMDAgcm91bmRlZCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tNzAwIGZvbnQtYm9sZFwiPuKckyBTQVZFRDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFN0YXRlbWVudCAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS04MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgIHtzdGF0ZW1lbnR9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBFeHBhbmQvY29sbGFwc2UgYnV0dG9uICovfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIFByZXZlbnQgY2FyZCBjbGljayAoY2hlY2tib3ggdG9nZ2xlKSB3aGVuIGNsaWNraW5nIGJ1dHRvblxuICAgICAgICAgICAgaGFuZGxlRXhwYW5kQ2xpY2soKTtcbiAgICAgICAgICB9fVxuICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dGV4dC1ibHVlLTgwMCBmb250LWJvbGQgdGV4dC14bFwiXG4gICAgICAgID5cbiAgICAgICAgICB7ZXhwYW5kZWQgPyAn4oiSJyA6ICcrJ31cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEV4cGFuZGFibGUgY29udGVudCAqL31cbiAgICAgIHtleHBhbmRlZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTMwMCBzcGFjZS15LTNcIj5cbiAgICAgICAgICB7LyogT3B0aW9ucyAqL31cbiAgICAgICAgICB7T2JqZWN0LmtleXMob3B0aW9ucykubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yXCI+T3B0aW9uczo8L2g0PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgIHtPYmplY3QuZW50cmllcyhvcHRpb25zKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAga2V5PXtrZXl9IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NvcnJlY3RPcHRpb24gPT09IGtleSA/ICdmb250LWJvbGQgdGV4dC1ncmVlbi03MDAnIDogJ3RleHQtZ3JheS03MDAnfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7a2V5fSkge3ZhbHVlIGFzIHN0cmluZ31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogWWVhciBpZiBleGlzdHMgKi99XG4gICAgICAgICAge2luZGljYXRvcnMucGFzdFBhcGVyQmFkZ2UgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgWWVhcjoge21jcURhdGEueWVhciB8fCBtY3E/LnllYXJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIFNob3cgcHJldmlvdXNseSByZW1vdmVkIE1DUSBvcHRpb24gKGZvciBzYXZlZCBmaWxlcyB3aXRoIHJlbW92YWwgaGlzdG9yeSkgKi99XG4gICAgICAgICAge3N0YXR1cyA9PT0gJ3NhdmVkJyAmJiByZW1vdmFsSW5mbyAmJiByZW1vdmFsSW5mby5rZXB0X2ZpbGVzICYmIHJlbW92YWxJbmZvLmtlcHRfZmlsZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcHQtNCBib3JkZXItdCBib3JkZXItZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgc2V0U2hvd0tlcHRNQ1EoIXNob3dLZXB0TUNRKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtODAwIGZvbnQtc2VtaWJvbGQgdW5kZXJsaW5lXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzaG93S2VwdE1DUSA/ICdIaWRlJyA6ICdWaWV3J30gcHJldmlvdXNseSByZW1vdmVkIE1DUVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAge3Nob3dLZXB0TUNRICYmIGtlcHRNQ1FEYXRhICYmIHJlbW92YWxJbmZvPy5rZXB0X2ZpbGVzPy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTNcIiBrZXk9e2BrZXB0LXZpZXctJHtmaWxlbmFtZX0tJHtyZW1vdmFsSW5mby5rZXB0X2ZpbGVzWzBdfWB9PlxuICAgICAgICAgICAgICAgICAgPEtlcHRNQ1FDYXJkXG4gICAgICAgICAgICAgICAgICAgIGtleT17YGtlcHQtY2FyZC12aWV3LSR7ZmlsZW5hbWV9LSR7cmVtb3ZhbEluZm8ua2VwdF9maWxlc1swXX1gfVxuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0PXtzdWJqZWN0fVxuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZT17cmVtb3ZhbEluZm8ua2VwdF9maWxlc1swXX1cbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZEZpbGVuYW1lPXtmaWxlbmFtZX1cbiAgICAgICAgICAgICAgICAgICAgZXhwYW5kZWQ9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICBtY3FEYXRhPXtrZXB0TUNRRGF0YS5kYXRhIHx8IGtlcHRNQ1FEYXRhfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcblxuICAvLyBJZiBmaWxlIGlzIHJlbW92ZWQgYW5kIGhhcyBrZXB0IGZpbGUsIHNob3cgYm90aCBjYXJkcyBzaWRlIGJ5IHNpZGUgKHNwYW4gMiBjb2x1bW5zIGluIGdyaWQpXG4gIC8vIFRoaXMgaXMgdGhlIG9sZCBiZWhhdmlvciBmb3IgcmVtb3ZlZCBmaWxlc1xuICBpZiAoc3RhdHVzID09PSAncmVtb3ZlZCcgJiYgcmVtb3ZhbEluZm8gJiYga2VwdE1DUURhdGEgJiYgcmVtb3ZhbEluZm8ua2VwdF9maWxlcz8ubGVuZ3RoID4gMCkge1xuICAgIC8vIEhhbmRsZSBib3RoIGZvcm1hdHM6IHtmaWxlbmFtZSwgZGF0YX0gZnJvbSBBUEkgb3IganVzdCBkYXRhIGZyb20gcHJvcHNcbiAgICBjb25zdCBrZXB0RGF0YSA9IGtlcHRNQ1FEYXRhLmRhdGEgfHwga2VwdE1DUURhdGE7XG4gICAgY29uc3Qga2VwdEZpbGVuYW1lID0ga2VwdE1DUURhdGEuZmlsZW5hbWUgfHwgcmVtb3ZhbEluZm8ua2VwdF9maWxlc1swXTtcbiAgICBcbiAgICAvLyBCYWRnZSB2YWx1ZXMgZm9yIEtFUFQgY2FyZDogbnggYmFzZWQgb24gZ2xvYmFsIHBhZ2UgYXBwZWFyYW5jZSBkYXRhXG4gICAgY29uc3QgdG90YWxzTWFwID0gYXBwZWFyYW5jZVRvdGFscyB8fCB7fTtcbiAgICBjb25zdCBrZXB0VG90YWwgPSB0b3RhbHNNYXBba2VwdEZpbGVuYW1lXSB8fCAwO1xuICAgIFxuICAgIC8vIEdldCBzdGF0dXMgb2Yga2VwdCBmaWxlIGZyb20gQ29udGV4dFxuICAgIGNvbnN0IGtlcHRGaWxlU3RhdHVzT2JqID0gZmlsZVN0YXR1c0NvbnRleHQuZ2V0RmlsZVN0YXR1cyhrZXB0RmlsZW5hbWUpO1xuICAgIGNvbnN0IGtlcHRGaWxlU3RhdHVzID0ga2VwdEZpbGVTdGF0dXNPYmo/LnN0YXR1cyB8fCAnc2F2ZWQnO1xuICAgIGNvbnN0IGtlcHRGaWxlQ2hlY2tlZCA9IGZpbGVTdGF0dXNDb250ZXh0LmdldEZpbGVDaGVja2VkKGtlcHRGaWxlbmFtZSk7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgc2VwYXJhdGUgdG9nZ2xlIGhhbmRsZXIgZm9yIGtlcHQgZmlsZXMuXG4gICAgLy8gVGhpcyB1cGRhdGVzIGxvY2FsU3RvcmFnZSBhbmQgYWxzbyBkZWxlZ2F0ZXMgdG8gdGhlIG1haW4gb25Ub2dnbGUgaGFuZGxlclxuICAgIC8vIHNvIHRoYXQgQUxMIGFwcGVhcmFuY2VzIG9mIHRoaXMgZmlsZW5hbWUgb24gdGhlIGN1cnJlbnQgcGFnZSBzdGF5IGluIHN5bmMuXG4gICAgY29uc3QgaGFuZGxlS2VwdEZpbGVUb2dnbGUgPSAodG9nZ2xlRmlsZW5hbWU6IHN0cmluZywgY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgICAgLy8gQ1JJVElDQUw6IFZlcmlmeSB3ZSdyZSB1cGRhdGluZyB0aGUgY29ycmVjdCBrZXB0IGZpbGUgKGRlZmVuc2l2ZSBjaGVjaylcbiAgICAgIGlmICh0b2dnbGVGaWxlbmFtZSAhPT0ga2VwdEZpbGVuYW1lKSB7XG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbiwgYnV0IHJldHVybiBzaWxlbnRseSBpZiBpdCBkb2VzXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIENvbnRleHRcbiAgICAgIGZpbGVTdGF0dXNDb250ZXh0LnNldEZpbGVDaGVja2VkKGtlcHRGaWxlbmFtZSwgY2hlY2tlZCk7XG4gICAgICBcbiAgICAgIC8vIEFsc28gbm90aWZ5IHBhcmVudCB0b2dnbGUgaGFuZGxlciBzbyBhbGwgaW5zdGFuY2VzIG9mIHRoaXMgZmlsZW5hbWVcbiAgICAgIC8vIG9uIHRoZSBjdXJyZW50IHBhZ2UgZ2V0IHRoZSBzYW1lIGNoZWNrZWQgc3RhdGUuXG4gICAgICBpZiAob25Ub2dnbGUpIHtcbiAgICAgICAgb25Ub2dnbGUoa2VwdEZpbGVuYW1lLCBjaGVja2VkKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1zcGFuLTIgZ3JpZCBncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICB7LyogUmVtb3ZlZCBNQ1EgQ2FyZCAtIExlZnQgU2lkZSAqL31cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7bWFpbkNhcmR9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIEtlcHQgTUNRIENhcmQgLSBSaWdodCBTaWRlICovfVxuICAgICAgICA8ZGl2IGtleT17YGtlcHQtJHtmaWxlbmFtZX0tJHtrZXB0RmlsZW5hbWV9YH0+XG4gICAgICAgICAgPEtlcHRNQ1FDYXJkXG4gICAgICAgICAgICBrZXk9e2BrZXB0LWNhcmQtJHtmaWxlbmFtZX0tJHtrZXB0RmlsZW5hbWV9YH1cbiAgICAgICAgICAgIHN1YmplY3Q9e3N1YmplY3R9XG4gICAgICAgICAgICBmaWxlbmFtZT17a2VwdEZpbGVuYW1lfVxuICAgICAgICAgICAgcmVtb3ZlZEZpbGVuYW1lPXtmaWxlbmFtZX1cbiAgICAgICAgICAgIGV4cGFuZGVkPXtleHBhbmRlZH1cbiAgICAgICAgICAgIG9uRXhwYW5kVG9nZ2xlPXtvbkV4cGFuZFRvZ2dsZX1cbiAgICAgICAgICAgIG1jcURhdGE9e2tlcHREYXRhfVxuICAgICAgICAgICAgY2hlY2tlZD17a2VwdEZpbGVDaGVja2VkfVxuICAgICAgICAgICAgb25Ub2dnbGU9e2hhbmRsZUtlcHRGaWxlVG9nZ2xlfVxuICAgICAgICAgICAgc3RhdHVzPXtrZXB0RmlsZVN0YXR1c31cbiAgICAgICAgICAgIGFwcGVhcmFuY2VUb3RhbD17a2VwdFRvdGFsfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSwganVzdCBzaG93IHRoZSBtYWluIGNhcmRcbiAgcmV0dXJuIG1haW5DYXJkO1xufTtcblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJhcGkiLCJzdG9yYWdlIiwiS2VwdE1DUUNhcmQiLCJ1c2VGaWxlU3RhdHVzIiwiTUNRQ2FyZCIsInN1YmplY3QiLCJmaWxlbmFtZSIsImNoZWNrZWQiLCJzdGF0dXMiLCJvblRvZ2dsZSIsImV4cGFuZGVkIiwiZXh0ZXJuYWxFeHBhbmRlZCIsIm9uRXhwYW5kVG9nZ2xlIiwibWNxRGF0YSIsInByb3ZpZGVkTWNxRGF0YSIsInJlbW92YWxJbmZvIiwicHJvdmlkZWRSZW1vdmFsSW5mbyIsImtlcHRGaWxlRGF0YSIsInByb3ZpZGVkS2VwdEZpbGVEYXRhIiwiaGFzQ29uZmxpY3QiLCJhcHBlYXJhbmNlVG90YWwiLCJhcHBlYXJhbmNlVG90YWxzIiwiaW50ZXJuYWxFeHBhbmRlZCIsInNldEludGVybmFsRXhwYW5kZWQiLCJ1bmRlZmluZWQiLCJzZXRNY3FEYXRhIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRSZW1vdmFsSW5mbyIsImZpbGVTdGF0dXNDb250ZXh0Iiwia2VwdE1DUURhdGEiLCJzZXRLZXB0TUNRRGF0YSIsInNob3dLZXB0TUNRIiwic2V0U2hvd0tlcHRNQ1EiLCJyZW1vdmVkQWdhaW5zdFRoaXMiLCJzZXRSZW1vdmVkQWdhaW5zdFRoaXMiLCJoYXNSZWNlaXZlZFByb3BzUmVmIiwiY3VycmVudCIsInNlc3Npb24iLCJsb2FkU2Vzc2lvbiIsInJlbW92YWxIaXN0b3J5IiwicmVtb3ZlZEZpbGVuYW1lIiwiaGlzdG9yeSIsIk9iamVjdCIsImVudHJpZXMiLCJrZXB0RmlsZXMiLCJrZXB0X2ZpbGVzIiwiaW5jbHVkZXMiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJsb2FkTUNRRGF0YSIsImNsZWFyVGltZW91dCIsInJlc3BvbnNlIiwiZ2V0TUNRRGF0YSIsImRhdGEiLCJyZW1vdmFsX2luZm8iLCJrZXB0X2ZpbGVfZGF0YSIsImxlbmd0aCIsImVycm9yIiwiY29uc29sZSIsImRpdiIsImNsYXNzTmFtZSIsIm1jcSIsInN0YXRlbWVudCIsIm9wdGlvbnMiLCJjb3JyZWN0T3B0aW9uIiwiY29ycmVjdF9vcHRpb24iLCJvbmVMaW5lciIsIm9uZV9saW5lciIsImluZGljYXRvcnMiLCJnZXRGaWxlSW5kaWNhdG9ycyIsImJnQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsInN0YXR1c0NvbG9yIiwiYm9yZGVyU3R5bGUiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVFeHBhbmRDbGljayIsIm5ld0V4cGFuZGVkIiwibWFpbkNhcmQiLCJkYXRhLWNvbmZsaWN0Iiwib25DbGljayIsInBhc3RQYXBlckJhZGdlIiwic3BhbiIsInN0YXR1c0ljb24iLCJpbnB1dCIsInR5cGUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJidXR0b24iLCJrZXlzIiwiaDQiLCJtYXAiLCJrZXkiLCJ2YWx1ZSIsInllYXIiLCJrZXB0RGF0YSIsImtlcHRGaWxlbmFtZSIsInRvdGFsc01hcCIsImtlcHRUb3RhbCIsImtlcHRGaWxlU3RhdHVzT2JqIiwiZ2V0RmlsZVN0YXR1cyIsImtlcHRGaWxlU3RhdHVzIiwia2VwdEZpbGVDaGVja2VkIiwiZ2V0RmlsZUNoZWNrZWQiLCJoYW5kbGVLZXB0RmlsZVRvZ2dsZSIsInRvZ2dsZUZpbGVuYW1lIiwic2V0RmlsZUNoZWNrZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/MCQCard.tsx\n");

/***/ }),

/***/ "./components/ProgressIndicator.tsx":
/*!******************************************!*\
  !*** ./components/ProgressIndicator.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProgressIndicator: () => (/* binding */ ProgressIndicator)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst ProgressIndicator = ({ progress, message })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full max-w-2xl mx-auto\",\n        children: [\n            message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center mb-4 text-lg text-gray-700\",\n                children: message\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/ProgressIndicator.tsx\",\n                lineNumber: 15,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-full bg-gray-200 rounded-full h-8 overflow-hidden shadow-inner\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gradient-to-r from-blue-500 to-blue-600 h-8 rounded-full transition-all duration-300 flex items-center justify-center text-white font-semibold\",\n                    style: {\n                        width: `${Math.min(100, Math.max(0, progress))}%`\n                    },\n                    children: progress > 10 && `${progress}%`\n                }, void 0, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/ProgressIndicator.tsx\",\n                    lineNumber: 21,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/ProgressIndicator.tsx\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, undefined),\n            progress < 100 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center mt-3 text-sm text-gray-600\",\n                children: \"Processing... Please keep this page open.\"\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/ProgressIndicator.tsx\",\n                lineNumber: 30,\n                columnNumber: 9\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/testpoint/frontend/components/ProgressIndicator.tsx\",\n        lineNumber: 13,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1Byb2dyZXNzSW5kaWNhdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMEI7QUFPbkIsTUFBTUMsb0JBQXNELENBQUMsRUFDbEVDLFFBQVEsRUFDUkMsT0FBTyxFQUNSO0lBQ0MscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7O1lBQ1pGLHlCQUNDLDhEQUFDQztnQkFBSUMsV0FBVTswQkFDWkY7Ozs7OzswQkFJTCw4REFBQ0M7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUNDQyxXQUFVO29CQUNWQyxPQUFPO3dCQUFFQyxPQUFPLENBQUMsRUFBRUMsS0FBS0MsR0FBRyxDQUFDLEtBQUtELEtBQUtFLEdBQUcsQ0FBQyxHQUFHUixXQUFXLENBQUMsQ0FBQztvQkFBQzs4QkFFMURBLFdBQVcsTUFBTSxDQUFDLEVBQUVBLFNBQVMsQ0FBQyxDQUFDOzs7Ozs7Ozs7OztZQUluQ0EsV0FBVyxxQkFDViw4REFBQ0U7Z0JBQUlDLFdBQVU7MEJBQXlDOzs7Ozs7Ozs7Ozs7QUFNaEUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21jcS1kZWR1cGxpY2F0aW9uLWZyb250ZW5kLy4vY29tcG9uZW50cy9Qcm9ncmVzc0luZGljYXRvci50c3g/YWRjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgUHJvZ3Jlc3NJbmRpY2F0b3JQcm9wcyB7XG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBQcm9ncmVzc0luZGljYXRvcjogUmVhY3QuRkM8UHJvZ3Jlc3NJbmRpY2F0b3JQcm9wcz4gPSAoeyBcbiAgcHJvZ3Jlc3MsIFxuICBtZXNzYWdlIFxufSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LTJ4bCBteC1hdXRvXCI+XG4gICAgICB7bWVzc2FnZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItNCB0ZXh0LWxnIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICB7bWVzc2FnZX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuICAgICAgXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTIwMCByb3VuZGVkLWZ1bGwgaC04IG92ZXJmbG93LWhpZGRlbiBzaGFkb3ctaW5uZXJcIj5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tYmx1ZS02MDAgaC04IHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkXCJcbiAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7TWF0aC5taW4oMTAwLCBNYXRoLm1heCgwLCBwcm9ncmVzcykpfSVgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7cHJvZ3Jlc3MgPiAxMCAmJiBgJHtwcm9ncmVzc30lYH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAge3Byb2dyZXNzIDwgMTAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtdC0zIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgIFByb2Nlc3NpbmcuLi4gUGxlYXNlIGtlZXAgdGhpcyBwYWdlIG9wZW4uXG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cblxuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJQcm9ncmVzc0luZGljYXRvciIsInByb2dyZXNzIiwibWVzc2FnZSIsImRpdiIsImNsYXNzTmFtZSIsInN0eWxlIiwid2lkdGgiLCJNYXRoIiwibWluIiwibWF4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/ProgressIndicator.tsx\n");

/***/ }),

/***/ "./components/SimilarityGroupView.tsx":
/*!********************************************!*\
  !*** ./components/SimilarityGroupView.tsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SimilarityGroupView: () => (/* binding */ SimilarityGroupView)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GroupDisplay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GroupDisplay */ \"./components/GroupDisplay.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/api */ \"./lib/api.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/storage */ \"./lib/storage.ts\");\n/* harmony import */ var _contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../contexts/FileStatusContext */ \"./contexts/FileStatusContext.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_GroupDisplay__WEBPACK_IMPORTED_MODULE_2__, _lib_api__WEBPACK_IMPORTED_MODULE_3__, _contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__]);\n([_GroupDisplay__WEBPACK_IMPORTED_MODULE_2__, _lib_api__WEBPACK_IMPORTED_MODULE_3__, _contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n// Auto-scroll speed in pixels per second (modify this value to change scroll speed)\nconst AUTO_SCROLL_SPEED = 300;\n// Inner component that uses Context\nconst SimilarityGroupViewInner = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(({ subject, groups, completedGroups, onGroupsSubmitted, initialLevelIndex = 0, onLevelIndexChange, onLevelsLoaded }, ref)=>{\n    const fileStatusContext = (0,_contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__.useFileStatus)();\n    const [similarityLevels, setSimilarityLevels] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentLevelIndex, setCurrentLevelIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialLevelIndex);\n    const [currentGroupInLevel, setCurrentGroupInLevel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [groupsBySimilarity, setGroupsBySimilarity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [autoSelections, setAutoSelections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [submitting, setSubmitting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loadingNextPage, setLoadingNextPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [initializing, setInitializing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showSuccessModal, setShowSuccessModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showConfirmModal, setShowConfirmModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [successStats, setSuccessStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [nextPageInfo, setNextPageInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [conflictingFiles, setConflictingFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Set());\n    const [fileAppearanceCounts, setFileAppearanceCounts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [fileAppearanceOrder, setFileAppearanceOrder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // New: total appearances (main + KEPT) per filename on current page\n    const [fileAppearanceTotals, setFileAppearanceTotals] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // New: appearance index for KEPT cards (removedFilename -> keptFilename -> index)\n    const [keptAppearanceOrder, setKeptAppearanceOrder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [checkAllMode, setCheckAllMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Toggle for check all mode\n    // Auto-scroll state\n    const [autoScrollEnabled, setAutoScrollEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Button ON/OFF state\n    const [autoScrollActive, setAutoScrollActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Currently scrolling\n    const autoScrollAnimationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const lastScrollTimeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const autoScrollActiveRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false); // Add ref to track active state\n    // Keep ref in sync with state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        autoScrollActiveRef.current = autoScrollActive;\n    }, [\n        autoScrollActive\n    ]);\n    // Range-based pagination state\n    const [similarityRangeStart, setSimilarityRangeStart] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(100.0);\n    const [similarityRangeEnd, setSimilarityRangeEnd] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(99.9);\n    const [targetGroupsPerPage, setTargetGroupsPerPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(100); // Default 100 (target, not strict)\n    const [pageCompleted, setPageCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [pageHistory, setPageHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isManualRange, setIsManualRange] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // Track if range was manually adjusted\n    const rangeInitialized = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    // Guard refs to prevent infinite loops\n    const loadingStatusesRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const loadingMCQDataRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const lastLoadedRangeRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const currentRangeStartRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(100.0); // Track current range start for targetGroupsPerPage changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        initializeGroups();\n    }, [\n        groups\n    ]);\n    // Restore saved level index after similarity levels are set\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (similarityLevels.length > 0 && initialLevelIndex > 0 && initialLevelIndex < similarityLevels.length) {\n            setCurrentLevelIndex(initialLevelIndex);\n        }\n    }, [\n        similarityLevels,\n        initialLevelIndex\n    ]);\n    // OPTIMIZED: Frontend auto-select with year priority (using Context)\n    const autoSelectBestMCQ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((files, metadata, useCheckAllMode = false)=>{\n        const selections = {};\n        if (files.length === 0) return selections;\n        // Check All Mode: Check everything except removed files\n        if (useCheckAllMode) {\n            for (const filename of files){\n                const fileStatus = fileStatusContext.getFileStatus(filename);\n                const status = fileStatus?.status || \"unknown\";\n                // Check all files EXCEPT removed ones\n                selections[filename] = status !== \"removed\";\n            }\n            return selections;\n        }\n        // Normal Mode: Apply preference-based selection rules\n        // Separate files by status\n        const savedFiles = [];\n        const removedFiles = [];\n        const unknownFiles = [];\n        for (const filename of files){\n            const fileStatus = fileStatusContext.getFileStatus(filename);\n            const status = fileStatus?.status || \"unknown\";\n            const cached = metadata[filename];\n            if (status === \"saved\") {\n                // Rule 1: Already saved → must be selected\n                savedFiles.push(filename);\n                selections[filename] = true;\n            } else if (status === \"removed\") {\n                // Rule 2: Already removed → must be unselected\n                removedFiles.push(filename);\n                selections[filename] = false;\n            } else {\n                // Rule 3: Unknown → will apply priority later\n                let hasYear = false;\n                let fileNum = 999999;\n                if (cached) {\n                    hasYear = cached.hasYear;\n                    fileNum = cached.fileNum;\n                } else {\n                    // Fallback: extract from filename\n                    fileNum = parseInt(filename.replace(/\\D/g, \"\")) || 999999;\n                }\n                unknownFiles.push({\n                    filename,\n                    hasYear,\n                    fileNum\n                });\n                // Initialize as unchecked, will select highest priority one\n                selections[filename] = false;\n            }\n        }\n        // Rule 3: For unknown files, select only the highest priority one\n        if (unknownFiles.length > 0) {\n            // Sort unknown files by priority: hasYear first, then smallest fileNum\n            unknownFiles.sort((a, b)=>{\n                // Priority 1: hasYear\n                if (a.hasYear !== b.hasYear) {\n                    return a.hasYear ? -1 : 1; // hasYear = true comes first\n                }\n                // Priority 2: smallest fileNum\n                return a.fileNum - b.fileNum;\n            });\n            // Select only the highest priority unknown file\n            selections[unknownFiles[0].filename] = true;\n        }\n        return selections;\n    }, [\n        subject,\n        fileStatusContext\n    ]);\n    // Recalculate selections when checkAllMode changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!initializing && groups.length > 0) {\n            const session = _lib_storage__WEBPACK_IMPORTED_MODULE_4__.storage.loadSession(subject);\n            const metadata = session?.mcqMetadata || {};\n            const selections = {};\n            for(let groupIndex = 0; groupIndex < groups.length; groupIndex++){\n                const groupFiles = groups[groupIndex].files;\n                const groupSelections = autoSelectBestMCQ(groupFiles, metadata, checkAllMode);\n                selections[groupIndex] = groupSelections;\n            }\n            setAutoSelections(selections);\n        }\n    }, [\n        checkAllMode,\n        groups,\n        subject,\n        autoSelectBestMCQ,\n        initializing\n    ]);\n    const initializeGroups = async ()=>{\n        setInitializing(true);\n        // Group by similarity levels (rounded to 0.1%)\n        const grouped = {};\n        groups.forEach((group, index)=>{\n            // Round to nearest 0.1% (e.g., 99.87% -> 99.9%)\n            const roundedSimilarity = Math.round(group.max_similarity * 1000) / 10;\n            if (!grouped[roundedSimilarity]) {\n                grouped[roundedSimilarity] = [];\n            }\n            grouped[roundedSimilarity].push(index);\n        });\n        setGroupsBySimilarity(grouped);\n        // Get sorted similarity levels (highest first)\n        const levels = Object.keys(grouped).map(Number).sort((a, b)=>b - a);\n        setSimilarityLevels(levels);\n        // Notify parent about levels loaded\n        if (onLevelsLoaded) {\n            onLevelsLoaded(levels.length);\n        }\n        // File statuses are now loaded via Context (no need to set local state)\n        // Load saved similarity range and targetGroupsPerPage from localStorage\n        const session = _lib_storage__WEBPACK_IMPORTED_MODULE_4__.storage.loadSession(subject);\n        if (session?.similarityRangeStart !== undefined && session?.similarityRangeEnd !== undefined) {\n            setSimilarityRangeStart(session.similarityRangeStart);\n            setSimilarityRangeEnd(session.similarityRangeEnd);\n        }\n        if (session?.targetGroupsPerPage !== undefined) {\n            setTargetGroupsPerPage(session.targetGroupsPerPage);\n        } else if (session?.maxGroupsPerPage !== undefined) {\n            // Backward compatibility: migrate from maxGroupsPerPage\n            setTargetGroupsPerPage(session.maxGroupsPerPage);\n        }\n        // OPTIMIZED: Load metadata for ALL groups before auto-selection\n        // Collect all unique filenames from all groups\n        const allFilenames = new Set();\n        groups.forEach((group)=>{\n            group.files.forEach((f)=>allFilenames.add(f));\n        });\n        const filenames = Array.from(allFilenames);\n        // Check if metadata exists in localStorage\n        const cachedMetadata = session?.mcqMetadata || {};\n        let finalMetadata = {\n            ...cachedMetadata\n        }; // Start with cached metadata\n        // Check which files need metadata loading\n        const missingFiles = filenames.filter((f)=>!cachedMetadata[f]);\n        // Load metadata if missing (batch API call for all files)\n        // Also reload ALL metadata to ensure it's up-to-date (files might have been updated)\n        if (filenames.length > 0) {\n            try {\n                // Load metadata for ALL files to ensure freshness (not just missing ones)\n                const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.api.batchFileStatuses(subject, filenames);\n                const mcqMetadata = {};\n                for (const [filename, data] of Object.entries(response.statuses)){\n                    const fileData = data;\n                    const fileNum = parseInt(filename.replace(/\\D/g, \"\")) || 999999;\n                    mcqMetadata[filename] = {\n                        hasYear: fileData.has_year || false,\n                        fileNum: fileNum\n                    };\n                }\n                // Use freshly loaded metadata (overwrite cached to ensure accuracy)\n                finalMetadata = mcqMetadata;\n                // Save metadata to localStorage\n                _lib_storage__WEBPACK_IMPORTED_MODULE_4__.storage.updateMCQMetadata(subject, mcqMetadata);\n                // Debug: Log metadata for verification\n                console.log(\"Loaded MCQ metadata for all files:\", mcqMetadata);\n                console.log(\"Files with year keys:\", Object.entries(mcqMetadata).filter(([f, m])=>m.hasYear).map(([f])=>f));\n            } catch (error) {\n                console.error(\"Failed to load MCQ metadata:\", error);\n                // Fallback to cached metadata if API fails\n                finalMetadata = cachedMetadata;\n            }\n        }\n        // NEW RULES: Auto-select AFTER metadata is fully loaded\n        // Rule 1: Saved files → checked | Rule 2: Removed files → unchecked\n        // Rule 3: Unknown files → select highest priority (hasYear > smallest fileNum)\n        // Use the finalMetadata directly instead of reading from localStorage\n        const selections = {};\n        for(let groupIndex = 0; groupIndex < groups.length; groupIndex++){\n            const groupFiles = groups[groupIndex].files;\n            // Pass metadata and checkAllMode to autoSelectBestMCQ (uses Context internally)\n            const groupSelections = autoSelectBestMCQ(groupFiles, finalMetadata, checkAllMode);\n            selections[groupIndex] = groupSelections;\n        }\n        setAutoSelections(selections);\n        setInitializing(false);\n    };\n    // Calculate groups within similarity range (inclusive boundaries) - limited by maxGroupsPerPage\n    const calculateGroupsInRange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((start, end, limit)=>{\n        const groupIndices = [];\n        // Use for loop instead of forEach so we can break when limit is reached\n        for(let index = 0; index < groups.length; index++){\n            const group = groups[index];\n            const roundedSimilarity = Math.round(group.max_similarity * 1000) / 10;\n            // Inclusive boundaries: start >= similarity >= end\n            if (roundedSimilarity <= start && roundedSimilarity >= end) {\n                groupIndices.push(index);\n                // Stop if we've reached the limit\n                if (limit && groupIndices.length >= limit) {\n                    break; // Actually break the loop, not just return from callback\n                }\n            }\n        }\n        return groupIndices;\n    }, [\n        groups\n    ]);\n    // Calculate range starting from a specific start point, expanding until approximately targetGroupsPerPage groups\n    const calculateRangeFromTargetGroups = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((startPoint, targetGroups)=>{\n        if (similarityLevels.length === 0) {\n            return {\n                start: 100.0,\n                end: 99.9\n            };\n        }\n        // Find the index of the level that matches or is closest to startPoint (from above)\n        let startIndex = -1;\n        for(let i = 0; i < similarityLevels.length; i++){\n            if (similarityLevels[i] <= startPoint) {\n                startIndex = i;\n                break;\n            }\n        }\n        // If no level found (startPoint is below all levels), use the last level\n        if (startIndex === -1) {\n            const lastLevel = similarityLevels[similarityLevels.length - 1];\n            return {\n                start: lastLevel,\n                end: lastLevel\n            };\n        }\n        const rangeStart = similarityLevels[startIndex];\n        let rangeEnd = rangeStart;\n        let totalGroups = 0;\n        // Expand range by adding consecutive levels until we reach approximately targetGroups groups\n        // This is not strict - we'll stop when we're close to the target\n        for(let i = startIndex; i < similarityLevels.length; i++){\n            const level = similarityLevels[i];\n            const groupsInLevel = groupsBySimilarity[level] || [];\n            totalGroups += groupsInLevel.length;\n            rangeEnd = level;\n            // Stop when we've reached approximately the target (within 20% or at least targetGroups)\n            if (totalGroups >= targetGroups * 0.8 && totalGroups >= targetGroups) {\n                break;\n            }\n            // Also stop if we've significantly exceeded the target (more than 50% over)\n            if (totalGroups > targetGroups * 1.5) {\n                break;\n            }\n        }\n        // If we haven't reached a reasonable number of groups, include all remaining levels (last page)\n        if (totalGroups < targetGroups * 0.5) {\n            rangeEnd = similarityLevels[similarityLevels.length - 1];\n            // Recalculate total groups for the full range\n            totalGroups = calculateGroupsInRange(rangeStart, rangeEnd).length;\n        }\n        return {\n            start: rangeStart,\n            end: rangeEnd\n        };\n    }, [\n        similarityLevels,\n        groupsBySimilarity,\n        calculateGroupsInRange\n    ]);\n    // Calculate next range automatically (expands until >= 100 groups)\n    const calculateNextRange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((currentEnd, currentStart)=>{\n        if (similarityLevels.length === 0) {\n            return {\n                start: 100.0,\n                end: 99.9\n            };\n        }\n        // Determine if we've shown all groups at currentEnd level\n        // If currentStart equals currentEnd, we've shown all groups at that level\n        // Otherwise, we might have more groups at currentEnd level\n        const allGroupsShownAtEnd = currentStart !== undefined && Math.abs(currentStart - currentEnd) < 0.01;\n        let nextStartIndex = -1;\n        if (allGroupsShownAtEnd) {\n            // We've shown all groups at currentEnd level, so start from next level below\n            for(let i = 0; i < similarityLevels.length; i++){\n                if (similarityLevels[i] < currentEnd) {\n                    nextStartIndex = i;\n                    break;\n                }\n            }\n        } else {\n            // We might have more groups at currentEnd level, so start from currentEnd to ensure continuity\n            for(let i = 0; i < similarityLevels.length; i++){\n                if (similarityLevels[i] <= currentEnd) {\n                    nextStartIndex = i;\n                    break;\n                }\n            }\n        }\n        // If no level found, we're at the end\n        if (nextStartIndex === -1) {\n            return {\n                start: similarityLevels[similarityLevels.length - 1],\n                end: similarityLevels[similarityLevels.length - 1]\n            };\n        }\n        const nextStart = similarityLevels[nextStartIndex];\n        let nextEnd = nextStart;\n        let totalGroups = 0;\n        // Expand range by adding consecutive levels until approximately targetGroupsPerPage groups\n        for(let i = nextStartIndex; i < similarityLevels.length; i++){\n            const level = similarityLevels[i];\n            const groupsInLevel = groupsBySimilarity[level] || [];\n            totalGroups += groupsInLevel.length;\n            nextEnd = level;\n            // Stop when we've reached approximately the target (within 20% or at least targetGroups)\n            if (totalGroups >= targetGroupsPerPage * 0.8 && totalGroups >= targetGroupsPerPage) {\n                break;\n            }\n            // Also stop if we've significantly exceeded the target (more than 50% over)\n            if (totalGroups > targetGroupsPerPage * 1.5) {\n                break;\n            }\n        }\n        // If we haven't reached a reasonable number of groups, include all remaining levels (last page)\n        if (totalGroups < targetGroupsPerPage * 0.5) {\n            nextEnd = similarityLevels[similarityLevels.length - 1];\n            // Recalculate total groups for the full range\n            totalGroups = calculateGroupsInRange(nextStart, nextEnd).length;\n        }\n        return {\n            start: nextStart,\n            end: nextEnd\n        };\n    }, [\n        similarityLevels,\n        groupsBySimilarity,\n        targetGroupsPerPage,\n        calculateGroupsInRange\n    ]);\n    // Get groups for current page (within current range)\n    // If range was manually adjusted, show ALL groups in range (no limit)\n    // If range was auto-calculated, limit to approximately targetGroupsPerPage\n    const getGroupsForCurrentPage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        // If range was manually adjusted, show all groups (no limit)\n        // Otherwise, apply targetGroupsPerPage limit for auto-calculated ranges\n        const limit = isManualRange ? undefined : targetGroupsPerPage;\n        return calculateGroupsInRange(similarityRangeStart, similarityRangeEnd, limit);\n    }, [\n        similarityRangeStart,\n        similarityRangeEnd,\n        targetGroupsPerPage,\n        isManualRange,\n        calculateGroupsInRange\n    ]);\n    // Reorder groups to keep file appearances together\n    // When a file appears in multiple groups, those groups should be consecutive\n    const reorderGroupsByFileAppearances = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((groupIndices)=>{\n        if (groupIndices.length === 0) return groupIndices;\n        // Build a map: filename -> list of group indices containing it (in original order)\n        const fileToGroups = {};\n        for (const groupIndex of groupIndices){\n            const group = groups[groupIndex];\n            if (!group) continue;\n            for (const filename of group.files){\n                if (!fileToGroups[filename]) {\n                    fileToGroups[filename] = [];\n                }\n                if (!fileToGroups[filename].includes(groupIndex)) {\n                    fileToGroups[filename].push(groupIndex);\n                }\n            }\n        }\n        // Find files that appear in multiple groups\n        const multiAppearanceFiles = Object.keys(fileToGroups).filter((filename)=>fileToGroups[filename].length > 1);\n        // If no files appear multiple times, return original order\n        if (multiAppearanceFiles.length === 0) {\n            return groupIndices;\n        }\n        // Create a set to track which groups have been placed\n        const placedGroups = new Set();\n        const reordered = [];\n        // Helper function to add a group and mark it as placed\n        const addGroup = (groupIndex)=>{\n            if (!placedGroups.has(groupIndex)) {\n                reordered.push(groupIndex);\n                placedGroups.add(groupIndex);\n            }\n        };\n        // Process groups in original order\n        for (const groupIndex of groupIndices){\n            // If already placed, skip\n            if (placedGroups.has(groupIndex)) {\n                continue;\n            }\n            const group = groups[groupIndex];\n            if (!group) {\n                addGroup(groupIndex);\n                continue;\n            }\n            // Check if this group contains any file that appears multiple times\n            const multiAppearanceFilesInGroup = group.files.filter((filename)=>fileToGroups[filename] && fileToGroups[filename].length > 1);\n            if (multiAppearanceFilesInGroup.length > 0) {\n                // Add this group first (it's the first appearance of these files)\n                addGroup(groupIndex);\n                // Collect all related groups (groups containing any of these multi-appearance files)\n                const relatedGroupsSet = new Set();\n                for (const filename of multiAppearanceFilesInGroup){\n                    // Get all other groups containing this file (excluding current group)\n                    for (const relatedGroupIndex of fileToGroups[filename]){\n                        if (relatedGroupIndex !== groupIndex && !placedGroups.has(relatedGroupIndex)) {\n                            relatedGroupsSet.add(relatedGroupIndex);\n                        }\n                    }\n                }\n                // Convert to array and sort by original position to maintain similarity ordering\n                const relatedGroups = Array.from(relatedGroupsSet).sort((a, b)=>{\n                    const posA = groupIndices.indexOf(a);\n                    const posB = groupIndices.indexOf(b);\n                    return posA - posB;\n                });\n                // Add related groups immediately after current group\n                // This ensures all appearances of files in this group come together\n                for (const relatedGroupIndex of relatedGroups){\n                    addGroup(relatedGroupIndex);\n                }\n            } else {\n                // No multi-appearance files, add normally\n                addGroup(groupIndex);\n            }\n        }\n        // Add any remaining groups that weren't placed (safety check)\n        for (const groupIndex of groupIndices){\n            if (!placedGroups.has(groupIndex)) {\n                reordered.push(groupIndex);\n            }\n        }\n        return reordered;\n    }, [\n        groups\n    ]);\n    // Get reordered groups for current page (with file appearances grouped together)\n    const getReorderedGroupsForPage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const groupsInPage = getGroupsForCurrentPage();\n        return reorderGroupsByFileAppearances(groupsInPage);\n    }, [\n        getGroupsForCurrentPage,\n        reorderGroupsByFileAppearances\n    ]);\n    // Initialize first page range on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (similarityLevels.length > 0 && groupsBySimilarity && Object.keys(groupsBySimilarity).length > 0 && !rangeInitialized.current) {\n            // Check if we have saved range values in localStorage\n            const session = _lib_storage__WEBPACK_IMPORTED_MODULE_4__.storage.loadSession(subject);\n            if (session?.similarityRangeStart !== undefined && session?.similarityRangeEnd !== undefined) {\n                // Use saved range values\n                setSimilarityRangeStart(session.similarityRangeStart);\n                setSimilarityRangeEnd(session.similarityRangeEnd);\n                rangeInitialized.current = true;\n                return;\n            }\n            // Default first page: Calculate range based on targetGroupsPerPage (approximate)\n            const maxLevel = similarityLevels[0]; // Highest similarity\n            const calculatedRange = calculateRangeFromTargetGroups(maxLevel, targetGroupsPerPage);\n            setSimilarityRangeStart(calculatedRange.start);\n            setSimilarityRangeEnd(calculatedRange.end);\n            setIsManualRange(false); // Mark as auto-calculated (not manual)\n            rangeInitialized.current = true;\n        }\n    }, [\n        similarityLevels,\n        groupsBySimilarity,\n        calculateRangeFromTargetGroups,\n        subject,\n        targetGroupsPerPage\n    ]);\n    // Update ref whenever similarityRangeStart changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        currentRangeStartRef.current = similarityRangeStart;\n    }, [\n        similarityRangeStart\n    ]);\n    const currentLevel = similarityLevels[currentLevelIndex];\n    const groupsInCurrentPage = getGroupsForCurrentPage();\n    const totalGroupsInPage = groupsInCurrentPage.length;\n    // Use Context to load file statuses for current range\n    // If range was manually adjusted, load all groups; otherwise limit to targetGroupsPerPage\n    const loadFileStatusesForRange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (start, end)=>{\n        // Guard: Prevent duplicate calls for same range\n        if (lastLoadedRangeRef.current?.start === start && lastLoadedRangeRef.current?.end === end) {\n            return;\n        }\n        // Guard: Prevent concurrent calls\n        if (loadingStatusesRef.current) {\n            return;\n        }\n        loadingStatusesRef.current = true;\n        try {\n            // If range was manually adjusted, load all groups; otherwise limit to targetGroupsPerPage\n            const limit = isManualRange ? undefined : targetGroupsPerPage;\n            const groupsInRange = calculateGroupsInRange(start, end, limit);\n            const allFilenames = new Set();\n            // Collect all unique filenames in this range\n            for (const groupIndex of groupsInRange){\n                groups[groupIndex].files.forEach((f)=>allFilenames.add(f));\n            }\n            const filenames = Array.from(allFilenames);\n            if (filenames.length === 0) {\n                loadingStatusesRef.current = false;\n                return;\n            }\n            // Use Context method - don't include fileStatusContext in deps to avoid infinite loop\n            await fileStatusContext.loadFileStatuses(subject, filenames);\n            // Update last loaded range\n            lastLoadedRangeRef.current = {\n                start,\n                end\n            };\n        } finally{\n            loadingStatusesRef.current = false;\n        }\n    }, [\n        groups,\n        subject,\n        calculateGroupsInRange,\n        targetGroupsPerPage,\n        isManualRange\n    ]); // Removed fileStatusContext from deps\n    // Use Context to load MCQ data for current range\n    // If range was manually adjusted, load all groups; otherwise limit to targetGroupsPerPage\n    const loadMCQDataForRange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (start, end)=>{\n        // Guard: Prevent concurrent calls\n        if (loadingMCQDataRef.current) {\n            return;\n        }\n        loadingMCQDataRef.current = true;\n        try {\n            // If range was manually adjusted, load all groups; otherwise limit to targetGroupsPerPage\n            const limit = isManualRange ? undefined : targetGroupsPerPage;\n            const groupsInRange = calculateGroupsInRange(start, end, limit);\n            const allFilenames = new Set();\n            // Collect all unique filenames in this range\n            for (const groupIndex of groupsInRange){\n                if (groups[groupIndex]?.files) {\n                    groups[groupIndex].files.forEach((f)=>allFilenames.add(f));\n                }\n            }\n            const filenames = Array.from(allFilenames);\n            if (filenames.length === 0) {\n                console.warn(`No filenames to load MCQ data for range ${start}% - ${end}%`);\n                loadingMCQDataRef.current = false;\n                return;\n            }\n            // Use Context method - don't include fileStatusContext in deps to avoid infinite loop\n            await fileStatusContext.loadMCQData(subject, filenames);\n        } finally{\n            loadingMCQDataRef.current = false;\n        }\n    }, [\n        groups,\n        subject,\n        calculateGroupsInRange,\n        targetGroupsPerPage,\n        isManualRange\n    ]); // Removed fileStatusContext from deps\n    // Load statuses when range changes (always fetch from backend - single source of truth)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (similarityLevels.length > 0 && groupsBySimilarity && Object.keys(groupsBySimilarity).length > 0) {\n            const groupsInRange = getGroupsForCurrentPage();\n            if (groupsInRange.length > 0) {\n                // Always load from backend (single source of truth)\n                loadFileStatusesForRange(similarityRangeStart, similarityRangeEnd);\n            }\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        similarityRangeStart,\n        similarityRangeEnd,\n        similarityLevels.length\n    ]); // Simplified deps to prevent infinite loop\n    // Load MCQ data when range changes (after statuses are loaded)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (similarityLevels.length > 0 && groupsBySimilarity && Object.keys(groupsBySimilarity).length > 0) {\n            const groupsInRange = getGroupsForCurrentPage();\n            if (groupsInRange.length === 0) return;\n            // Always load MCQ data for the range (no caching needed, it's fast)\n            // Add small delay to ensure statuses are loaded first\n            const timer = setTimeout(()=>{\n                loadMCQDataForRange(similarityRangeStart, similarityRangeEnd);\n            }, 100);\n            return ()=>clearTimeout(timer);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        similarityRangeStart,\n        similarityRangeEnd,\n        similarityLevels.length\n    ]); // Simplified deps to prevent infinite loop\n    // Reset page completed status when range changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setPageCompleted(false);\n        // Reset last loaded range when range changes\n        lastLoadedRangeRef.current = null;\n    }, [\n        similarityRangeStart,\n        similarityRangeEnd\n    ]);\n    // Save similarity range and targetGroupsPerPage to localStorage whenever they change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (similarityRangeStart !== undefined && similarityRangeEnd !== undefined) {\n            const session = _lib_storage__WEBPACK_IMPORTED_MODULE_4__.storage.loadSession(subject);\n            if (session) {\n                session.similarityRangeStart = similarityRangeStart;\n                session.similarityRangeEnd = similarityRangeEnd;\n                session.targetGroupsPerPage = targetGroupsPerPage;\n                _lib_storage__WEBPACK_IMPORTED_MODULE_4__.storage.saveSession(session);\n            }\n        }\n    }, [\n        similarityRangeStart,\n        similarityRangeEnd,\n        targetGroupsPerPage,\n        subject\n    ]);\n    // Detect conflicts and appearance counts for current page\n    // Use reordered groups so appearance order matches display order\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const groupsInPage = getReorderedGroupsForPage();\n        if (groupsInPage.length === 0) return;\n        const fileStates = {};\n        const appearanceCounts = {};\n        const appearanceOrder = {};\n        // First pass: Count total appearances (including KEPT cards on removed files)\n        const totalAppearances = {};\n        for (const groupIndex of groupsInPage){\n            const group = groups[groupIndex];\n            for (const filename of group.files){\n                totalAppearances[filename] = (totalAppearances[filename] || 0) + 1;\n                // If this file has a kept counterpart (purple KEPT card), count that appearance too\n                const fileStatus = fileStatusContext.getFileStatus(filename);\n                const removalInfo = fileStatus?.removalInfo;\n                const keptFiles = removalInfo?.kept_files || [];\n                if (keptFiles.length > 0 && fileStatus?.keptFileData) {\n                    const keptFilename = keptFiles[0];\n                    totalAppearances[keptFilename] = (totalAppearances[keptFilename] || 0) + 1;\n                }\n            }\n        }\n        // Track cumulative counts for appearance index (main + KEPT)\n        const fileCumulativeCount = {};\n        // Per-removed-file appearance order for its KEPT counterpart\n        const keptOrderLocal = {};\n        const session = _lib_storage__WEBPACK_IMPORTED_MODULE_4__.storage.loadSession(subject);\n        const localStorageChecked = session?.checkedFiles || {};\n        // Second pass: Check all groups in current page\n        for (const groupIndex of groupsInPage){\n            const group = groups[groupIndex];\n            if (!group) continue;\n            const selections = autoSelections[groupIndex] || {};\n            for (const filename of group.files){\n                let isChecked;\n                if (selections && filename in selections) {\n                    isChecked = selections[filename];\n                } else {\n                    // Use Context to get checked state\n                    isChecked = fileStatusContext.getFileChecked(filename);\n                }\n                // Track states for conflict detection\n                if (!fileStates[filename]) {\n                    fileStates[filename] = new Set();\n                }\n                fileStates[filename].add(isChecked);\n                // Track appearance counts\n                if (!appearanceCounts[filename]) {\n                    appearanceCounts[filename] = {\n                        total: 0,\n                        checked: 0\n                    };\n                }\n                appearanceCounts[filename].total++;\n                if (isChecked) {\n                    appearanceCounts[filename].checked++;\n                }\n                // Track cumulative order for MAIN cards:\n                // New rule: count every appearance on the page, regardless of checked state.\n                if (!(filename in fileCumulativeCount)) {\n                    fileCumulativeCount[filename] = 0;\n                }\n                fileCumulativeCount[filename] = fileCumulativeCount[filename] + 1;\n                const currentCount = fileCumulativeCount[filename];\n                if (!appearanceOrder[filename]) {\n                    appearanceOrder[filename] = {};\n                }\n                appearanceOrder[filename][groupIndex] = currentCount;\n                // Track cumulative order for KEPT cards (purple cards) if present\n                const fileStatus = fileStatusContext.getFileStatus(filename);\n                const removalInfo = fileStatus?.removalInfo;\n                const keptFiles = removalInfo?.kept_files || [];\n                if (keptFiles.length > 0 && fileStatus?.keptFileData) {\n                    // Count KEPT card appearance\n                    const keptFilename = keptFiles[0];\n                    if (!(keptFilename in fileCumulativeCount)) {\n                        fileCumulativeCount[keptFilename] = 0;\n                    }\n                    fileCumulativeCount[keptFilename] = fileCumulativeCount[keptFilename] + 1;\n                    const keptCount = fileCumulativeCount[keptFilename];\n                    if (!keptOrderLocal[filename]) {\n                        keptOrderLocal[filename] = {};\n                    }\n                    keptOrderLocal[filename][keptFilename] = keptCount;\n                }\n            }\n        }\n        // Find files with conflicting states\n        const conflicts = new Set();\n        for (const [filename, states] of Object.entries(fileStates)){\n            if (states.has(true) && states.has(false)) {\n                conflicts.add(filename);\n            }\n        }\n        setConflictingFiles(conflicts);\n        setFileAppearanceCounts(appearanceCounts);\n        setFileAppearanceOrder(appearanceOrder);\n        setFileAppearanceTotals(totalAppearances);\n        setKeptAppearanceOrder(keptOrderLocal);\n    }, [\n        similarityRangeStart,\n        similarityRangeEnd,\n        groups,\n        autoSelections,\n        subject,\n        getReorderedGroupsForPage,\n        fileStatusContext\n    ]);\n    // Calculate live counts for current page\n    // Only count files that will actually CHANGE status (accounting for multiple appearances)\n    const calculateLiveCounts = ()=>{\n        const groupsInPage = getGroupsForCurrentPage();\n        // Track final state of each file after all groups are processed\n        // Key: filename, Value: final checked state (true/false)\n        // IMPORTANT: If file is checked in ANY group, final state is saved (matches submit logic)\n        const fileFinalStates = {};\n        // First pass: Determine final state of each file\n        // If file is checked in ANY group, final state is saved (true)\n        for (const groupIndex of groupsInPage){\n            const group = groups[groupIndex];\n            const selections = autoSelections[groupIndex] || {};\n            for (const filename of group.files){\n                const isChecked = selections[filename] ?? false;\n                // If file is checked in ANY group, final state is saved (true)\n                // Once set to true, it stays true (checked in at least one group)\n                if (isChecked) {\n                    fileFinalStates[filename] = true;\n                } else if (!(filename in fileFinalStates)) {\n                    // Only set to false if not already true (not checked in any group)\n                    fileFinalStates[filename] = false;\n                }\n            }\n        }\n        // Second pass: Count unique files that will change status\n        const filesToSave = new Set();\n        const filesToRemove = new Set();\n        for (const filename of Object.keys(fileFinalStates)){\n            const finalState = fileFinalStates[filename];\n            // Use Context to get current status\n            const fileStatus = fileStatusContext.getFileStatus(filename);\n            const currentStatus = fileStatus?.status || \"unknown\";\n            if (finalState && currentStatus === \"removed\") {\n                // Will move from removed to saved\n                filesToSave.add(filename);\n            } else if (!finalState && currentStatus === \"saved\") {\n                // Will move from saved to removed\n                filesToRemove.add(filename);\n            }\n        }\n        return {\n            willMoveToSaved: filesToSave.size,\n            willMoveToRemoved: filesToRemove.size\n        };\n    };\n    const { willMoveToSaved, willMoveToRemoved } = calculateLiveCounts();\n    // Check if all groups in current page have auto selections applied\n    const allGroupsHaveAutoSelections = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        const groupsInPage = getGroupsForCurrentPage();\n        if (groupsInPage.length === 0) return false;\n        // Check if every group in current page has autoSelections entry\n        for (const groupIndex of groupsInPage){\n            if (!autoSelections[groupIndex] || Object.keys(autoSelections[groupIndex]).length === 0) {\n                return false;\n            }\n            // Also verify that all files in the group have selections\n            const group = groups[groupIndex];\n            if (group) {\n                for (const filename of group.files){\n                    if (!(filename in autoSelections[groupIndex])) {\n                        return false;\n                    }\n                }\n            }\n        }\n        return true;\n    }, [\n        getGroupsForCurrentPage,\n        autoSelections,\n        groups\n    ]);\n    const groupsReadyForSubmit = allGroupsHaveAutoSelections();\n    // Check if there's a next page\n    const hasNextPage = ()=>{\n        if (similarityLevels.length === 0) return false;\n        const minLevel = similarityLevels[similarityLevels.length - 1];\n        return similarityRangeEnd > minLevel;\n    };\n    // Check if there's a previous page\n    const hasPreviousPage = ()=>{\n        return pageHistory.length > 0;\n    };\n    const goToNextPage = ()=>{\n        if (!hasNextPage()) return;\n        // Save current page to history\n        setPageHistory((prev)=>[\n                ...prev,\n                {\n                    start: similarityRangeStart,\n                    end: similarityRangeEnd\n                }\n            ]);\n        // Calculate next range: start from currentEnd and expand until approximately targetGroupsPerPage groups\n        // This ensures continuity (no gaps) while bringing approximately the target number of groups\n        const minLevel = similarityLevels.length > 0 ? similarityLevels[similarityLevels.length - 1] : 85.0;\n        // Start exactly where current range ends (continuous, no gaps)\n        const nextStart = similarityRangeEnd;\n        // Calculate range from nextStart that brings approximately targetGroupsPerPage groups\n        const nextRange = calculateRangeFromTargetGroups(nextStart, targetGroupsPerPage);\n        // Ensure we don't go below minLevel\n        if (nextRange.end < minLevel) {\n            nextRange.end = minLevel;\n        }\n        setSimilarityRangeStart(nextRange.start);\n        setSimilarityRangeEnd(nextRange.end);\n        setIsManualRange(false); // Mark as auto-calculated (not manual)\n        setPageCompleted(false);\n    };\n    const goToPreviousPage = ()=>{\n        if (!hasPreviousPage()) return;\n        // Get previous range from history\n        const previousPage = pageHistory[pageHistory.length - 1];\n        setPageHistory((prev)=>prev.slice(0, -1));\n        setSimilarityRangeStart(previousPage.start);\n        setSimilarityRangeEnd(previousPage.end);\n        setPageCompleted(false);\n    };\n    const jumpToMin = ()=>{\n        if (similarityLevels.length > 0) {\n            const minLevel = similarityLevels[similarityLevels.length - 1];\n            // Calculate range starting from min level with target groups\n            const range = calculateRangeFromTargetGroups(minLevel, targetGroupsPerPage);\n            setPageHistory([]);\n            setSimilarityRangeStart(range.start);\n            setSimilarityRangeEnd(range.end);\n            setPageCompleted(false);\n        }\n    };\n    const jumpToMax = ()=>{\n        if (similarityLevels.length > 0) {\n            const maxLevel = similarityLevels[0]; // Highest similarity\n            // Calculate range starting from max level with target groups\n            const range = calculateRangeFromTargetGroups(maxLevel, targetGroupsPerPage);\n            setPageHistory([]);\n            setSimilarityRangeStart(range.start);\n            setSimilarityRangeEnd(range.end);\n            setPageCompleted(false);\n        }\n    };\n    // Expose methods via ref\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle)(ref, ()=>({\n            jumpToMin,\n            jumpToMax\n        }));\n    // Auto-scroll animation logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!autoScrollEnabled || !autoScrollActive) {\n            // Stop scrolling if disabled or paused\n            if (autoScrollAnimationRef.current !== null) {\n                cancelAnimationFrame(autoScrollAnimationRef.current);\n                autoScrollAnimationRef.current = null;\n            }\n            return;\n        }\n        const scroll = ()=>{\n            const now = performance.now();\n            const deltaTime = now - lastScrollTimeRef.current;\n            // Convert pixels per second to pixels per frame\n            // Assuming ~60fps, each frame is ~16.67ms\n            const pixelsPerFrame = AUTO_SCROLL_SPEED / 1000 * deltaTime;\n            // Check if we've reached the bottom (with small threshold)\n            const threshold = 10; // pixels\n            const isAtBottom = window.innerHeight + window.scrollY >= document.documentElement.scrollHeight - threshold;\n            if (isAtBottom) {\n                // Reached bottom, stop auto-scroll\n                setAutoScrollActive(false);\n                if (autoScrollAnimationRef.current !== null) {\n                    cancelAnimationFrame(autoScrollAnimationRef.current);\n                    autoScrollAnimationRef.current = null;\n                }\n                return;\n            }\n            // Scroll down\n            window.scrollBy(0, pixelsPerFrame);\n            lastScrollTimeRef.current = now;\n            // Continue animation\n            autoScrollAnimationRef.current = requestAnimationFrame(scroll);\n        };\n        // Initialize and start scrolling\n        lastScrollTimeRef.current = performance.now();\n        autoScrollAnimationRef.current = requestAnimationFrame(scroll);\n        // Cleanup function\n        return ()=>{\n            if (autoScrollAnimationRef.current !== null) {\n                cancelAnimationFrame(autoScrollAnimationRef.current);\n                autoScrollAnimationRef.current = null;\n            }\n        };\n    }, [\n        autoScrollEnabled,\n        autoScrollActive\n    ]);\n    // Space key handler (only active when auto-scroll is enabled)\n    // When auto-scroll is enabled, space key always toggles scroll: start if stopped, stop if active\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!autoScrollEnabled) {\n            return; // Don't listen to space key when auto-scroll button is OFF\n        }\n        const handleKeyDown = (e)=>{\n            // Only handle space key\n            if (e.code === \"Space\" || e.key === \" \") {\n                const target = e.target;\n                // Skip only text inputs and textareas (allow checkboxes to be intercepted)\n                const isTextInput = target.tagName === \"INPUT\" && target.type !== \"checkbox\" && target.type !== \"radio\" || target.tagName === \"TEXTAREA\" || target.isContentEditable || target.getAttribute(\"contenteditable\") === \"true\";\n                if (isTextInput) {\n                    return; // Don't interfere with text inputs or editable content\n                }\n                // ALWAYS prevent default and stop propagation when auto-scroll is enabled\n                // This ensures space key controls auto-scroll, not checkboxes or other elements\n                e.preventDefault();\n                e.stopPropagation();\n                e.stopImmediatePropagation();\n                // If checkbox is focused, blur it\n                if (target.tagName === \"INPUT\" && target.type === \"checkbox\") {\n                    target.blur();\n                }\n                // Toggle auto-scroll: if stopped, start it; if active, stop it\n                setAutoScrollActive((prev)=>!prev);\n            }\n        };\n        // Use capture phase to catch the event before other handlers\n        window.addEventListener(\"keydown\", handleKeyDown, true);\n        return ()=>{\n            window.removeEventListener(\"keydown\", handleKeyDown, true);\n        };\n    }, [\n        autoScrollEnabled\n    ]);\n    // Global per-filename toggle on current page:\n    // When user checks/unchecks one instance of a filename, apply the same\n    // checked state to all its appearances (in all groups) on THIS page only.\n    const handleFileToggleAll = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((filename, checked)=>{\n        setAutoSelections((prev)=>{\n            const updated = {\n                ...prev\n            };\n            const groupsInPage = getGroupsForCurrentPage();\n            for (const groupIndex of groupsInPage){\n                const group = groups[groupIndex];\n                if (!group || !group.files.includes(filename)) continue;\n                const prevGroupSelections = updated[groupIndex] || prev[groupIndex] || {};\n                updated[groupIndex] = {\n                    ...prevGroupSelections,\n                    [filename]: checked\n                };\n            }\n            return updated;\n        });\n        // Persist per-filename preference\n        _lib_storage__WEBPACK_IMPORTED_MODULE_4__.storage.updateCheckedFiles(subject, filename, checked);\n        // Stop auto-scroll when user interacts with MCQ boxes\n        if (autoScrollActive) {\n            setAutoScrollActive(false);\n        }\n        // Blur any focused checkbox immediately to prevent space key from toggling it\n        // Use requestAnimationFrame to ensure this happens after React's event handling\n        requestAnimationFrame(()=>{\n            if (document.activeElement && document.activeElement.tagName === \"INPUT\" && document.activeElement.type === \"checkbox\") {\n                document.activeElement.blur();\n            }\n        });\n    // Note: File status will be updated on submit, not on toggle\n    }, [\n        subject,\n        autoScrollActive,\n        getGroupsForCurrentPage,\n        groups\n    ]);\n    // Backwards-compatible handler used by GroupDisplay: simply delegate\n    const handleGroupToggle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((groupIndex, filename, checked)=>{\n        handleFileToggleAll(filename, checked);\n    }, [\n        handleFileToggleAll\n    ]);\n    const handleSubmitSingleGroup = async (groupIndex)=>{\n        try {\n            const checkedFiles = Object.entries(autoSelections[groupIndex] || {}).filter(([_, checked])=>checked).map(([filename])=>filename);\n            await _lib_api__WEBPACK_IMPORTED_MODULE_3__.api.submitGroup(subject, groupIndex, checkedFiles);\n            // Update Context after submit\n            const group = groups[groupIndex];\n            for (const filename of group.files){\n                const isChecked = checkedFiles.includes(filename);\n                fileStatusContext.setFileStatus(filename, {\n                    status: isChecked ? \"saved\" : \"removed\",\n                    checked: isChecked\n                });\n                fileStatusContext.setFileChecked(filename, isChecked);\n            }\n            // Notify parent\n            onGroupsSubmitted();\n        } catch (error) {\n            console.error(\"Failed to submit group:\", error);\n            alert(\"Error submitting group\");\n        }\n    };\n    const handleSubmitAllInPage = async ()=>{\n        // Show confirmation modal first\n        setShowConfirmModal(true);\n    };\n    const handleConfirmSubmitAll = async ()=>{\n        setShowConfirmModal(false);\n        setSubmitting(true);\n        try {\n            // Get counts BEFORE submission\n            let savedCountBefore = 0;\n            let removedCountBefore = 0;\n            try {\n                const summaryBefore = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.api.getSummary(subject);\n                savedCountBefore = summaryBefore.final_saved || 0;\n                removedCountBefore = summaryBefore.final_removed || 0;\n                console.log(`Before submission - Saved: ${savedCountBefore}, Removed: ${removedCountBefore}`);\n            } catch (error) {\n                console.error(\"Failed to get summary before:\", error);\n            }\n            const groupsInPage = getGroupsForCurrentPage();\n            // Calculate final state for each file: if checked in ANY group = saved\n            // This ensures files checked even once remain saved, even if unchecked in other groups\n            const fileFinalStates = {};\n            // First pass: Determine final state for each file\n            // Initialize all files to false first, then set to true if checked in any group\n            for (const groupIndex of groupsInPage){\n                const group = groups[groupIndex];\n                for (const filename of group.files){\n                    if (!(filename in fileFinalStates)) {\n                        fileFinalStates[filename] = false;\n                    }\n                }\n            }\n            // Second pass: Set to true if checked in ANY group\n            for (const groupIndex of groupsInPage){\n                const group = groups[groupIndex];\n                const selections = autoSelections[groupIndex] || {};\n                for (const filename of group.files){\n                    const isChecked = selections[filename] ?? false;\n                    // If file is checked in ANY group, final state is saved (true)\n                    if (isChecked) {\n                        fileFinalStates[filename] = true;\n                    }\n                // If unchecked, keep as false (already initialized above)\n                }\n            }\n            let totalMovedToRemoved = 0; // Files moved FROM saved TO removed in this submission\n            let totalUncheckedFromSaved = 0; // All files unchecked that were in saved folder\n            let totalNewlyAddedToSaved = 0; // Files newly added to saved_db (from unknown or removed)\n            let totalGroupsSubmitted = 0;\n            // Submit all groups in current page\n            for (const groupIndex of groupsInPage){\n                const group = groups[groupIndex];\n                // Build checkedFiles list based on final state, not just this group's selection\n                // If file's final state is saved (checked in any group), include it in checkedFiles\n                const checkedFiles = [];\n                for (const filename of group.files){\n                    const finalState = fileFinalStates[filename];\n                    // Only include file if finalState is explicitly true\n                    // If finalState is false or undefined, file will be removed (not in checkedFiles)\n                    if (finalState === true) {\n                        // File should be saved (checked in at least one group)\n                        checkedFiles.push(filename);\n                    }\n                // If finalState is false or undefined, don't add to checkedFiles (will be removed)\n                }\n                const response = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.api.submitGroup(subject, groupIndex, checkedFiles);\n                totalGroupsSubmitted++;\n                // Update Context after each group submit based on final state\n                for (const filename of group.files){\n                    const finalState = fileFinalStates[filename];\n                    fileStatusContext.setFileStatus(filename, {\n                        status: finalState === true ? \"saved\" : \"removed\",\n                        checked: finalState\n                    });\n                    fileStatusContext.setFileChecked(filename, finalState);\n                }\n                // Accumulate statistics\n                if (response.moved_to_removed) {\n                    totalMovedToRemoved += response.moved_to_removed;\n                }\n                if (response.unchecked_from_saved) {\n                    totalUncheckedFromSaved += response.unchecked_from_saved;\n                }\n                if (response.newly_added_to_saved) {\n                    totalNewlyAddedToSaved += response.newly_added_to_saved;\n                }\n                console.log(`Group ${groupIndex} submitted:`, {\n                    moved_to_removed: response.moved_to_removed,\n                    unchecked_from_saved: response.unchecked_from_saved,\n                    newly_added_to_saved: response.newly_added_to_saved,\n                    saved_count: response.saved_count,\n                    removed_count: response.removed_count\n                });\n            }\n            console.log(`Total - Moved to removed: ${totalMovedToRemoved}, Unchecked from saved: ${totalUncheckedFromSaved}, Newly added to saved: ${totalNewlyAddedToSaved}, Groups: ${totalGroupsSubmitted}`);\n            // Get current folder counts AFTER submission\n            let savedCountAfter = 0;\n            let removedCountAfter = 0;\n            try {\n                const summaryAfter = await _lib_api__WEBPACK_IMPORTED_MODULE_3__.api.getSummary(subject);\n                savedCountAfter = summaryAfter.final_saved || 0;\n                removedCountAfter = summaryAfter.final_removed || 0;\n                console.log(`After submission - Saved: ${savedCountAfter}, Removed: ${removedCountAfter}`);\n            } catch (error) {\n                console.error(\"Failed to get summary after:\", error);\n            }\n            // Calculate actual changes\n            const actualRemovedFromSaved = savedCountBefore - savedCountAfter; // How many were removed from saved\n            const actualAddedToRemoved = removedCountAfter - removedCountBefore; // How many were added to removed\n            console.log(`Actual changes - Removed from saved: ${actualRemovedFromSaved}, Added to removed: ${actualAddedToRemoved}`);\n            // Show success modal with statistics (always show if groups were submitted)\n            if (totalGroupsSubmitted > 0) {\n                // Use actual changes if available, otherwise use tracked values\n                // Use moved_to_removed instead of unchecked_from_saved because unchecked_from_saved\n                // incorrectly includes files that were already in REMOVED (never in SAVED)\n                const removedFromSaved = actualRemovedFromSaved > 0 ? actualRemovedFromSaved : totalMovedToRemoved;\n                const addedToSaved = totalNewlyAddedToSaved; // Files newly added to saved_db\n                const addedToRemoved = actualAddedToRemoved > 0 ? actualAddedToRemoved : totalMovedToRemoved;\n                console.log(\"Setting success modal with stats:\", {\n                    removedFromSaved,\n                    addedToSaved,\n                    addedToRemoved,\n                    savedCountAfter,\n                    removedCountAfter\n                });\n                setSuccessStats({\n                    movedToRemoved: removedFromSaved,\n                    addedToSaved: addedToSaved,\n                    addedToRemoved: addedToRemoved,\n                    savedCount: savedCountAfter,\n                    removedCount: removedCountAfter\n                });\n                // Calculate next page: start from currentEnd and expand until approximately targetGroupsPerPage groups\n                let nextRange = null;\n                let hasNext = false;\n                if (hasNextPage()) {\n                    const minLevel = similarityLevels.length > 0 ? similarityLevels[similarityLevels.length - 1] : 85.0;\n                    const nextStart = similarityRangeEnd;\n                    const calculatedNext = calculateRangeFromTargetGroups(nextStart, targetGroupsPerPage);\n                    if (calculatedNext.end >= minLevel) {\n                        nextRange = calculatedNext;\n                        hasNext = true;\n                    }\n                }\n                // Set next page info and start loading in background\n                setNextPageInfo({\n                    nextRange,\n                    hasNextPage: hasNext,\n                    loading: false\n                });\n                setShowSuccessModal(true);\n                console.log(\"Modal should be visible now\");\n            }\n            // Mark page as completed\n            setPageCompleted(true);\n            // Track removed files after successful submission\n            try {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_3__.api.trackRemoved(subject);\n                console.log(\"Removed files tracked successfully\");\n            } catch (error) {\n                console.error(\"Failed to track removed files:\", error);\n            // Don't fail the whole operation if tracking fails\n            }\n            // Notify parent\n            onGroupsSubmitted();\n            // Range is already saved to localStorage via useEffect (lines 677-688)\n            // Stop loading only after success modal is shown\n            setSubmitting(false);\n        } catch (error) {\n            console.error(\"Failed to submit groups:\", error);\n            alert(\"Error submitting groups\");\n            setSubmitting(false);\n        }\n    };\n    if (initializing) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex justify-center items-center py-24\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1410,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 text-lg\",\n                        children: \"Initializing similarity groups...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1411,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-500 text-sm mt-2\",\n                        children: \"Loading groups and auto-selecting best MCQs\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1412,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                lineNumber: 1409,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n            lineNumber: 1408,\n            columnNumber: 7\n        }, undefined);\n    }\n    // Use reordered groups for display (file appearances grouped together)\n    const groupsInPage = getReorderedGroupsForPage();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative\",\n        children: [\n            (submitting || loadingNextPage) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[110]\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1428,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-2xl font-bold text-gray-800 mb-2\",\n                                children: submitting ? \"Submitting Groups...\" : \"Loading Next Page...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1429,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600\",\n                                children: submitting ? \"Please wait while groups are being processed\" : \"Preparing next page for review\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1432,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1427,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                    lineNumber: 1426,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                lineNumber: 1425,\n                columnNumber: 9\n            }, undefined),\n            showConfirmModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100]\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-2xl font-bold text-gray-800 mb-6\",\n                                children: \"Confirm Submission\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1445,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex gap-3 mt-8\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowConfirmModal(false),\n                                        className: \"flex-1 px-6 py-3 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold rounded-lg transition-all\",\n                                        children: \"Cancel\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1449,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: handleConfirmSubmitAll,\n                                        disabled: submitting,\n                                        className: \"flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-semibold rounded-lg transition-all\",\n                                        children: submitting ? \"Submitting...\" : \"Confirm\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1455,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1448,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1444,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                    lineNumber: 1443,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                lineNumber: 1442,\n                columnNumber: 9\n            }, undefined),\n            showSuccessModal && successStats && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100]\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-6xl mb-4\",\n                                children: \"✓\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1473,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-2xl font-bold text-gray-800 mb-4\",\n                                children: \"Successfully Submitted!\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1474,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-4 mb-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-red-50 border border-red-200 rounded-lg p-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-gray-800\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"font-bold text-red-600 text-lg\",\n                                                                children: successStats.movedToRemoved\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                                lineNumber: 1481,\n                                                                columnNumber: 23\n                                                            }, undefined),\n                                                            \" MCQs removed from \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"font-semibold\",\n                                                                children: \"SAVED\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                                lineNumber: 1481,\n                                                                columnNumber: 127\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1480,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-gray-800\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"font-bold text-green-600 text-lg\",\n                                                                children: successStats.addedToSaved\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                                lineNumber: 1484,\n                                                                columnNumber: 23\n                                                            }, undefined),\n                                                            \" MCQs added to \",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"font-semibold\",\n                                                                children: \"SAVED\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                                lineNumber: 1484,\n                                                                columnNumber: 123\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1483,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1479,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-600 mt-1\",\n                                                children: [\n                                                    \"(\",\n                                                    successStats.savedCount,\n                                                    \" MCQs present)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1487,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1478,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-orange-50 border border-orange-200 rounded-lg p-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-gray-800\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-bold text-orange-600 text-lg\",\n                                                        children: successStats.addedToRemoved\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1494,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    \" MCQs added to \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"font-semibold\",\n                                                        children: \"REMOVED\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1494,\n                                                        columnNumber: 124\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1493,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-600 mt-1\",\n                                                children: [\n                                                    \"(\",\n                                                    successStats.removedCount,\n                                                    \" MCQs present)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1496,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1492,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1477,\n                                columnNumber: 15\n                            }, undefined),\n                            nextPageInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg\",\n                                children: nextPageInfo.hasNextPage && nextPageInfo.nextRange ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-700\",\n                                    children: [\n                                        \"Next page ready: \",\n                                        nextPageInfo.nextRange.start.toFixed(2),\n                                        \"% - \",\n                                        nextPageInfo.nextRange.end.toFixed(2),\n                                        \"%\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                    lineNumber: 1505,\n                                    columnNumber: 21\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-700 font-semibold\",\n                                    children: \"✓ All pages completed! No more groups to review.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                    lineNumber: 1509,\n                                    columnNumber: 21\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1503,\n                                columnNumber: 17\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: async ()=>{\n                                    setShowSuccessModal(false);\n                                    setSuccessStats(null);\n                                    // Auto-advance to next page if available\n                                    if (nextPageInfo?.hasNextPage && nextPageInfo.nextRange) {\n                                        // Start loading next page immediately\n                                        setLoadingNextPage(true);\n                                        // Save current page to history\n                                        setPageHistory((prev)=>[\n                                                ...prev,\n                                                {\n                                                    start: similarityRangeStart,\n                                                    end: similarityRangeEnd\n                                                }\n                                            ]);\n                                        // Navigate to next page\n                                        setSimilarityRangeStart(nextPageInfo.nextRange.start);\n                                        setSimilarityRangeEnd(nextPageInfo.nextRange.end);\n                                        setPageCompleted(false);\n                                        // Range will be saved to localStorage automatically via useEffect\n                                        // Wait for groups to load - check periodically until groups are available\n                                        const checkGroupsLoaded = setInterval(()=>{\n                                            const groupsInNewPage = getGroupsForCurrentPage();\n                                            // Stop loading when groups are loaded or if no more pages\n                                            if (groupsInNewPage.length > 0 || !hasNextPage()) {\n                                                clearInterval(checkGroupsLoaded);\n                                                setLoadingNextPage(false);\n                                            }\n                                        }, 100);\n                                        // Safety timeout - stop loading after 5 seconds max\n                                        setTimeout(()=>{\n                                            clearInterval(checkGroupsLoaded);\n                                            setLoadingNextPage(false);\n                                        }, 5000);\n                                    } else {\n                                        // No next page, just close modal\n                                        setNextPageInfo(null);\n                                    }\n                                },\n                                disabled: loadingNextPage,\n                                className: \"w-full px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold rounded-lg transition-all\",\n                                children: loadingNextPage ? \"Loading Next Page...\" : nextPageInfo?.hasNextPage ? \"OK - Go to Next Page\" : \"OK\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1516,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1472,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                    lineNumber: 1471,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                lineNumber: 1470,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed top-8 right-8 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: handleSubmitAllInPage,\n                    disabled: submitting || fileStatusContext.loadingStatuses || pageCompleted || initializing || !groupsReadyForSubmit,\n                    className: \"px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-bold rounded-full shadow-2xl transform hover:scale-105 transition-all min-w-[280px]\",\n                    children: submitting ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-base\",\n                        children: \"Submitting...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1573,\n                        columnNumber: 13\n                    }, undefined) : initializing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-base\",\n                        children: \"Initializing...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1575,\n                        columnNumber: 13\n                    }, undefined) : fileStatusContext.loadingStatuses ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-base\",\n                        children: \"Loading...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1577,\n                        columnNumber: 13\n                    }, undefined) : !groupsReadyForSubmit ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-base\",\n                        children: \"Applying auto selections...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1579,\n                        columnNumber: 13\n                    }, undefined) : pageCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-base\",\n                        children: \"✓ Page Completed\"\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1581,\n                        columnNumber: 13\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col items-center gap-1.5\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-base font-bold\",\n                                children: [\n                                    \"Submit All (\",\n                                    totalGroupsInPage,\n                                    \" groups)\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1584,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs font-normal flex items-center gap-2.5\",\n                                children: [\n                                    willMoveToSaved > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-green-100\",\n                                                children: \"Saving\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1588,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"bg-green-800 px-2 py-0.5 rounded font-bold text-white\",\n                                                children: willMoveToSaved\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1589,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-green-100\",\n                                                children: \"MCQs\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1590,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1587,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    willMoveToSaved > 0 && willMoveToRemoved > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-green-300\",\n                                        children: \"•\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1594,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    willMoveToRemoved > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"flex items-center gap-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-red-100\",\n                                                children: \"Removing\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1598,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"bg-red-800 px-2 py-0.5 rounded font-bold text-white\",\n                                                children: willMoveToRemoved\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1599,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-red-100\",\n                                                children: \"MCQs\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1600,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1597,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    willMoveToSaved === 0 && willMoveToRemoved === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-gray-300 text-xs\",\n                                        children: \"No changes\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1604,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1585,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1583,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                    lineNumber: 1567,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                lineNumber: 1566,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white rounded-lg shadow-lg p-4 mb-2 border-b-4 border-blue-600\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-center mb-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"text-3xl font-bold text-blue-600\",\n                                        children: [\n                                            \"Similarity: \",\n                                            similarityRangeStart.toFixed(2),\n                                            \"% - \",\n                                            similarityRangeEnd.toFixed(2),\n                                            \"%\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1616,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-600 mt-1\",\n                                        children: [\n                                            totalGroupsInPage,\n                                            \" / \",\n                                            groups.length,\n                                            \" group\",\n                                            groups.length !== 1 ? \"s\" : \"\",\n                                            \" on this page\",\n                                            pageCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-2 px-2 py-1 bg-green-100 text-green-800 rounded font-semibold\",\n                                                children: \"✓ Page Completed\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1622,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1619,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    fileStatusContext.loadingStatuses && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-gray-500 mt-1\",\n                                        children: \"Loading file statuses...\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1628,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1615,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2 mr-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-semibold text-gray-700\",\n                                                children: \"Check All:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1635,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setCheckAllMode(!checkAllMode),\n                                                className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${checkAllMode ? \"bg-blue-600\" : \"bg-gray-300\"}`,\n                                                title: checkAllMode ? \"Check all except removed files\" : \"Use preference-based selection\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${checkAllMode ? \"translate-x-6\" : \"translate-x-1\"}`\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                    lineNumber: 1643,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1636,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-gray-500\",\n                                                children: checkAllMode ? \"ON\" : \"OFF\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1649,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1634,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2 mr-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-semibold text-gray-700\",\n                                                children: \"Auto Scroll:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1656,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    const newEnabled = !autoScrollEnabled;\n                                                    setAutoScrollEnabled(newEnabled);\n                                                    if (newEnabled) {\n                                                        // When enabling, start auto-scroll\n                                                        setAutoScrollActive(true);\n                                                    } else {\n                                                        // When disabling, stop auto-scroll\n                                                        setAutoScrollActive(false);\n                                                    }\n                                                },\n                                                className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${autoScrollEnabled ? \"bg-green-600\" : \"bg-gray-300\"}`,\n                                                title: autoScrollEnabled ? \"Auto-scroll enabled (press Space to pause/resume)\" : \"Enable auto-scroll\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${autoScrollEnabled ? \"translate-x-6\" : \"translate-x-1\"}`\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                    lineNumber: 1674,\n                                                    columnNumber: 17\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1657,\n                                                columnNumber: 15\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-gray-500\",\n                                                children: autoScrollEnabled ? autoScrollActive ? \"ON\" : \"PAUSED\" : \"OFF\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1680,\n                                                columnNumber: 15\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1655,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: goToPreviousPage,\n                                        disabled: !hasPreviousPage(),\n                                        className: \"px-4 py-2 bg-gray-300 hover:bg-gray-400 disabled:bg-gray-200 disabled:cursor-not-allowed rounded-lg font-semibold\",\n                                        children: \"← Previous Page\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1684,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: goToNextPage,\n                                        disabled: !hasNextPage(),\n                                        className: \"px-4 py-2 bg-gray-300 hover:bg-gray-400 disabled:bg-gray-200 disabled:cursor-not-allowed rounded-lg font-semibold\",\n                                        children: \"Next Page →\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1692,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1632,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1614,\n                        columnNumber: 9\n                    }, undefined),\n                    similarityLevels.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-4 bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-semibold text-gray-700\",\n                                                children: \"Target Groups Per Page:\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1708,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                value: targetGroupsPerPage,\n                                                onChange: (e)=>{\n                                                    const newTarget = parseInt(e.target.value);\n                                                    setTargetGroupsPerPage(newTarget);\n                                                    // Recalculate current range based on new target (preserve current start position)\n                                                    const currentStart = currentRangeStartRef.current;\n                                                    const recalculatedRange = calculateRangeFromTargetGroups(currentStart, newTarget);\n                                                    setSimilarityRangeStart(recalculatedRange.start);\n                                                    setSimilarityRangeEnd(recalculatedRange.end);\n                                                    setIsManualRange(false); // Mark as auto-calculated (not manual)\n                                                    setPageHistory([]);\n                                                    setPageCompleted(false);\n                                                },\n                                                className: \"px-3 py-1 border border-gray-300 rounded-lg bg-white text-gray-700 font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: 100,\n                                                        children: \"100\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1725,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: 200,\n                                                        children: \"200\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1726,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                        value: 300,\n                                                        children: \"300\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1727,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1709,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-xs text-gray-500\",\n                                                children: \"(approximate, not strict)\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1729,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1707,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm text-gray-600\",\n                                            children: [\n                                                \"Showing \",\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-bold text-blue-600\",\n                                                    children: totalGroupsInPage\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                    lineNumber: 1733,\n                                                    columnNumber: 27\n                                                }, undefined),\n                                                \" / \",\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-semibold text-gray-700\",\n                                                    children: groups.length\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                    lineNumber: 1733,\n                                                    columnNumber: 98\n                                                }, undefined),\n                                                \" groups\",\n                                                similarityRangeStart !== undefined && similarityRangeEnd !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: [\n                                                        \" \",\n                                                        \"(Range: \",\n                                                        similarityRangeStart.toFixed(2),\n                                                        \"% - \",\n                                                        similarityRangeEnd.toFixed(2),\n                                                        \"%)\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                    lineNumber: 1735,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                            lineNumber: 1732,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1731,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1706,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-purple-50 border border-purple-200 rounded-lg p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mb-3\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm text-gray-600\",\n                                            children: \"Adjust similarity range manually (or use Next Page for auto-calculation)\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                            lineNumber: 1746,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1745,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-semibold text-gray-700 min-w-[100px]\",\n                                                        children: [\n                                                            \"Start: \",\n                                                            similarityRangeStart.toFixed(2),\n                                                            \"%\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1752,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            const newStart = Math.max(similarityRangeEnd, similarityRangeStart - 0.01);\n                                                            setSimilarityRangeStart(newStart);\n                                                            setIsManualRange(true); // Mark as manually adjusted\n                                                            setPageHistory([]);\n                                                            setPageCompleted(false);\n                                                        },\n                                                        disabled: similarityRangeStart <= similarityRangeEnd,\n                                                        className: \"px-2 py-1 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:cursor-not-allowed rounded text-gray-600 text-xs font-bold\",\n                                                        title: \"Decrease by 0.01%\",\n                                                        children: \"−−\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1756,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            const newStart = Math.max(similarityRangeEnd, similarityRangeStart - 0.1);\n                                                            setSimilarityRangeStart(newStart);\n                                                            setIsManualRange(true); // Mark as manually adjusted\n                                                            setPageHistory([]);\n                                                            setPageCompleted(false);\n                                                        },\n                                                        disabled: similarityRangeStart <= similarityRangeEnd,\n                                                        className: \"px-3 py-1 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-lg font-bold text-gray-700 text-lg\",\n                                                        title: \"Decrease by 0.1%\",\n                                                        children: \"−\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1771,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1 relative\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"range\",\n                                                            min: similarityRangeEnd,\n                                                            max: similarityLevels[0],\n                                                            step: 0.01,\n                                                            value: similarityRangeStart,\n                                                            onChange: (e)=>{\n                                                                const newStart = parseFloat(e.target.value);\n                                                                setSimilarityRangeStart(newStart);\n                                                                setIsManualRange(true); // Mark as manually adjusted\n                                                                setPageHistory([]);\n                                                                setPageCompleted(false);\n                                                            },\n                                                            className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                            lineNumber: 1786,\n                                                            columnNumber: 17\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1785,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            const newStart = Math.min(similarityLevels[0], similarityRangeStart + 0.1);\n                                                            setSimilarityRangeStart(newStart);\n                                                            setIsManualRange(true); // Mark as manually adjusted\n                                                            setPageHistory([]);\n                                                            setPageCompleted(false);\n                                                        },\n                                                        disabled: similarityRangeStart >= similarityLevels[0],\n                                                        className: \"px-3 py-1 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-lg font-bold text-gray-700 text-lg\",\n                                                        title: \"Increase by 0.1%\",\n                                                        children: \"+\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1803,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            const newStart = Math.min(similarityLevels[0], similarityRangeStart + 0.01);\n                                                            setSimilarityRangeStart(newStart);\n                                                            setIsManualRange(true); // Mark as manually adjusted\n                                                            setPageHistory([]);\n                                                            setPageCompleted(false);\n                                                        },\n                                                        disabled: similarityRangeStart >= similarityLevels[0],\n                                                        className: \"px-2 py-1 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:cursor-not-allowed rounded text-gray-600 text-xs font-bold\",\n                                                        title: \"Increase by 0.01%\",\n                                                        children: \"++\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1818,\n                                                        columnNumber: 15\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1751,\n                                                columnNumber: 13\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-semibold text-gray-700 min-w-[100px]\",\n                                                        children: [\n                                                            \"End: \",\n                                                            similarityRangeEnd.toFixed(2),\n                                                            \"%\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1834,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            const newEnd = Math.max(similarityLevels[similarityLevels.length - 1], similarityRangeEnd - 0.01);\n                                                            setSimilarityRangeEnd(newEnd);\n                                                            setIsManualRange(true); // Mark as manually adjusted\n                                                            setPageHistory([]);\n                                                            setPageCompleted(false);\n                                                        },\n                                                        disabled: similarityRangeEnd <= similarityLevels[similarityLevels.length - 1],\n                                                        className: \"px-2 py-1 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:cursor-not-allowed rounded text-gray-600 text-xs font-bold\",\n                                                        title: \"Decrease by 0.01%\",\n                                                        children: \"−−\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1838,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            const newEnd = Math.max(similarityLevels[similarityLevels.length - 1], similarityRangeEnd - 0.1);\n                                                            setSimilarityRangeEnd(newEnd);\n                                                            setIsManualRange(true); // Mark as manually adjusted\n                                                            setPageHistory([]);\n                                                            setPageCompleted(false);\n                                                        },\n                                                        disabled: similarityRangeEnd <= similarityLevels[similarityLevels.length - 1],\n                                                        className: \"px-3 py-1 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-lg font-bold text-gray-700 text-lg\",\n                                                        title: \"Decrease by 0.1%\",\n                                                        children: \"−\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1853,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1 relative\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"range\",\n                                                            min: similarityLevels[similarityLevels.length - 1],\n                                                            max: similarityRangeStart,\n                                                            step: 0.01,\n                                                            value: similarityRangeEnd,\n                                                            onChange: (e)=>{\n                                                                const newEnd = parseFloat(e.target.value);\n                                                                setSimilarityRangeEnd(newEnd);\n                                                                setIsManualRange(true); // Mark as manually adjusted\n                                                                setPageHistory([]);\n                                                                setPageCompleted(false);\n                                                            },\n                                                            className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                            lineNumber: 1868,\n                                                            columnNumber: 17\n                                                        }, undefined)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1867,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            const newEnd = Math.min(similarityRangeStart, similarityRangeEnd + 0.1);\n                                                            setSimilarityRangeEnd(newEnd);\n                                                            setIsManualRange(true); // Mark as manually adjusted\n                                                            setPageHistory([]);\n                                                            setPageCompleted(false);\n                                                        },\n                                                        disabled: similarityRangeEnd >= similarityRangeStart,\n                                                        className: \"px-3 py-1 bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 disabled:cursor-not-allowed rounded-lg font-bold text-gray-700 text-lg\",\n                                                        title: \"Increase by 0.1%\",\n                                                        children: \"+\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1885,\n                                                        columnNumber: 15\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            const newEnd = Math.min(similarityRangeStart, similarityRangeEnd + 0.01);\n                                                            setSimilarityRangeEnd(newEnd);\n                                                            setIsManualRange(true); // Mark as manually adjusted\n                                                            setPageHistory([]);\n                                                            setPageCompleted(false);\n                                                        },\n                                                        disabled: similarityRangeEnd >= similarityRangeStart,\n                                                        className: \"px-2 py-1 bg-gray-100 hover:bg-gray-200 disabled:bg-gray-50 disabled:cursor-not-allowed rounded text-gray-600 text-xs font-bold\",\n                                                        title: \"Increase by 0.01%\",\n                                                        children: \"++\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                        lineNumber: 1900,\n                                                        columnNumber: 15\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1833,\n                                                columnNumber: 13\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1750,\n                                        columnNumber: 11\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1744,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1704,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                lineNumber: 1613,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-6 pr-4 pb-8\",\n                children: [\n                    fileStatusContext.loadingMCQData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-lg p-6 shadow-xl\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1928,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-lg font-semibold text-gray-800\",\n                                                children: \"Loading MCQ data...\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1930,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-600\",\n                                                children: [\n                                                    \"Loading data for \",\n                                                    totalGroupsInPage,\n                                                    \" group\",\n                                                    totalGroupsInPage !== 1 ? \"s\" : \"\",\n                                                    \"...\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                                lineNumber: 1931,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                        lineNumber: 1929,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1927,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                            lineNumber: 1926,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1925,\n                        columnNumber: 11\n                    }, undefined),\n                    groupsInPage.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center py-12\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600 text-lg\",\n                                children: \"No groups available in this range\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1942,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-500 text-sm mt-2\",\n                                children: \"Adjust the similarity range sliders above to find groups\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1943,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                        lineNumber: 1941,\n                        columnNumber: 11\n                    }, undefined) : groupsInPage.map((groupIndex, idx)=>{\n                        const group = groups[groupIndex];\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            id: `group-${groupIndex}`,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GroupDisplay__WEBPACK_IMPORTED_MODULE_2__.GroupDisplay, {\n                                subject: subject,\n                                group: group,\n                                groupIndex: groupIndex,\n                                totalGroups: groups.length,\n                                completedGroups: completedGroups,\n                                onSubmit: ()=>handleSubmitSingleGroup(groupIndex),\n                                initialCheckedFiles: autoSelections[groupIndex],\n                                onFileToggle: (filename, checked)=>handleGroupToggle(groupIndex, filename, checked),\n                                conflictingFiles: conflictingFiles,\n                                fileAppearanceCounts: fileAppearanceCounts,\n                                fileAppearanceOrder: fileAppearanceOrder,\n                                fileAppearanceTotals: fileAppearanceTotals,\n                                keptAppearanceOrder: keptAppearanceOrder\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                                lineNumber: 1950,\n                                columnNumber: 15\n                            }, undefined)\n                        }, groupIndex, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                            lineNumber: 1949,\n                            columnNumber: 13\n                        }, undefined);\n                    })\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n                lineNumber: 1922,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n        lineNumber: 1422,\n        columnNumber: 5\n    }, undefined);\n});\nSimilarityGroupViewInner.displayName = \"SimilarityGroupViewInner\";\n// Outer component that provides Context\nconst SimilarityGroupView = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_FileStatusContext__WEBPACK_IMPORTED_MODULE_5__.FileStatusProvider, {\n        subject: props.subject,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SimilarityGroupViewInner, {\n            ...props,\n            ref: ref\n        }, void 0, false, {\n            fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n            lineNumber: 1980,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/mac/testpoint/frontend/components/SimilarityGroupView.tsx\",\n        lineNumber: 1979,\n        columnNumber: 5\n    }, undefined);\n});\nSimilarityGroupView.displayName = \"SimilarityGroupView\";\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1NpbWlsYXJpdHlHcm91cFZpZXcudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUc7QUFDM0Q7QUFDYjtBQUNRO0FBQ3lDO0FBMkJsRixvRkFBb0Y7QUFDcEYsTUFBTVksb0JBQW9CO0FBRTFCLG9DQUFvQztBQUNwQyxNQUFNQyx5Q0FBMkJSLGlEQUFVQSxDQUFzRCxDQUFDLEVBQ2hHUyxPQUFPLEVBQ1BDLE1BQU0sRUFDTkMsZUFBZSxFQUNmQyxpQkFBaUIsRUFDakJDLG9CQUFvQixDQUFDLEVBQ3JCQyxrQkFBa0IsRUFDbEJDLGNBQWMsRUFDZixFQUFFQztJQUNELE1BQU1DLG9CQUFvQlgsMEVBQWFBO0lBQ3ZDLE1BQU0sQ0FBQ1ksa0JBQWtCQyxvQkFBb0IsR0FBR3ZCLCtDQUFRQSxDQUFXLEVBQUU7SUFDckUsTUFBTSxDQUFDd0IsbUJBQW1CQyxxQkFBcUIsR0FBR3pCLCtDQUFRQSxDQUFDaUI7SUFDM0QsTUFBTSxDQUFDUyxxQkFBcUJDLHVCQUF1QixHQUFHM0IsK0NBQVFBLENBQUM7SUFDL0QsTUFBTSxDQUFDNEIsb0JBQW9CQyxzQkFBc0IsR0FBRzdCLCtDQUFRQSxDQUE4QixDQUFDO0lBQzNGLE1BQU0sQ0FBQzhCLGdCQUFnQkMsa0JBQWtCLEdBQUcvQiwrQ0FBUUEsQ0FBNEQsQ0FBQztJQUNqSCxNQUFNLENBQUNnQyxZQUFZQyxjQUFjLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNrQyxpQkFBaUJDLG1CQUFtQixHQUFHbkMsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDb0MsY0FBY0MsZ0JBQWdCLEdBQUdyQywrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNzQyxrQkFBa0JDLG9CQUFvQixHQUFHdkMsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDd0Msa0JBQWtCQyxvQkFBb0IsR0FBR3pDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQzBDLGNBQWNDLGdCQUFnQixHQUFHM0MsK0NBQVFBLENBTXRDO0lBQ1YsTUFBTSxDQUFDNEMsY0FBY0MsZ0JBQWdCLEdBQUc3QywrQ0FBUUEsQ0FJdEM7SUFDVixNQUFNLENBQUM4QyxrQkFBa0JDLG9CQUFvQixHQUFHL0MsK0NBQVFBLENBQWMsSUFBSWdEO0lBQzFFLE1BQU0sQ0FBQ0Msc0JBQXNCQyx3QkFBd0IsR0FBR2xELCtDQUFRQSxDQUE2RCxDQUFDO0lBQzlILE1BQU0sQ0FBQ21ELHFCQUFxQkMsdUJBQXVCLEdBQUdwRCwrQ0FBUUEsQ0FBMkQsQ0FBQztJQUMxSCxvRUFBb0U7SUFDcEUsTUFBTSxDQUFDcUQsc0JBQXNCQyx3QkFBd0IsR0FBR3RELCtDQUFRQSxDQUFpQyxDQUFDO0lBQ2xHLGtGQUFrRjtJQUNsRixNQUFNLENBQUN1RCxxQkFBcUJDLHVCQUF1QixHQUFHeEQsK0NBQVFBLENBQW9FLENBQUM7SUFDbkksTUFBTSxDQUFDeUQsY0FBY0MsZ0JBQWdCLEdBQUcxRCwrQ0FBUUEsQ0FBVSxRQUFRLDRCQUE0QjtJQUU5RixvQkFBb0I7SUFDcEIsTUFBTSxDQUFDMkQsbUJBQW1CQyxxQkFBcUIsR0FBRzVELCtDQUFRQSxDQUFVLFFBQVEsc0JBQXNCO0lBQ2xHLE1BQU0sQ0FBQzZELGtCQUFrQkMsb0JBQW9CLEdBQUc5RCwrQ0FBUUEsQ0FBVSxRQUFRLHNCQUFzQjtJQUNoRyxNQUFNK0QseUJBQXlCMUQsNkNBQU1BLENBQWdCO0lBQ3JELE1BQU0yRCxvQkFBb0IzRCw2Q0FBTUEsQ0FBUztJQUN6QyxNQUFNNEQsc0JBQXNCNUQsNkNBQU1BLENBQVUsUUFBUSxnQ0FBZ0M7SUFFcEYsOEJBQThCO0lBQzlCSixnREFBU0EsQ0FBQztRQUNSZ0Usb0JBQW9CQyxPQUFPLEdBQUdMO0lBQ2hDLEdBQUc7UUFBQ0E7S0FBaUI7SUFFckIsK0JBQStCO0lBQy9CLE1BQU0sQ0FBQ00sc0JBQXNCQyx3QkFBd0IsR0FBR3BFLCtDQUFRQSxDQUFTO0lBQ3pFLE1BQU0sQ0FBQ3FFLG9CQUFvQkMsc0JBQXNCLEdBQUd0RSwrQ0FBUUEsQ0FBUztJQUNyRSxNQUFNLENBQUN1RSxxQkFBcUJDLHVCQUF1QixHQUFHeEUsK0NBQVFBLENBQVMsTUFBTSxtQ0FBbUM7SUFDaEgsTUFBTSxDQUFDeUUsZUFBZUMsaUJBQWlCLEdBQUcxRSwrQ0FBUUEsQ0FBVTtJQUM1RCxNQUFNLENBQUMyRSxhQUFhQyxlQUFlLEdBQUc1RSwrQ0FBUUEsQ0FBd0MsRUFBRTtJQUN4RixNQUFNLENBQUM2RSxlQUFlQyxpQkFBaUIsR0FBRzlFLCtDQUFRQSxDQUFVLFFBQVEsdUNBQXVDO0lBQzNHLE1BQU0rRSxtQkFBbUIxRSw2Q0FBTUEsQ0FBVTtJQUN6Qyx1Q0FBdUM7SUFDdkMsTUFBTTJFLHFCQUFxQjNFLDZDQUFNQSxDQUFVO0lBQzNDLE1BQU00RSxvQkFBb0I1RSw2Q0FBTUEsQ0FBVTtJQUMxQyxNQUFNNkUscUJBQXFCN0UsNkNBQU1BLENBQXdDO0lBQ3pFLE1BQU04RSx1QkFBdUI5RSw2Q0FBTUEsQ0FBUyxRQUFRLDREQUE0RDtJQUVoSEosZ0RBQVNBLENBQUM7UUFDUm1GO0lBQ0YsR0FBRztRQUFDdEU7S0FBTztJQUVYLDREQUE0RDtJQUM1RGIsZ0RBQVNBLENBQUM7UUFDUixJQUFJcUIsaUJBQWlCK0QsTUFBTSxHQUFHLEtBQUtwRSxvQkFBb0IsS0FBS0Esb0JBQW9CSyxpQkFBaUIrRCxNQUFNLEVBQUU7WUFDdkc1RCxxQkFBcUJSO1FBQ3ZCO0lBQ0YsR0FBRztRQUFDSztRQUFrQkw7S0FBa0I7SUFFeEMscUVBQXFFO0lBQ3JFLE1BQU1xRSxvQkFBb0JwRixrREFBV0EsQ0FBQyxDQUFDcUYsT0FBaUJDLFVBQXlFQyxrQkFBMkIsS0FBSztRQUMvSixNQUFNQyxhQUE4QyxDQUFDO1FBRXJELElBQUlILE1BQU1GLE1BQU0sS0FBSyxHQUFHLE9BQU9LO1FBRS9CLHdEQUF3RDtRQUN4RCxJQUFJRCxpQkFBaUI7WUFDbkIsS0FBSyxNQUFNRSxZQUFZSixNQUFPO2dCQUM1QixNQUFNSyxhQUFhdkUsa0JBQWtCd0UsYUFBYSxDQUFDRjtnQkFDbkQsTUFBTUcsU0FBU0YsWUFBWUUsVUFBVTtnQkFDckMsc0NBQXNDO2dCQUN0Q0osVUFBVSxDQUFDQyxTQUFTLEdBQUdHLFdBQVc7WUFDcEM7WUFDQSxPQUFPSjtRQUNUO1FBRUEsc0RBQXNEO1FBQ3RELDJCQUEyQjtRQUMzQixNQUFNSyxhQUF1QixFQUFFO1FBQy9CLE1BQU1DLGVBQXlCLEVBQUU7UUFDakMsTUFBTUMsZUFBNkUsRUFBRTtRQUVyRixLQUFLLE1BQU1OLFlBQVlKLE1BQU87WUFDNUIsTUFBTUssYUFBYXZFLGtCQUFrQndFLGFBQWEsQ0FBQ0Y7WUFDbkQsTUFBTUcsU0FBU0YsWUFBWUUsVUFBVTtZQUNyQyxNQUFNSSxTQUFTVixRQUFRLENBQUNHLFNBQVM7WUFFakMsSUFBSUcsV0FBVyxTQUFTO2dCQUN0QiwyQ0FBMkM7Z0JBQzNDQyxXQUFXSSxJQUFJLENBQUNSO2dCQUNoQkQsVUFBVSxDQUFDQyxTQUFTLEdBQUc7WUFDekIsT0FBTyxJQUFJRyxXQUFXLFdBQVc7Z0JBQy9CLCtDQUErQztnQkFDL0NFLGFBQWFHLElBQUksQ0FBQ1I7Z0JBQ2xCRCxVQUFVLENBQUNDLFNBQVMsR0FBRztZQUN6QixPQUFPO2dCQUNMLDhDQUE4QztnQkFDOUMsSUFBSVMsVUFBVTtnQkFDZCxJQUFJQyxVQUFVO2dCQUVkLElBQUlILFFBQVE7b0JBQ1ZFLFVBQVVGLE9BQU9FLE9BQU87b0JBQ3hCQyxVQUFVSCxPQUFPRyxPQUFPO2dCQUMxQixPQUFPO29CQUNMLGtDQUFrQztvQkFDbENBLFVBQVVDLFNBQVNYLFNBQVNZLE9BQU8sQ0FBQyxPQUFPLFFBQVE7Z0JBQ3JEO2dCQUVBTixhQUFhRSxJQUFJLENBQUM7b0JBQUVSO29CQUFVUztvQkFBU0M7Z0JBQVE7Z0JBQy9DLDREQUE0RDtnQkFDNURYLFVBQVUsQ0FBQ0MsU0FBUyxHQUFHO1lBQ3pCO1FBQ0Y7UUFFQSxrRUFBa0U7UUFDbEUsSUFBSU0sYUFBYVosTUFBTSxHQUFHLEdBQUc7WUFDM0IsdUVBQXVFO1lBQ3ZFWSxhQUFhTyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0M7Z0JBQ3BCLHNCQUFzQjtnQkFDdEIsSUFBSUQsRUFBRUwsT0FBTyxLQUFLTSxFQUFFTixPQUFPLEVBQUU7b0JBQzNCLE9BQU9LLEVBQUVMLE9BQU8sR0FBRyxDQUFDLElBQUksR0FBRyw2QkFBNkI7Z0JBQzFEO2dCQUNBLCtCQUErQjtnQkFDL0IsT0FBT0ssRUFBRUosT0FBTyxHQUFHSyxFQUFFTCxPQUFPO1lBQzlCO1lBRUEsZ0RBQWdEO1lBQ2hEWCxVQUFVLENBQUNPLFlBQVksQ0FBQyxFQUFFLENBQUNOLFFBQVEsQ0FBQyxHQUFHO1FBQ3pDO1FBRUEsT0FBT0Q7SUFDVCxHQUFHO1FBQUM3RTtRQUFTUTtLQUFrQjtJQUUvQixtREFBbUQ7SUFDbkRwQixnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQ21DLGdCQUFnQnRCLE9BQU91RSxNQUFNLEdBQUcsR0FBRztZQUN0QyxNQUFNc0IsVUFBVW5HLGlEQUFPQSxDQUFDb0csV0FBVyxDQUFDL0Y7WUFDcEMsTUFBTTJFLFdBQVdtQixTQUFTRSxlQUFlLENBQUM7WUFFMUMsTUFBTW5CLGFBQXdFLENBQUM7WUFFL0UsSUFBSyxJQUFJb0IsYUFBYSxHQUFHQSxhQUFhaEcsT0FBT3VFLE1BQU0sRUFBRXlCLGFBQWM7Z0JBQ2pFLE1BQU1DLGFBQWFqRyxNQUFNLENBQUNnRyxXQUFXLENBQUN2QixLQUFLO2dCQUMzQyxNQUFNeUIsa0JBQWtCMUIsa0JBQWtCeUIsWUFBWXZCLFVBQVUvQjtnQkFDaEVpQyxVQUFVLENBQUNvQixXQUFXLEdBQUdFO1lBQzNCO1lBRUFqRixrQkFBa0IyRDtRQUNwQjtJQUNGLEdBQUc7UUFBQ2pDO1FBQWMzQztRQUFRRDtRQUFTeUU7UUFBbUJsRDtLQUFhO0lBRW5FLE1BQU1nRCxtQkFBbUI7UUFDdkIvQyxnQkFBZ0I7UUFFaEIsK0NBQStDO1FBQy9DLE1BQU00RSxVQUF1QyxDQUFDO1FBRTlDbkcsT0FBT29HLE9BQU8sQ0FBQyxDQUFDQyxPQUFPQztZQUNyQixnREFBZ0Q7WUFDaEQsTUFBTUMsb0JBQW9CQyxLQUFLQyxLQUFLLENBQUNKLE1BQU1LLGNBQWMsR0FBRyxRQUFRO1lBRXBFLElBQUksQ0FBQ1AsT0FBTyxDQUFDSSxrQkFBa0IsRUFBRTtnQkFDL0JKLE9BQU8sQ0FBQ0ksa0JBQWtCLEdBQUcsRUFBRTtZQUNqQztZQUNBSixPQUFPLENBQUNJLGtCQUFrQixDQUFDbEIsSUFBSSxDQUFDaUI7UUFDbEM7UUFFQXZGLHNCQUFzQm9GO1FBRXRCLCtDQUErQztRQUMvQyxNQUFNUSxTQUFTQyxPQUFPQyxJQUFJLENBQUNWLFNBQVNXLEdBQUcsQ0FBQ0MsUUFBUXJCLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNQSxJQUFJRDtRQUNuRWxGLG9CQUFvQmtHO1FBRXBCLG9DQUFvQztRQUNwQyxJQUFJdEcsZ0JBQWdCO1lBQ2xCQSxlQUFlc0csT0FBT3BDLE1BQU07UUFDOUI7UUFFQSx3RUFBd0U7UUFFeEUsd0VBQXdFO1FBQ3hFLE1BQU1zQixVQUFVbkcsaURBQU9BLENBQUNvRyxXQUFXLENBQUMvRjtRQUNwQyxJQUFJOEYsU0FBU3hDLHlCQUF5QjJELGFBQWFuQixTQUFTdEMsdUJBQXVCeUQsV0FBVztZQUM1RjFELHdCQUF3QnVDLFFBQVF4QyxvQkFBb0I7WUFDcERHLHNCQUFzQnFDLFFBQVF0QyxrQkFBa0I7UUFDbEQ7UUFDQSxJQUFJc0MsU0FBU3BDLHdCQUF3QnVELFdBQVc7WUFDOUN0RCx1QkFBdUJtQyxRQUFRcEMsbUJBQW1CO1FBQ3BELE9BQU8sSUFBSW9DLFNBQVNvQixxQkFBcUJELFdBQVc7WUFDbEQsd0RBQXdEO1lBQ3hEdEQsdUJBQXVCbUMsUUFBUW9CLGdCQUFnQjtRQUNqRDtRQUVBLGdFQUFnRTtRQUNoRSwrQ0FBK0M7UUFDL0MsTUFBTUMsZUFBZSxJQUFJaEY7UUFDekJsQyxPQUFPb0csT0FBTyxDQUFDQyxDQUFBQTtZQUNiQSxNQUFNNUIsS0FBSyxDQUFDMkIsT0FBTyxDQUFDZSxDQUFBQSxJQUFLRCxhQUFhRSxHQUFHLENBQUNEO1FBQzVDO1FBRUEsTUFBTUUsWUFBWUMsTUFBTUMsSUFBSSxDQUFDTDtRQUU3QiwyQ0FBMkM7UUFDM0MsTUFBTU0saUJBQWlCM0IsU0FBU0UsZUFBZSxDQUFDO1FBQ2hELElBQUkwQixnQkFBZ0I7WUFBRSxHQUFHRCxjQUFjO1FBQUMsR0FBRyw2QkFBNkI7UUFFeEUsMENBQTBDO1FBQzFDLE1BQU1FLGVBQWVMLFVBQVVNLE1BQU0sQ0FBQ1IsQ0FBQUEsSUFBSyxDQUFDSyxjQUFjLENBQUNMLEVBQUU7UUFFN0QsMERBQTBEO1FBQzFELHFGQUFxRjtRQUNyRixJQUFJRSxVQUFVOUMsTUFBTSxHQUFHLEdBQUc7WUFDeEIsSUFBSTtnQkFDRiwwRUFBMEU7Z0JBQzFFLE1BQU1xRCxXQUFXLE1BQU1uSSx5Q0FBR0EsQ0FBQ29JLGlCQUFpQixDQUFDOUgsU0FBU3NIO2dCQUN0RCxNQUFNdEIsY0FBNkUsQ0FBQztnQkFFcEYsS0FBSyxNQUFNLENBQUNsQixVQUFVaUQsS0FBSyxJQUFJbEIsT0FBT21CLE9BQU8sQ0FBQ0gsU0FBU0ksUUFBUSxFQUFHO29CQUNoRSxNQUFNQyxXQUFXSDtvQkFDakIsTUFBTXZDLFVBQVVDLFNBQVNYLFNBQVNZLE9BQU8sQ0FBQyxPQUFPLFFBQVE7b0JBQ3pETSxXQUFXLENBQUNsQixTQUFTLEdBQUc7d0JBQ3RCUyxTQUFTMkMsU0FBU0MsUUFBUSxJQUFJO3dCQUM5QjNDLFNBQVNBO29CQUNYO2dCQUNGO2dCQUVBLG9FQUFvRTtnQkFDcEVrQyxnQkFBZ0IxQjtnQkFFaEIsZ0NBQWdDO2dCQUNoQ3JHLGlEQUFPQSxDQUFDeUksaUJBQWlCLENBQUNwSSxTQUFTZ0c7Z0JBRW5DLHVDQUF1QztnQkFDdkNxQyxRQUFRQyxHQUFHLENBQUMsc0NBQXNDdEM7Z0JBQ2xEcUMsUUFBUUMsR0FBRyxDQUFDLHlCQUF5QnpCLE9BQU9tQixPQUFPLENBQUNoQyxhQUNqRDRCLE1BQU0sQ0FBQyxDQUFDLENBQUNSLEdBQUdtQixFQUFFLEdBQUtBLEVBQUVoRCxPQUFPLEVBQzVCd0IsR0FBRyxDQUFDLENBQUMsQ0FBQ0ssRUFBRSxHQUFLQTtZQUNsQixFQUFFLE9BQU9vQixPQUFPO2dCQUNkSCxRQUFRRyxLQUFLLENBQUMsZ0NBQWdDQTtnQkFDOUMsMkNBQTJDO2dCQUMzQ2QsZ0JBQWdCRDtZQUNsQjtRQUNGO1FBRUEsd0RBQXdEO1FBQ3hELG9FQUFvRTtRQUNwRSwrRUFBK0U7UUFDL0Usc0VBQXNFO1FBQ3RFLE1BQU01QyxhQUF3RSxDQUFDO1FBRS9FLElBQUssSUFBSW9CLGFBQWEsR0FBR0EsYUFBYWhHLE9BQU91RSxNQUFNLEVBQUV5QixhQUFjO1lBQ2pFLE1BQU1DLGFBQWFqRyxNQUFNLENBQUNnRyxXQUFXLENBQUN2QixLQUFLO1lBRTNDLGdGQUFnRjtZQUNoRixNQUFNeUIsa0JBQWtCMUIsa0JBQWtCeUIsWUFBWXdCLGVBQWU5RTtZQUNyRWlDLFVBQVUsQ0FBQ29CLFdBQVcsR0FBR0U7UUFDM0I7UUFFQWpGLGtCQUFrQjJEO1FBRWxCckQsZ0JBQWdCO0lBQ2xCO0lBRUEsZ0dBQWdHO0lBQ2hHLE1BQU1pSCx5QkFBeUJwSixrREFBV0EsQ0FBQyxDQUFDcUosT0FBZUMsS0FBYUM7UUFDdEUsTUFBTUMsZUFBeUIsRUFBRTtRQUVqQyx3RUFBd0U7UUFDeEUsSUFBSyxJQUFJdEMsUUFBUSxHQUFHQSxRQUFRdEcsT0FBT3VFLE1BQU0sRUFBRStCLFFBQVM7WUFDbEQsTUFBTUQsUUFBUXJHLE1BQU0sQ0FBQ3NHLE1BQU07WUFDM0IsTUFBTUMsb0JBQW9CQyxLQUFLQyxLQUFLLENBQUNKLE1BQU1LLGNBQWMsR0FBRyxRQUFRO1lBQ3BFLG1EQUFtRDtZQUNuRCxJQUFJSCxxQkFBcUJrQyxTQUFTbEMscUJBQXFCbUMsS0FBSztnQkFDMURFLGFBQWF2RCxJQUFJLENBQUNpQjtnQkFDbEIsa0NBQWtDO2dCQUNsQyxJQUFJcUMsU0FBU0MsYUFBYXJFLE1BQU0sSUFBSW9FLE9BQU87b0JBQ3pDLE9BQU8seURBQXlEO2dCQUNsRTtZQUNGO1FBQ0Y7UUFFQSxPQUFPQztJQUNULEdBQUc7UUFBQzVJO0tBQU87SUFFWCxpSEFBaUg7SUFDakgsTUFBTTZJLGlDQUFpQ3pKLGtEQUFXQSxDQUFDLENBQUMwSixZQUFvQkM7UUFDdEUsSUFBSXZJLGlCQUFpQitELE1BQU0sS0FBSyxHQUFHO1lBQ2pDLE9BQU87Z0JBQUVrRSxPQUFPO2dCQUFPQyxLQUFLO1lBQUs7UUFDbkM7UUFFQSxvRkFBb0Y7UUFDcEYsSUFBSU0sYUFBYSxDQUFDO1FBQ2xCLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJekksaUJBQWlCK0QsTUFBTSxFQUFFMEUsSUFBSztZQUNoRCxJQUFJekksZ0JBQWdCLENBQUN5SSxFQUFFLElBQUlILFlBQVk7Z0JBQ3JDRSxhQUFhQztnQkFDYjtZQUNGO1FBQ0Y7UUFFQSx5RUFBeUU7UUFDekUsSUFBSUQsZUFBZSxDQUFDLEdBQUc7WUFDckIsTUFBTUUsWUFBWTFJLGdCQUFnQixDQUFDQSxpQkFBaUIrRCxNQUFNLEdBQUcsRUFBRTtZQUMvRCxPQUFPO2dCQUFFa0UsT0FBT1M7Z0JBQVdSLEtBQUtRO1lBQVU7UUFDNUM7UUFFQSxNQUFNQyxhQUFhM0ksZ0JBQWdCLENBQUN3SSxXQUFXO1FBQy9DLElBQUlJLFdBQVdEO1FBQ2YsSUFBSUUsY0FBYztRQUVsQiw2RkFBNkY7UUFDN0YsaUVBQWlFO1FBQ2pFLElBQUssSUFBSUosSUFBSUQsWUFBWUMsSUFBSXpJLGlCQUFpQitELE1BQU0sRUFBRTBFLElBQUs7WUFDekQsTUFBTUssUUFBUTlJLGdCQUFnQixDQUFDeUksRUFBRTtZQUNqQyxNQUFNTSxnQkFBZ0J6SSxrQkFBa0IsQ0FBQ3dJLE1BQU0sSUFBSSxFQUFFO1lBQ3JERCxlQUFlRSxjQUFjaEYsTUFBTTtZQUNuQzZFLFdBQVdFO1lBRVgseUZBQXlGO1lBQ3pGLElBQUlELGVBQWVOLGVBQWUsT0FBT00sZUFBZU4sY0FBYztnQkFDcEU7WUFDRjtZQUVBLDRFQUE0RTtZQUM1RSxJQUFJTSxjQUFjTixlQUFlLEtBQUs7Z0JBQ3BDO1lBQ0Y7UUFDRjtRQUVBLGdHQUFnRztRQUNoRyxJQUFJTSxjQUFjTixlQUFlLEtBQUs7WUFDcENLLFdBQVc1SSxnQkFBZ0IsQ0FBQ0EsaUJBQWlCK0QsTUFBTSxHQUFHLEVBQUU7WUFDeEQsOENBQThDO1lBQzlDOEUsY0FBY2IsdUJBQXVCVyxZQUFZQyxVQUFVN0UsTUFBTTtRQUNuRTtRQUVBLE9BQU87WUFBRWtFLE9BQU9VO1lBQVlULEtBQUtVO1FBQVM7SUFDNUMsR0FBRztRQUFDNUk7UUFBa0JNO1FBQW9CMEg7S0FBdUI7SUFFakUsbUVBQW1FO0lBQ25FLE1BQU1nQixxQkFBcUJwSyxrREFBV0EsQ0FBQyxDQUFDcUssWUFBb0JDO1FBQzFELElBQUlsSixpQkFBaUIrRCxNQUFNLEtBQUssR0FBRztZQUNqQyxPQUFPO2dCQUFFa0UsT0FBTztnQkFBT0MsS0FBSztZQUFLO1FBQ25DO1FBRUEsMERBQTBEO1FBQzFELDBFQUEwRTtRQUMxRSwyREFBMkQ7UUFDM0QsTUFBTWlCLHNCQUFzQkQsaUJBQWlCMUMsYUFBYVIsS0FBS29ELEdBQUcsQ0FBQ0YsZUFBZUQsY0FBYztRQUVoRyxJQUFJSSxpQkFBaUIsQ0FBQztRQUN0QixJQUFJRixxQkFBcUI7WUFDdkIsNkVBQTZFO1lBQzdFLElBQUssSUFBSVYsSUFBSSxHQUFHQSxJQUFJekksaUJBQWlCK0QsTUFBTSxFQUFFMEUsSUFBSztnQkFDaEQsSUFBSXpJLGdCQUFnQixDQUFDeUksRUFBRSxHQUFHUSxZQUFZO29CQUNwQ0ksaUJBQWlCWjtvQkFDakI7Z0JBQ0Y7WUFDRjtRQUNGLE9BQU87WUFDTCwrRkFBK0Y7WUFDL0YsSUFBSyxJQUFJQSxJQUFJLEdBQUdBLElBQUl6SSxpQkFBaUIrRCxNQUFNLEVBQUUwRSxJQUFLO2dCQUNoRCxJQUFJekksZ0JBQWdCLENBQUN5SSxFQUFFLElBQUlRLFlBQVk7b0JBQ3JDSSxpQkFBaUJaO29CQUNqQjtnQkFDRjtZQUNGO1FBQ0Y7UUFFQSxzQ0FBc0M7UUFDdEMsSUFBSVksbUJBQW1CLENBQUMsR0FBRztZQUN6QixPQUFPO2dCQUFFcEIsT0FBT2pJLGdCQUFnQixDQUFDQSxpQkFBaUIrRCxNQUFNLEdBQUcsRUFBRTtnQkFBRW1FLEtBQUtsSSxnQkFBZ0IsQ0FBQ0EsaUJBQWlCK0QsTUFBTSxHQUFHLEVBQUU7WUFBQztRQUNwSDtRQUVBLE1BQU11RixZQUFZdEosZ0JBQWdCLENBQUNxSixlQUFlO1FBQ2xELElBQUlFLFVBQVVEO1FBQ2QsSUFBSVQsY0FBYztRQUVoQiwyRkFBMkY7UUFDM0YsSUFBSyxJQUFJSixJQUFJWSxnQkFBZ0JaLElBQUl6SSxpQkFBaUIrRCxNQUFNLEVBQUUwRSxJQUFLO1lBQzdELE1BQU1LLFFBQVE5SSxnQkFBZ0IsQ0FBQ3lJLEVBQUU7WUFDakMsTUFBTU0sZ0JBQWdCekksa0JBQWtCLENBQUN3SSxNQUFNLElBQUksRUFBRTtZQUNyREQsZUFBZUUsY0FBY2hGLE1BQU07WUFDbkN3RixVQUFVVDtZQUVWLHlGQUF5RjtZQUN6RixJQUFJRCxlQUFlNUYsc0JBQXNCLE9BQU80RixlQUFlNUYscUJBQXFCO2dCQUNsRjtZQUNGO1lBRUEsNEVBQTRFO1lBQzVFLElBQUk0RixjQUFjNUYsc0JBQXNCLEtBQUs7Z0JBQzNDO1lBQ0Y7UUFDRjtRQUVGLGdHQUFnRztRQUNoRyxJQUFJNEYsY0FBYzVGLHNCQUFzQixLQUFLO1lBQzNDc0csVUFBVXZKLGdCQUFnQixDQUFDQSxpQkFBaUIrRCxNQUFNLEdBQUcsRUFBRTtZQUN2RCw4Q0FBOEM7WUFDOUM4RSxjQUFjYix1QkFBdUJzQixXQUFXQyxTQUFTeEYsTUFBTTtRQUNqRTtRQUVBLE9BQU87WUFBRWtFLE9BQU9xQjtZQUFXcEIsS0FBS3FCO1FBQVE7SUFDMUMsR0FBRztRQUFDdko7UUFBa0JNO1FBQW9CMkM7UUFBcUIrRTtLQUF1QjtJQUV0RixxREFBcUQ7SUFDckQsc0VBQXNFO0lBQ3RFLDJFQUEyRTtJQUMzRSxNQUFNd0IsMEJBQTBCNUssa0RBQVdBLENBQUM7UUFDMUMsNkRBQTZEO1FBQzdELHdFQUF3RTtRQUN4RSxNQUFNdUosUUFBUTVFLGdCQUFnQmlELFlBQVl2RDtRQUMxQyxPQUFPK0UsdUJBQXVCbkYsc0JBQXNCRSxvQkFBb0JvRjtJQUMxRSxHQUFHO1FBQUN0RjtRQUFzQkU7UUFBb0JFO1FBQXFCTTtRQUFleUU7S0FBdUI7SUFFekcsbURBQW1EO0lBQ25ELDZFQUE2RTtJQUM3RSxNQUFNeUIsaUNBQWlDN0ssa0RBQVdBLENBQUMsQ0FBQ3dKO1FBQ2xELElBQUlBLGFBQWFyRSxNQUFNLEtBQUssR0FBRyxPQUFPcUU7UUFFdEMsbUZBQW1GO1FBQ25GLE1BQU1zQixlQUFpRCxDQUFDO1FBRXhELEtBQUssTUFBTWxFLGNBQWM0QyxhQUFjO1lBQ3JDLE1BQU12QyxRQUFRckcsTUFBTSxDQUFDZ0csV0FBVztZQUNoQyxJQUFJLENBQUNLLE9BQU87WUFFWixLQUFLLE1BQU14QixZQUFZd0IsTUFBTTVCLEtBQUssQ0FBRTtnQkFDbEMsSUFBSSxDQUFDeUYsWUFBWSxDQUFDckYsU0FBUyxFQUFFO29CQUMzQnFGLFlBQVksQ0FBQ3JGLFNBQVMsR0FBRyxFQUFFO2dCQUM3QjtnQkFDQSxJQUFJLENBQUNxRixZQUFZLENBQUNyRixTQUFTLENBQUNzRixRQUFRLENBQUNuRSxhQUFhO29CQUNoRGtFLFlBQVksQ0FBQ3JGLFNBQVMsQ0FBQ1EsSUFBSSxDQUFDVztnQkFDOUI7WUFDRjtRQUNGO1FBRUEsNENBQTRDO1FBQzVDLE1BQU1vRSx1QkFBdUJ4RCxPQUFPQyxJQUFJLENBQUNxRCxjQUFjdkMsTUFBTSxDQUMzRDlDLENBQUFBLFdBQVlxRixZQUFZLENBQUNyRixTQUFTLENBQUNOLE1BQU0sR0FBRztRQUc5QywyREFBMkQ7UUFDM0QsSUFBSTZGLHFCQUFxQjdGLE1BQU0sS0FBSyxHQUFHO1lBQ3JDLE9BQU9xRTtRQUNUO1FBRUEsc0RBQXNEO1FBQ3RELE1BQU15QixlQUFlLElBQUluSTtRQUN6QixNQUFNb0ksWUFBc0IsRUFBRTtRQUU5Qix1REFBdUQ7UUFDdkQsTUFBTUMsV0FBVyxDQUFDdkU7WUFDaEIsSUFBSSxDQUFDcUUsYUFBYUcsR0FBRyxDQUFDeEUsYUFBYTtnQkFDakNzRSxVQUFVakYsSUFBSSxDQUFDVztnQkFDZnFFLGFBQWFqRCxHQUFHLENBQUNwQjtZQUNuQjtRQUNGO1FBRUEsbUNBQW1DO1FBQ25DLEtBQUssTUFBTUEsY0FBYzRDLGFBQWM7WUFDckMsMEJBQTBCO1lBQzFCLElBQUl5QixhQUFhRyxHQUFHLENBQUN4RSxhQUFhO2dCQUNoQztZQUNGO1lBRUEsTUFBTUssUUFBUXJHLE1BQU0sQ0FBQ2dHLFdBQVc7WUFDaEMsSUFBSSxDQUFDSyxPQUFPO2dCQUNWa0UsU0FBU3ZFO2dCQUNUO1lBQ0Y7WUFFQSxvRUFBb0U7WUFDcEUsTUFBTXlFLDhCQUE4QnBFLE1BQU01QixLQUFLLENBQUNrRCxNQUFNLENBQ3BEOUMsQ0FBQUEsV0FBWXFGLFlBQVksQ0FBQ3JGLFNBQVMsSUFBSXFGLFlBQVksQ0FBQ3JGLFNBQVMsQ0FBQ04sTUFBTSxHQUFHO1lBR3hFLElBQUlrRyw0QkFBNEJsRyxNQUFNLEdBQUcsR0FBRztnQkFDMUMsa0VBQWtFO2dCQUNsRWdHLFNBQVN2RTtnQkFFVCxxRkFBcUY7Z0JBQ3JGLE1BQU0wRSxtQkFBbUIsSUFBSXhJO2dCQUU3QixLQUFLLE1BQU0yQyxZQUFZNEYsNEJBQTZCO29CQUNsRCxzRUFBc0U7b0JBQ3RFLEtBQUssTUFBTUUscUJBQXFCVCxZQUFZLENBQUNyRixTQUFTLENBQUU7d0JBQ3RELElBQUk4RixzQkFBc0IzRSxjQUFjLENBQUNxRSxhQUFhRyxHQUFHLENBQUNHLG9CQUFvQjs0QkFDNUVELGlCQUFpQnRELEdBQUcsQ0FBQ3VEO3dCQUN2QjtvQkFDRjtnQkFDRjtnQkFFQSxpRkFBaUY7Z0JBQ2pGLE1BQU1DLGdCQUFnQnRELE1BQU1DLElBQUksQ0FBQ21ELGtCQUFrQmhGLElBQUksQ0FBQyxDQUFDQyxHQUFHQztvQkFDMUQsTUFBTWlGLE9BQU9qQyxhQUFha0MsT0FBTyxDQUFDbkY7b0JBQ2xDLE1BQU1vRixPQUFPbkMsYUFBYWtDLE9BQU8sQ0FBQ2xGO29CQUNsQyxPQUFPaUYsT0FBT0U7Z0JBQ2hCO2dCQUVBLHFEQUFxRDtnQkFDckQsb0VBQW9FO2dCQUNwRSxLQUFLLE1BQU1KLHFCQUFxQkMsY0FBZTtvQkFDN0NMLFNBQVNJO2dCQUNYO1lBQ0YsT0FBTztnQkFDTCwwQ0FBMEM7Z0JBQzFDSixTQUFTdkU7WUFDWDtRQUNGO1FBRUEsOERBQThEO1FBQzlELEtBQUssTUFBTUEsY0FBYzRDLGFBQWM7WUFDckMsSUFBSSxDQUFDeUIsYUFBYUcsR0FBRyxDQUFDeEUsYUFBYTtnQkFDakNzRSxVQUFVakYsSUFBSSxDQUFDVztZQUNqQjtRQUNGO1FBRUEsT0FBT3NFO0lBQ1QsR0FBRztRQUFDdEs7S0FBTztJQUVYLGlGQUFpRjtJQUNqRixNQUFNZ0wsNEJBQTRCNUwsa0RBQVdBLENBQUM7UUFDNUMsTUFBTTZMLGVBQWVqQjtRQUNyQixPQUFPQywrQkFBK0JnQjtJQUN4QyxHQUFHO1FBQUNqQjtRQUF5QkM7S0FBK0I7SUFFNUQsdUNBQXVDO0lBQ3ZDOUssZ0RBQVNBLENBQUM7UUFDUixJQUFJcUIsaUJBQWlCK0QsTUFBTSxHQUFHLEtBQUt6RCxzQkFBc0I4RixPQUFPQyxJQUFJLENBQUMvRixvQkFBb0J5RCxNQUFNLEdBQUcsS0FBSyxDQUFDTixpQkFBaUJiLE9BQU8sRUFBRTtZQUNoSSxzREFBc0Q7WUFDdEQsTUFBTXlDLFVBQVVuRyxpREFBT0EsQ0FBQ29HLFdBQVcsQ0FBQy9GO1lBQ3BDLElBQUk4RixTQUFTeEMseUJBQXlCMkQsYUFBYW5CLFNBQVN0Qyx1QkFBdUJ5RCxXQUFXO2dCQUM1Rix5QkFBeUI7Z0JBQ3pCMUQsd0JBQXdCdUMsUUFBUXhDLG9CQUFvQjtnQkFDcERHLHNCQUFzQnFDLFFBQVF0QyxrQkFBa0I7Z0JBQ2hEVSxpQkFBaUJiLE9BQU8sR0FBRztnQkFDM0I7WUFDRjtZQUVBLGlGQUFpRjtZQUNqRixNQUFNOEgsV0FBVzFLLGdCQUFnQixDQUFDLEVBQUUsRUFBRSxxQkFBcUI7WUFDM0QsTUFBTTJLLGtCQUFrQnRDLCtCQUErQnFDLFVBQVV6SDtZQUVqRUgsd0JBQXdCNkgsZ0JBQWdCMUMsS0FBSztZQUM3Q2pGLHNCQUFzQjJILGdCQUFnQnpDLEdBQUc7WUFDekMxRSxpQkFBaUIsUUFBUSx1Q0FBdUM7WUFDaEVDLGlCQUFpQmIsT0FBTyxHQUFHO1FBQzdCO0lBQ0YsR0FBRztRQUFDNUM7UUFBa0JNO1FBQW9CK0g7UUFBZ0M5STtRQUFTMEQ7S0FBb0I7SUFFdkcsbURBQW1EO0lBQ25EdEUsZ0RBQVNBLENBQUM7UUFDUmtGLHFCQUFxQmpCLE9BQU8sR0FBR0M7SUFDakMsR0FBRztRQUFDQTtLQUFxQjtJQUd6QixNQUFNK0gsZUFBZTVLLGdCQUFnQixDQUFDRSxrQkFBa0I7SUFDeEQsTUFBTTJLLHNCQUFzQnJCO0lBQzVCLE1BQU1zQixvQkFBb0JELG9CQUFvQjlHLE1BQU07SUFFcEQsc0RBQXNEO0lBQ3RELDBGQUEwRjtJQUMxRixNQUFNZ0gsMkJBQTJCbk0sa0RBQVdBLENBQUMsT0FBT3FKLE9BQWVDO1FBQ2pFLGdEQUFnRDtRQUNoRCxJQUFJdEUsbUJBQW1CaEIsT0FBTyxFQUFFcUYsVUFBVUEsU0FBU3JFLG1CQUFtQmhCLE9BQU8sRUFBRXNGLFFBQVFBLEtBQUs7WUFDMUY7UUFDRjtRQUVBLGtDQUFrQztRQUNsQyxJQUFJeEUsbUJBQW1CZCxPQUFPLEVBQUU7WUFDOUI7UUFDRjtRQUVBYyxtQkFBbUJkLE9BQU8sR0FBRztRQUU3QixJQUFJO1lBQ0YsMEZBQTBGO1lBQzFGLE1BQU11RixRQUFRNUUsZ0JBQWdCaUQsWUFBWXZEO1lBQzFDLE1BQU0rSCxnQkFBZ0JoRCx1QkFBdUJDLE9BQU9DLEtBQUtDO1lBQ3pELE1BQU16QixlQUFlLElBQUloRjtZQUV6Qiw2Q0FBNkM7WUFDN0MsS0FBSyxNQUFNOEQsY0FBY3dGLGNBQWU7Z0JBQ3RDeEwsTUFBTSxDQUFDZ0csV0FBVyxDQUFDdkIsS0FBSyxDQUFDMkIsT0FBTyxDQUFDZSxDQUFBQSxJQUFLRCxhQUFhRSxHQUFHLENBQUNEO1lBQ3pEO1lBRUEsTUFBTUUsWUFBWUMsTUFBTUMsSUFBSSxDQUFDTDtZQUM3QixJQUFJRyxVQUFVOUMsTUFBTSxLQUFLLEdBQUc7Z0JBQzFCTCxtQkFBbUJkLE9BQU8sR0FBRztnQkFDN0I7WUFDRjtZQUVBLHNGQUFzRjtZQUN0RixNQUFNN0Msa0JBQWtCa0wsZ0JBQWdCLENBQUMxTCxTQUFTc0g7WUFFbEQsMkJBQTJCO1lBQzNCakQsbUJBQW1CaEIsT0FBTyxHQUFHO2dCQUFFcUY7Z0JBQU9DO1lBQUk7UUFDNUMsU0FBVTtZQUNSeEUsbUJBQW1CZCxPQUFPLEdBQUc7UUFDL0I7SUFDRixHQUFHO1FBQUNwRDtRQUFRRDtRQUFTeUk7UUFBd0IvRTtRQUFxQk07S0FBYyxHQUFHLHNDQUFzQztJQUV6SCxpREFBaUQ7SUFDakQsMEZBQTBGO0lBQzFGLE1BQU0ySCxzQkFBc0J0TSxrREFBV0EsQ0FBQyxPQUFPcUosT0FBZUM7UUFDNUQsa0NBQWtDO1FBQ2xDLElBQUl2RSxrQkFBa0JmLE9BQU8sRUFBRTtZQUM3QjtRQUNGO1FBRUFlLGtCQUFrQmYsT0FBTyxHQUFHO1FBRTVCLElBQUk7WUFDRiwwRkFBMEY7WUFDMUYsTUFBTXVGLFFBQVE1RSxnQkFBZ0JpRCxZQUFZdkQ7WUFDMUMsTUFBTStILGdCQUFnQmhELHVCQUF1QkMsT0FBT0MsS0FBS0M7WUFDekQsTUFBTXpCLGVBQWUsSUFBSWhGO1lBRXpCLDZDQUE2QztZQUM3QyxLQUFLLE1BQU04RCxjQUFjd0YsY0FBZTtnQkFDdEMsSUFBSXhMLE1BQU0sQ0FBQ2dHLFdBQVcsRUFBRXZCLE9BQU87b0JBQzdCekUsTUFBTSxDQUFDZ0csV0FBVyxDQUFDdkIsS0FBSyxDQUFDMkIsT0FBTyxDQUFDZSxDQUFBQSxJQUFLRCxhQUFhRSxHQUFHLENBQUNEO2dCQUN6RDtZQUNGO1lBRUEsTUFBTUUsWUFBWUMsTUFBTUMsSUFBSSxDQUFDTDtZQUM3QixJQUFJRyxVQUFVOUMsTUFBTSxLQUFLLEdBQUc7Z0JBQzFCNkQsUUFBUXVELElBQUksQ0FBQyxDQUFDLHdDQUF3QyxFQUFFbEQsTUFBTSxJQUFJLEVBQUVDLElBQUksQ0FBQyxDQUFDO2dCQUMxRXZFLGtCQUFrQmYsT0FBTyxHQUFHO2dCQUM1QjtZQUNGO1lBRUEsc0ZBQXNGO1lBQ3RGLE1BQU03QyxrQkFBa0JxTCxXQUFXLENBQUM3TCxTQUFTc0g7UUFDL0MsU0FBVTtZQUNSbEQsa0JBQWtCZixPQUFPLEdBQUc7UUFDOUI7SUFDRixHQUFHO1FBQUNwRDtRQUFRRDtRQUFTeUk7UUFBd0IvRTtRQUFxQk07S0FBYyxHQUFHLHNDQUFzQztJQUV6SCx3RkFBd0Y7SUFDeEY1RSxnREFBU0EsQ0FBQztRQUNSLElBQUlxQixpQkFBaUIrRCxNQUFNLEdBQUcsS0FBS3pELHNCQUFzQjhGLE9BQU9DLElBQUksQ0FBQy9GLG9CQUFvQnlELE1BQU0sR0FBRyxHQUFHO1lBQ25HLE1BQU1pSCxnQkFBZ0J4QjtZQUN0QixJQUFJd0IsY0FBY2pILE1BQU0sR0FBRyxHQUFHO2dCQUM1QixvREFBb0Q7Z0JBQ3BEZ0gseUJBQXlCbEksc0JBQXNCRTtZQUNqRDtRQUNGO0lBQ0EsdURBQXVEO0lBQ3pELEdBQUc7UUFBQ0Y7UUFBc0JFO1FBQW9CL0MsaUJBQWlCK0QsTUFBTTtLQUFDLEdBQUcsMkNBQTJDO0lBRXBILCtEQUErRDtJQUMvRHBGLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSXFCLGlCQUFpQitELE1BQU0sR0FBRyxLQUFLekQsc0JBQXNCOEYsT0FBT0MsSUFBSSxDQUFDL0Ysb0JBQW9CeUQsTUFBTSxHQUFHLEdBQUc7WUFDbkcsTUFBTWlILGdCQUFnQnhCO1lBRXRCLElBQUl3QixjQUFjakgsTUFBTSxLQUFLLEdBQUc7WUFFaEMsb0VBQW9FO1lBQ3BFLHNEQUFzRDtZQUN0RCxNQUFNc0gsUUFBUUMsV0FBVztnQkFDdkJKLG9CQUFvQnJJLHNCQUFzQkU7WUFDNUMsR0FBRztZQUVILE9BQU8sSUFBTXdJLGFBQWFGO1FBQzVCO0lBQ0EsdURBQXVEO0lBQ3pELEdBQUc7UUFBQ3hJO1FBQXNCRTtRQUFvQi9DLGlCQUFpQitELE1BQU07S0FBQyxHQUFHLDJDQUEyQztJQUVwSCxpREFBaUQ7SUFDakRwRixnREFBU0EsQ0FBQztRQUNSeUUsaUJBQWlCO1FBQ2pCLDZDQUE2QztRQUM3Q1EsbUJBQW1CaEIsT0FBTyxHQUFHO0lBQy9CLEdBQUc7UUFBQ0M7UUFBc0JFO0tBQW1CO0lBRTdDLHFGQUFxRjtJQUNyRnBFLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSWtFLHlCQUF5QjJELGFBQWF6RCx1QkFBdUJ5RCxXQUFXO1lBQzFFLE1BQU1uQixVQUFVbkcsaURBQU9BLENBQUNvRyxXQUFXLENBQUMvRjtZQUNwQyxJQUFJOEYsU0FBUztnQkFDWEEsUUFBUXhDLG9CQUFvQixHQUFHQTtnQkFDL0J3QyxRQUFRdEMsa0JBQWtCLEdBQUdBO2dCQUM3QnNDLFFBQVFwQyxtQkFBbUIsR0FBR0E7Z0JBQzlCL0QsaURBQU9BLENBQUNzTSxXQUFXLENBQUNuRztZQUN0QjtRQUNGO0lBQ0YsR0FBRztRQUFDeEM7UUFBc0JFO1FBQW9CRTtRQUFxQjFEO0tBQVE7SUFFM0UsMERBQTBEO0lBQzFELGlFQUFpRTtJQUNqRVosZ0RBQVNBLENBQUM7UUFDUixNQUFNOEwsZUFBZUQ7UUFDckIsSUFBSUMsYUFBYTFHLE1BQU0sS0FBSyxHQUFHO1FBRS9CLE1BQU0wSCxhQUFtRCxDQUFDO1FBQzFELE1BQU1DLG1CQUErRSxDQUFDO1FBQ3RGLE1BQU1DLGtCQUE0RSxDQUFDO1FBRW5GLDhFQUE4RTtRQUM5RSxNQUFNQyxtQkFBbUQsQ0FBQztRQUMxRCxLQUFLLE1BQU1wRyxjQUFjaUYsYUFBYztZQUNyQyxNQUFNNUUsUUFBUXJHLE1BQU0sQ0FBQ2dHLFdBQVc7WUFDaEMsS0FBSyxNQUFNbkIsWUFBWXdCLE1BQU01QixLQUFLLENBQUU7Z0JBQ2xDMkgsZ0JBQWdCLENBQUN2SCxTQUFTLEdBQUcsQ0FBQ3VILGdCQUFnQixDQUFDdkgsU0FBUyxJQUFJLEtBQUs7Z0JBQ2pFLG9GQUFvRjtnQkFDcEYsTUFBTUMsYUFBYXZFLGtCQUFrQndFLGFBQWEsQ0FBQ0Y7Z0JBQ25ELE1BQU13SCxjQUFjdkgsWUFBWXVIO2dCQUNoQyxNQUFNQyxZQUFZRCxhQUFhRSxjQUFjLEVBQUU7Z0JBQy9DLElBQUlELFVBQVUvSCxNQUFNLEdBQUcsS0FBS08sWUFBWTBILGNBQWM7b0JBQ3BELE1BQU1DLGVBQWVILFNBQVMsQ0FBQyxFQUFFO29CQUNqQ0YsZ0JBQWdCLENBQUNLLGFBQWEsR0FBRyxDQUFDTCxnQkFBZ0IsQ0FBQ0ssYUFBYSxJQUFJLEtBQUs7Z0JBQzNFO1lBQ0Y7UUFDRjtRQUVBLDZEQUE2RDtRQUM3RCxNQUFNQyxzQkFBc0QsQ0FBQztRQUM3RCw2REFBNkQ7UUFDN0QsTUFBTUMsaUJBQW9GLENBQUM7UUFDM0YsTUFBTTlHLFVBQVVuRyxpREFBT0EsQ0FBQ29HLFdBQVcsQ0FBQy9GO1FBQ3BDLE1BQU02TSxzQkFBc0IvRyxTQUFTZ0gsZ0JBQWdCLENBQUM7UUFFdEQsZ0RBQWdEO1FBQ2hELEtBQUssTUFBTTdHLGNBQWNpRixhQUFjO1lBQ3JDLE1BQU01RSxRQUFRckcsTUFBTSxDQUFDZ0csV0FBVztZQUNoQyxJQUFJLENBQUNLLE9BQU87WUFFWixNQUFNekIsYUFBYTVELGNBQWMsQ0FBQ2dGLFdBQVcsSUFBSSxDQUFDO1lBRWxELEtBQUssTUFBTW5CLFlBQVl3QixNQUFNNUIsS0FBSyxDQUFFO2dCQUNsQyxJQUFJcUk7Z0JBQ0osSUFBSWxJLGNBQWNDLFlBQVlELFlBQVk7b0JBQ3hDa0ksWUFBWWxJLFVBQVUsQ0FBQ0MsU0FBUztnQkFDbEMsT0FBTztvQkFDTCxtQ0FBbUM7b0JBQ25DaUksWUFBWXZNLGtCQUFrQndNLGNBQWMsQ0FBQ2xJO2dCQUMvQztnQkFFQSxzQ0FBc0M7Z0JBQ3RDLElBQUksQ0FBQ29ILFVBQVUsQ0FBQ3BILFNBQVMsRUFBRTtvQkFDekJvSCxVQUFVLENBQUNwSCxTQUFTLEdBQUcsSUFBSTNDO2dCQUM3QjtnQkFDQStKLFVBQVUsQ0FBQ3BILFNBQVMsQ0FBQ3VDLEdBQUcsQ0FBQzBGO2dCQUV6QiwwQkFBMEI7Z0JBQzFCLElBQUksQ0FBQ1osZ0JBQWdCLENBQUNySCxTQUFTLEVBQUU7b0JBQy9CcUgsZ0JBQWdCLENBQUNySCxTQUFTLEdBQUc7d0JBQUVtSSxPQUFPO3dCQUFHQyxTQUFTO29CQUFFO2dCQUN0RDtnQkFDQWYsZ0JBQWdCLENBQUNySCxTQUFTLENBQUNtSSxLQUFLO2dCQUNoQyxJQUFJRixXQUFXO29CQUNiWixnQkFBZ0IsQ0FBQ3JILFNBQVMsQ0FBQ29JLE9BQU87Z0JBQ3BDO2dCQUVBLHlDQUF5QztnQkFDekMsNkVBQTZFO2dCQUM3RSxJQUFJLENBQUVwSSxDQUFBQSxZQUFZNkgsbUJBQWtCLEdBQUk7b0JBQ3RDQSxtQkFBbUIsQ0FBQzdILFNBQVMsR0FBRztnQkFDbEM7Z0JBQ0E2SCxtQkFBbUIsQ0FBQzdILFNBQVMsR0FBRzZILG1CQUFtQixDQUFDN0gsU0FBUyxHQUFHO2dCQUNoRSxNQUFNcUksZUFBZVIsbUJBQW1CLENBQUM3SCxTQUFTO2dCQUNsRCxJQUFJLENBQUNzSCxlQUFlLENBQUN0SCxTQUFTLEVBQUU7b0JBQzlCc0gsZUFBZSxDQUFDdEgsU0FBUyxHQUFHLENBQUM7Z0JBQy9CO2dCQUNBc0gsZUFBZSxDQUFDdEgsU0FBUyxDQUFDbUIsV0FBVyxHQUFHa0g7Z0JBRXhDLGtFQUFrRTtnQkFDbEUsTUFBTXBJLGFBQWF2RSxrQkFBa0J3RSxhQUFhLENBQUNGO2dCQUNuRCxNQUFNd0gsY0FBY3ZILFlBQVl1SDtnQkFDaEMsTUFBTUMsWUFBWUQsYUFBYUUsY0FBYyxFQUFFO2dCQUMvQyxJQUFJRCxVQUFVL0gsTUFBTSxHQUFHLEtBQUtPLFlBQVkwSCxjQUFjO29CQUNwRCw2QkFBNkI7b0JBQzdCLE1BQU1DLGVBQWVILFNBQVMsQ0FBQyxFQUFFO29CQUNqQyxJQUFJLENBQUVHLENBQUFBLGdCQUFnQkMsbUJBQWtCLEdBQUk7d0JBQzFDQSxtQkFBbUIsQ0FBQ0QsYUFBYSxHQUFHO29CQUN0QztvQkFDQUMsbUJBQW1CLENBQUNELGFBQWEsR0FBR0MsbUJBQW1CLENBQUNELGFBQWEsR0FBRztvQkFDeEUsTUFBTVUsWUFBWVQsbUJBQW1CLENBQUNELGFBQWE7b0JBRW5ELElBQUksQ0FBQ0UsY0FBYyxDQUFDOUgsU0FBUyxFQUFFO3dCQUM3QjhILGNBQWMsQ0FBQzlILFNBQVMsR0FBRyxDQUFDO29CQUM5QjtvQkFDQThILGNBQWMsQ0FBQzlILFNBQVMsQ0FBQzRILGFBQWEsR0FBR1U7Z0JBQzNDO1lBQ0Y7UUFDRjtRQUVBLHFDQUFxQztRQUNyQyxNQUFNQyxZQUFZLElBQUlsTDtRQUN0QixLQUFLLE1BQU0sQ0FBQzJDLFVBQVV3SSxPQUFPLElBQUl6RyxPQUFPbUIsT0FBTyxDQUFDa0UsWUFBYTtZQUMzRCxJQUFJb0IsT0FBTzdDLEdBQUcsQ0FBQyxTQUFTNkMsT0FBTzdDLEdBQUcsQ0FBQyxRQUFRO2dCQUN6QzRDLFVBQVVoRyxHQUFHLENBQUN2QztZQUNoQjtRQUNGO1FBRUE1QyxvQkFBb0JtTDtRQUNwQmhMLHdCQUF3QjhKO1FBQ3hCNUosdUJBQXVCNko7UUFDdkIzSix3QkFBd0I0SjtRQUN4QjFKLHVCQUF1QmlLO0lBQ3pCLEdBQUc7UUFBQ3RKO1FBQXNCRTtRQUFvQnZEO1FBQVFnQjtRQUFnQmpCO1FBQVNpTDtRQUEyQnpLO0tBQWtCO0lBRTVILHlDQUF5QztJQUN6QywwRkFBMEY7SUFDMUYsTUFBTStNLHNCQUFzQjtRQUMxQixNQUFNckMsZUFBZWpCO1FBRXJCLGdFQUFnRTtRQUNoRSx5REFBeUQ7UUFDekQsMEZBQTBGO1FBQzFGLE1BQU11RCxrQkFBbUQsQ0FBQztRQUUxRCxpREFBaUQ7UUFDakQsK0RBQStEO1FBQy9ELEtBQUssTUFBTXZILGNBQWNpRixhQUFjO1lBQ3JDLE1BQU01RSxRQUFRckcsTUFBTSxDQUFDZ0csV0FBVztZQUNoQyxNQUFNcEIsYUFBYTVELGNBQWMsQ0FBQ2dGLFdBQVcsSUFBSSxDQUFDO1lBRWxELEtBQUssTUFBTW5CLFlBQVl3QixNQUFNNUIsS0FBSyxDQUFFO2dCQUNsQyxNQUFNcUksWUFBWWxJLFVBQVUsQ0FBQ0MsU0FBUyxJQUFJO2dCQUMxQywrREFBK0Q7Z0JBQy9ELGtFQUFrRTtnQkFDbEUsSUFBSWlJLFdBQVc7b0JBQ2JTLGVBQWUsQ0FBQzFJLFNBQVMsR0FBRztnQkFDOUIsT0FBTyxJQUFJLENBQUVBLENBQUFBLFlBQVkwSSxlQUFjLEdBQUk7b0JBQ3pDLG1FQUFtRTtvQkFDbkVBLGVBQWUsQ0FBQzFJLFNBQVMsR0FBRztnQkFDOUI7WUFDRjtRQUNGO1FBRUEsMERBQTBEO1FBQzFELE1BQU0ySSxjQUFjLElBQUl0TDtRQUN4QixNQUFNdUwsZ0JBQWdCLElBQUl2TDtRQUUxQixLQUFLLE1BQU0yQyxZQUFZK0IsT0FBT0MsSUFBSSxDQUFDMEcsaUJBQWtCO1lBQ25ELE1BQU1HLGFBQWFILGVBQWUsQ0FBQzFJLFNBQVM7WUFDNUMsb0NBQW9DO1lBQ3BDLE1BQU1DLGFBQWF2RSxrQkFBa0J3RSxhQUFhLENBQUNGO1lBQ25ELE1BQU04SSxnQkFBZ0I3SSxZQUFZRSxVQUFVO1lBRTVDLElBQUkwSSxjQUFjQyxrQkFBa0IsV0FBVztnQkFDN0Msa0NBQWtDO2dCQUNsQ0gsWUFBWXBHLEdBQUcsQ0FBQ3ZDO1lBQ2xCLE9BQU8sSUFBSSxDQUFDNkksY0FBY0Msa0JBQWtCLFNBQVM7Z0JBQ25ELGtDQUFrQztnQkFDbENGLGNBQWNyRyxHQUFHLENBQUN2QztZQUNwQjtRQUNGO1FBRUEsT0FBTztZQUNMK0ksaUJBQWlCSixZQUFZSyxJQUFJO1lBQ2pDQyxtQkFBbUJMLGNBQWNJLElBQUk7UUFDdkM7SUFDRjtJQUVBLE1BQU0sRUFBRUQsZUFBZSxFQUFFRSxpQkFBaUIsRUFBRSxHQUFHUjtJQUUvQyxtRUFBbUU7SUFDbkUsTUFBTVMsOEJBQThCM08sa0RBQVdBLENBQUM7UUFDOUMsTUFBTTZMLGVBQWVqQjtRQUNyQixJQUFJaUIsYUFBYTFHLE1BQU0sS0FBSyxHQUFHLE9BQU87UUFFdEMsZ0VBQWdFO1FBQ2hFLEtBQUssTUFBTXlCLGNBQWNpRixhQUFjO1lBQ3JDLElBQUksQ0FBQ2pLLGNBQWMsQ0FBQ2dGLFdBQVcsSUFBSVksT0FBT0MsSUFBSSxDQUFDN0YsY0FBYyxDQUFDZ0YsV0FBVyxFQUFFekIsTUFBTSxLQUFLLEdBQUc7Z0JBQ3ZGLE9BQU87WUFDVDtZQUVBLDBEQUEwRDtZQUMxRCxNQUFNOEIsUUFBUXJHLE1BQU0sQ0FBQ2dHLFdBQVc7WUFDaEMsSUFBSUssT0FBTztnQkFDVCxLQUFLLE1BQU14QixZQUFZd0IsTUFBTTVCLEtBQUssQ0FBRTtvQkFDbEMsSUFBSSxDQUFFSSxDQUFBQSxZQUFZN0QsY0FBYyxDQUFDZ0YsV0FBVyxHQUFHO3dCQUM3QyxPQUFPO29CQUNUO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLE9BQU87SUFDVCxHQUFHO1FBQUNnRTtRQUF5QmhKO1FBQWdCaEI7S0FBTztJQUVwRCxNQUFNZ08sdUJBQXVCRDtJQUU3QiwrQkFBK0I7SUFDL0IsTUFBTUUsY0FBYztRQUNsQixJQUFJek4saUJBQWlCK0QsTUFBTSxLQUFLLEdBQUcsT0FBTztRQUMxQyxNQUFNMkosV0FBVzFOLGdCQUFnQixDQUFDQSxpQkFBaUIrRCxNQUFNLEdBQUcsRUFBRTtRQUM5RCxPQUFPaEIscUJBQXFCMks7SUFDOUI7SUFFQSxtQ0FBbUM7SUFDbkMsTUFBTUMsa0JBQWtCO1FBQ3RCLE9BQU90SyxZQUFZVSxNQUFNLEdBQUc7SUFDOUI7SUFFQSxNQUFNNkosZUFBZTtRQUNuQixJQUFJLENBQUNILGVBQWU7UUFFcEIsK0JBQStCO1FBQy9CbkssZUFBZXVLLENBQUFBLE9BQVE7bUJBQUlBO2dCQUFNO29CQUFFNUYsT0FBT3BGO29CQUFzQnFGLEtBQUtuRjtnQkFBbUI7YUFBRTtRQUUxRix3R0FBd0c7UUFDeEcsNkZBQTZGO1FBQzdGLE1BQU0ySyxXQUFXMU4saUJBQWlCK0QsTUFBTSxHQUFHLElBQUkvRCxnQkFBZ0IsQ0FBQ0EsaUJBQWlCK0QsTUFBTSxHQUFHLEVBQUUsR0FBRztRQUUvRiwrREFBK0Q7UUFDL0QsTUFBTXVGLFlBQVl2RztRQUVsQixzRkFBc0Y7UUFDdEYsTUFBTStLLFlBQVl6RiwrQkFBK0JpQixXQUFXckc7UUFFNUQsb0NBQW9DO1FBQ3BDLElBQUk2SyxVQUFVNUYsR0FBRyxHQUFHd0YsVUFBVTtZQUM1QkksVUFBVTVGLEdBQUcsR0FBR3dGO1FBQ2xCO1FBRUE1Syx3QkFBd0JnTCxVQUFVN0YsS0FBSztRQUN2Q2pGLHNCQUFzQjhLLFVBQVU1RixHQUFHO1FBQ25DMUUsaUJBQWlCLFFBQVEsdUNBQXVDO1FBQ2hFSixpQkFBaUI7SUFDbkI7SUFFQSxNQUFNMkssbUJBQW1CO1FBQ3ZCLElBQUksQ0FBQ0osbUJBQW1CO1FBRXhCLGtDQUFrQztRQUNsQyxNQUFNSyxlQUFlM0ssV0FBVyxDQUFDQSxZQUFZVSxNQUFNLEdBQUcsRUFBRTtRQUN4RFQsZUFBZXVLLENBQUFBLE9BQVFBLEtBQUtJLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDdENuTCx3QkFBd0JrTCxhQUFhL0YsS0FBSztRQUMxQ2pGLHNCQUFzQmdMLGFBQWE5RixHQUFHO1FBQ3RDOUUsaUJBQWlCO0lBQ25CO0lBRUEsTUFBTThLLFlBQVk7UUFDaEIsSUFBSWxPLGlCQUFpQitELE1BQU0sR0FBRyxHQUFHO1lBQy9CLE1BQU0ySixXQUFXMU4sZ0JBQWdCLENBQUNBLGlCQUFpQitELE1BQU0sR0FBRyxFQUFFO1lBQzlELDZEQUE2RDtZQUM3RCxNQUFNb0ssUUFBUTlGLCtCQUErQnFGLFVBQVV6SztZQUN2REssZUFBZSxFQUFFO1lBQ2pCUix3QkFBd0JxTCxNQUFNbEcsS0FBSztZQUNuQ2pGLHNCQUFzQm1MLE1BQU1qRyxHQUFHO1lBQy9COUUsaUJBQWlCO1FBQ25CO0lBQ0Y7SUFFQSxNQUFNZ0wsWUFBWTtRQUNoQixJQUFJcE8saUJBQWlCK0QsTUFBTSxHQUFHLEdBQUc7WUFDL0IsTUFBTTJHLFdBQVcxSyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUscUJBQXFCO1lBQzNELDZEQUE2RDtZQUM3RCxNQUFNbU8sUUFBUTlGLCtCQUErQnFDLFVBQVV6SDtZQUN2REssZUFBZSxFQUFFO1lBQ2pCUix3QkFBd0JxTCxNQUFNbEcsS0FBSztZQUNuQ2pGLHNCQUFzQm1MLE1BQU1qRyxHQUFHO1lBQy9COUUsaUJBQWlCO1FBQ25CO0lBQ0Y7SUFFQSx5QkFBeUI7SUFDekJ2RSwwREFBbUJBLENBQUNpQixLQUFLLElBQU87WUFDOUJvTztZQUNBRTtRQUNGO0lBRUEsOEJBQThCO0lBQzlCelAsZ0RBQVNBLENBQUM7UUFDUixJQUFJLENBQUMwRCxxQkFBcUIsQ0FBQ0Usa0JBQWtCO1lBQzNDLHVDQUF1QztZQUN2QyxJQUFJRSx1QkFBdUJHLE9BQU8sS0FBSyxNQUFNO2dCQUMzQ3lMLHFCQUFxQjVMLHVCQUF1QkcsT0FBTztnQkFDbkRILHVCQUF1QkcsT0FBTyxHQUFHO1lBQ25DO1lBQ0E7UUFDRjtRQUVBLE1BQU0wTCxTQUFTO1lBQ2IsTUFBTUMsTUFBTUMsWUFBWUQsR0FBRztZQUMzQixNQUFNRSxZQUFZRixNQUFNN0wsa0JBQWtCRSxPQUFPO1lBRWpELGdEQUFnRDtZQUNoRCwwQ0FBMEM7WUFDMUMsTUFBTThMLGlCQUFpQixvQkFBcUIsT0FBUUQ7WUFFcEQsMkRBQTJEO1lBQzNELE1BQU1FLFlBQVksSUFBSSxTQUFTO1lBQy9CLE1BQU1DLGFBQWFDLE9BQU9DLFdBQVcsR0FBR0QsT0FBT0UsT0FBTyxJQUFJQyxTQUFTQyxlQUFlLENBQUNDLFlBQVksR0FBR1A7WUFFbEcsSUFBSUMsWUFBWTtnQkFDZCxtQ0FBbUM7Z0JBQ25DcE0sb0JBQW9CO2dCQUNwQixJQUFJQyx1QkFBdUJHLE9BQU8sS0FBSyxNQUFNO29CQUMzQ3lMLHFCQUFxQjVMLHVCQUF1QkcsT0FBTztvQkFDbkRILHVCQUF1QkcsT0FBTyxHQUFHO2dCQUNuQztnQkFDQTtZQUNGO1lBRUEsY0FBYztZQUNkaU0sT0FBT00sUUFBUSxDQUFDLEdBQUdUO1lBQ25CaE0sa0JBQWtCRSxPQUFPLEdBQUcyTDtZQUU1QixxQkFBcUI7WUFDckI5TCx1QkFBdUJHLE9BQU8sR0FBR3dNLHNCQUFzQmQ7UUFDekQ7UUFFQSxpQ0FBaUM7UUFDakM1TCxrQkFBa0JFLE9BQU8sR0FBRzRMLFlBQVlELEdBQUc7UUFDM0M5TCx1QkFBdUJHLE9BQU8sR0FBR3dNLHNCQUFzQmQ7UUFFdkQsbUJBQW1CO1FBQ25CLE9BQU87WUFDTCxJQUFJN0wsdUJBQXVCRyxPQUFPLEtBQUssTUFBTTtnQkFDM0N5TCxxQkFBcUI1TCx1QkFBdUJHLE9BQU87Z0JBQ25ESCx1QkFBdUJHLE9BQU8sR0FBRztZQUNuQztRQUNGO0lBQ0YsR0FBRztRQUFDUDtRQUFtQkU7S0FBaUI7SUFFeEMsOERBQThEO0lBQzlELGlHQUFpRztJQUNqRzVELGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDMEQsbUJBQW1CO1lBQ3RCLFFBQVEsMkRBQTJEO1FBQ3JFO1FBRUEsTUFBTWdOLGdCQUFnQixDQUFDQztZQUNyQix3QkFBd0I7WUFDeEIsSUFBSUEsRUFBRUMsSUFBSSxLQUFLLFdBQVdELEVBQUVFLEdBQUcsS0FBSyxLQUFLO2dCQUN2QyxNQUFNQyxTQUFTSCxFQUFFRyxNQUFNO2dCQUV2QiwyRUFBMkU7Z0JBQzNFLE1BQU1DLGNBQ0osT0FBUUMsT0FBTyxLQUFLLFdBQ25CLE9BQTZCQyxJQUFJLEtBQUssY0FDdEMsT0FBNkJBLElBQUksS0FBSyxXQUN2Q0gsT0FBT0UsT0FBTyxLQUFLLGNBQ25CRixPQUFPSSxpQkFBaUIsSUFDeEJKLE9BQU9LLFlBQVksQ0FBQyx1QkFBdUI7Z0JBRTdDLElBQUlKLGFBQWE7b0JBQ2YsUUFBUSx1REFBdUQ7Z0JBQ2pFO2dCQUVBLDBFQUEwRTtnQkFDMUUsZ0ZBQWdGO2dCQUNoRkosRUFBRVMsY0FBYztnQkFDaEJULEVBQUVVLGVBQWU7Z0JBQ2pCVixFQUFFVyx3QkFBd0I7Z0JBRTFCLGtDQUFrQztnQkFDbEMsSUFBSVIsT0FBT0UsT0FBTyxLQUFLLFdBQVcsT0FBNkJDLElBQUksS0FBSyxZQUFZO29CQUNqRkgsT0FBNEJTLElBQUk7Z0JBQ25DO2dCQUVBLCtEQUErRDtnQkFDL0QxTixvQkFBb0JxTCxDQUFBQSxPQUFRLENBQUNBO1lBQy9CO1FBQ0Y7UUFFQSw2REFBNkQ7UUFDN0RnQixPQUFPc0IsZ0JBQWdCLENBQUMsV0FBV2QsZUFBZTtRQUVsRCxPQUFPO1lBQ0xSLE9BQU91QixtQkFBbUIsQ0FBQyxXQUFXZixlQUFlO1FBQ3ZEO0lBQ0YsR0FBRztRQUFDaE47S0FBa0I7SUFFdEIsOENBQThDO0lBQzlDLHVFQUF1RTtJQUN2RSwwRUFBMEU7SUFDMUUsTUFBTWdPLHNCQUFzQnpSLGtEQUFXQSxDQUFDLENBQUN5RixVQUFrQm9JO1FBQ3pEaE0sa0JBQWtCb04sQ0FBQUE7WUFDaEIsTUFBTXlDLFVBQXFFO2dCQUFFLEdBQUd6QyxJQUFJO1lBQUM7WUFDckYsTUFBTXBELGVBQWVqQjtZQUVyQixLQUFLLE1BQU1oRSxjQUFjaUYsYUFBYztnQkFDckMsTUFBTTVFLFFBQVFyRyxNQUFNLENBQUNnRyxXQUFXO2dCQUNoQyxJQUFJLENBQUNLLFNBQVMsQ0FBQ0EsTUFBTTVCLEtBQUssQ0FBQzBGLFFBQVEsQ0FBQ3RGLFdBQVc7Z0JBRS9DLE1BQU1rTSxzQkFBc0JELE9BQU8sQ0FBQzlLLFdBQVcsSUFBSXFJLElBQUksQ0FBQ3JJLFdBQVcsSUFBSSxDQUFDO2dCQUN4RThLLE9BQU8sQ0FBQzlLLFdBQVcsR0FBRztvQkFDcEIsR0FBRytLLG1CQUFtQjtvQkFDdEIsQ0FBQ2xNLFNBQVMsRUFBRW9JO2dCQUNkO1lBQ0Y7WUFFQSxPQUFPNkQ7UUFDVDtRQUVBLGtDQUFrQztRQUNsQ3BSLGlEQUFPQSxDQUFDc1Isa0JBQWtCLENBQUNqUixTQUFTOEUsVUFBVW9JO1FBRTlDLHNEQUFzRDtRQUN0RCxJQUFJbEssa0JBQWtCO1lBQ3BCQyxvQkFBb0I7UUFDdEI7UUFFQSw4RUFBOEU7UUFDOUUsZ0ZBQWdGO1FBQ2hGNE0sc0JBQXNCO1lBQ3BCLElBQUlKLFNBQVN5QixhQUFhLElBQ3RCekIsU0FBU3lCLGFBQWEsQ0FBQ2QsT0FBTyxLQUFLLFdBQ25DLFNBQVVjLGFBQWEsQ0FBc0JiLElBQUksS0FBSyxZQUFZO2dCQUNuRVosU0FBU3lCLGFBQWEsQ0FBaUJQLElBQUk7WUFDOUM7UUFDRjtJQUVBLDZEQUE2RDtJQUMvRCxHQUFHO1FBQUMzUTtRQUFTZ0Q7UUFBa0JpSDtRQUF5QmhLO0tBQU87SUFFL0QscUVBQXFFO0lBQ3JFLE1BQU1rUixvQkFBb0I5UixrREFBV0EsQ0FBQyxDQUFDNEcsWUFBb0JuQixVQUFrQm9JO1FBQzNFNEQsb0JBQW9CaE0sVUFBVW9JO0lBQ2hDLEdBQUc7UUFBQzREO0tBQW9CO0lBRXhCLE1BQU1NLDBCQUEwQixPQUFPbkw7UUFDckMsSUFBSTtZQUNGLE1BQU02RyxlQUFlakcsT0FBT21CLE9BQU8sQ0FBQy9HLGNBQWMsQ0FBQ2dGLFdBQVcsSUFBSSxDQUFDLEdBQ2hFMkIsTUFBTSxDQUFDLENBQUMsQ0FBQ3lKLEdBQUduRSxRQUFRLEdBQUtBLFNBQ3pCbkcsR0FBRyxDQUFDLENBQUMsQ0FBQ2pDLFNBQVMsR0FBS0E7WUFFdkIsTUFBTXBGLHlDQUFHQSxDQUFDNFIsV0FBVyxDQUFDdFIsU0FBU2lHLFlBQVk2RztZQUUzQyw4QkFBOEI7WUFDOUIsTUFBTXhHLFFBQVFyRyxNQUFNLENBQUNnRyxXQUFXO1lBQ2hDLEtBQUssTUFBTW5CLFlBQVl3QixNQUFNNUIsS0FBSyxDQUFFO2dCQUNsQyxNQUFNcUksWUFBWUQsYUFBYTFDLFFBQVEsQ0FBQ3RGO2dCQUN4Q3RFLGtCQUFrQitRLGFBQWEsQ0FBQ3pNLFVBQVU7b0JBQ3hDRyxRQUFROEgsWUFBWSxVQUFVO29CQUM5QkcsU0FBU0g7Z0JBQ1g7Z0JBQ0F2TSxrQkFBa0JnUixjQUFjLENBQUMxTSxVQUFVaUk7WUFDN0M7WUFFQSxnQkFBZ0I7WUFDaEI1TTtRQUNGLEVBQUUsT0FBT3FJLE9BQU87WUFDZEgsUUFBUUcsS0FBSyxDQUFDLDJCQUEyQkE7WUFDekNpSixNQUFNO1FBQ1I7SUFDRjtJQUVBLE1BQU1DLHdCQUF3QjtRQUM1QixnQ0FBZ0M7UUFDaEM5UCxvQkFBb0I7SUFDdEI7SUFFQSxNQUFNK1AseUJBQXlCO1FBQzdCL1Asb0JBQW9CO1FBQ3BCUixjQUFjO1FBRWQsSUFBSTtZQUNGLCtCQUErQjtZQUMvQixJQUFJd1EsbUJBQW1CO1lBQ3ZCLElBQUlDLHFCQUFxQjtZQUN6QixJQUFJO2dCQUNGLE1BQU1DLGdCQUFnQixNQUFNcFMseUNBQUdBLENBQUNxUyxVQUFVLENBQUMvUjtnQkFDM0M0UixtQkFBbUJFLGNBQWNFLFdBQVcsSUFBSTtnQkFDaERILHFCQUFxQkMsY0FBY0csYUFBYSxJQUFJO2dCQUNwRDVKLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDJCQUEyQixFQUFFc0osaUJBQWlCLFdBQVcsRUFBRUMsbUJBQW1CLENBQUM7WUFDOUYsRUFBRSxPQUFPckosT0FBTztnQkFDZEgsUUFBUUcsS0FBSyxDQUFDLGlDQUFpQ0E7WUFDakQ7WUFFQSxNQUFNMEMsZUFBZWpCO1lBRXJCLHVFQUF1RTtZQUN2RSx1RkFBdUY7WUFDdkYsTUFBTXVELGtCQUFtRCxDQUFDO1lBRTFELGtEQUFrRDtZQUNsRCxnRkFBZ0Y7WUFDaEYsS0FBSyxNQUFNdkgsY0FBY2lGLGFBQWM7Z0JBQ3JDLE1BQU01RSxRQUFRckcsTUFBTSxDQUFDZ0csV0FBVztnQkFDaEMsS0FBSyxNQUFNbkIsWUFBWXdCLE1BQU01QixLQUFLLENBQUU7b0JBQ2xDLElBQUksQ0FBRUksQ0FBQUEsWUFBWTBJLGVBQWMsR0FBSTt3QkFDbENBLGVBQWUsQ0FBQzFJLFNBQVMsR0FBRztvQkFDOUI7Z0JBQ0Y7WUFDRjtZQUVBLG1EQUFtRDtZQUNuRCxLQUFLLE1BQU1tQixjQUFjaUYsYUFBYztnQkFDckMsTUFBTTVFLFFBQVFyRyxNQUFNLENBQUNnRyxXQUFXO2dCQUNoQyxNQUFNcEIsYUFBYTVELGNBQWMsQ0FBQ2dGLFdBQVcsSUFBSSxDQUFDO2dCQUVsRCxLQUFLLE1BQU1uQixZQUFZd0IsTUFBTTVCLEtBQUssQ0FBRTtvQkFDbEMsTUFBTXFJLFlBQVlsSSxVQUFVLENBQUNDLFNBQVMsSUFBSTtvQkFDMUMsK0RBQStEO29CQUMvRCxJQUFJaUksV0FBVzt3QkFDYlMsZUFBZSxDQUFDMUksU0FBUyxHQUFHO29CQUM5QjtnQkFDQSwwREFBMEQ7Z0JBQzVEO1lBQ0Y7WUFFQSxJQUFJb04sc0JBQXNCLEdBQUcsdURBQXVEO1lBQ3BGLElBQUlDLDBCQUEwQixHQUFHLGdEQUFnRDtZQUNqRixJQUFJQyx5QkFBeUIsR0FBRywwREFBMEQ7WUFDMUYsSUFBSUMsdUJBQXVCO1lBRTNCLG9DQUFvQztZQUNwQyxLQUFLLE1BQU1wTSxjQUFjaUYsYUFBYztnQkFDckMsTUFBTTVFLFFBQVFyRyxNQUFNLENBQUNnRyxXQUFXO2dCQUVoQyxnRkFBZ0Y7Z0JBQ2hGLG9GQUFvRjtnQkFDcEYsTUFBTTZHLGVBQXlCLEVBQUU7Z0JBQ2pDLEtBQUssTUFBTWhJLFlBQVl3QixNQUFNNUIsS0FBSyxDQUFFO29CQUNsQyxNQUFNaUosYUFBYUgsZUFBZSxDQUFDMUksU0FBUztvQkFDNUMscURBQXFEO29CQUNyRCxrRkFBa0Y7b0JBQ2xGLElBQUk2SSxlQUFlLE1BQU07d0JBQ3ZCLHVEQUF1RDt3QkFDdkRiLGFBQWF4SCxJQUFJLENBQUNSO29CQUNwQjtnQkFDQSxtRkFBbUY7Z0JBQ3JGO2dCQUVBLE1BQU0rQyxXQUFXLE1BQU1uSSx5Q0FBR0EsQ0FBQzRSLFdBQVcsQ0FBQ3RSLFNBQVNpRyxZQUFZNkc7Z0JBQzVEdUY7Z0JBRUEsOERBQThEO2dCQUM5RCxLQUFLLE1BQU12TixZQUFZd0IsTUFBTTVCLEtBQUssQ0FBRTtvQkFDbEMsTUFBTWlKLGFBQWFILGVBQWUsQ0FBQzFJLFNBQVM7b0JBQzVDdEUsa0JBQWtCK1EsYUFBYSxDQUFDek0sVUFBVTt3QkFDeENHLFFBQVEwSSxlQUFlLE9BQU8sVUFBVTt3QkFDeENULFNBQVNTO29CQUNYO29CQUNBbk4sa0JBQWtCZ1IsY0FBYyxDQUFDMU0sVUFBVTZJO2dCQUM3QztnQkFFQSx3QkFBd0I7Z0JBQ3hCLElBQUk5RixTQUFTeUssZ0JBQWdCLEVBQUU7b0JBQzdCSix1QkFBdUJySyxTQUFTeUssZ0JBQWdCO2dCQUNsRDtnQkFDQSxJQUFJekssU0FBUzBLLG9CQUFvQixFQUFFO29CQUNqQ0osMkJBQTJCdEssU0FBUzBLLG9CQUFvQjtnQkFDMUQ7Z0JBQ0EsSUFBSTFLLFNBQVMySyxvQkFBb0IsRUFBRTtvQkFDakNKLDBCQUEwQnZLLFNBQVMySyxvQkFBb0I7Z0JBQ3pEO2dCQUVBbkssUUFBUUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFckMsV0FBVyxXQUFXLENBQUMsRUFBRTtvQkFDNUNxTSxrQkFBa0J6SyxTQUFTeUssZ0JBQWdCO29CQUMzQ0Msc0JBQXNCMUssU0FBUzBLLG9CQUFvQjtvQkFDbkRDLHNCQUFzQjNLLFNBQVMySyxvQkFBb0I7b0JBQ25EQyxhQUFhNUssU0FBUzRLLFdBQVc7b0JBQ2pDQyxlQUFlN0ssU0FBUzZLLGFBQWE7Z0JBQ3ZDO1lBQ0Y7WUFFQXJLLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDBCQUEwQixFQUFFNEosb0JBQW9CLHdCQUF3QixFQUFFQyx3QkFBd0Isd0JBQXdCLEVBQUVDLHVCQUF1QixVQUFVLEVBQUVDLHFCQUFxQixDQUFDO1lBRWxNLDZDQUE2QztZQUM3QyxJQUFJTSxrQkFBa0I7WUFDdEIsSUFBSUMsb0JBQW9CO1lBQ3hCLElBQUk7Z0JBQ0YsTUFBTUMsZUFBZSxNQUFNblQseUNBQUdBLENBQUNxUyxVQUFVLENBQUMvUjtnQkFDMUMyUyxrQkFBa0JFLGFBQWFiLFdBQVcsSUFBSTtnQkFDOUNZLG9CQUFvQkMsYUFBYVosYUFBYSxJQUFJO2dCQUNsRDVKLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDBCQUEwQixFQUFFcUssZ0JBQWdCLFdBQVcsRUFBRUMsa0JBQWtCLENBQUM7WUFDM0YsRUFBRSxPQUFPcEssT0FBTztnQkFDZEgsUUFBUUcsS0FBSyxDQUFDLGdDQUFnQ0E7WUFDaEQ7WUFFQSwyQkFBMkI7WUFDM0IsTUFBTXNLLHlCQUF5QmxCLG1CQUFtQmUsaUJBQWlCLG1DQUFtQztZQUN0RyxNQUFNSSx1QkFBdUJILG9CQUFvQmYsb0JBQW9CLGlDQUFpQztZQUV0R3hKLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHFDQUFxQyxFQUFFd0ssdUJBQXVCLG9CQUFvQixFQUFFQyxxQkFBcUIsQ0FBQztZQUV2SCw0RUFBNEU7WUFDNUUsSUFBSVYsdUJBQXVCLEdBQUc7Z0JBQzVCLGdFQUFnRTtnQkFDaEUsb0ZBQW9GO2dCQUNwRiwyRUFBMkU7Z0JBQzNFLE1BQU1XLG1CQUFtQkYseUJBQXlCLElBQUlBLHlCQUF5Qlo7Z0JBQy9FLE1BQU1lLGVBQWViLHdCQUF3QixnQ0FBZ0M7Z0JBQzdFLE1BQU1jLGlCQUFpQkgsdUJBQXVCLElBQUlBLHVCQUF1QmI7Z0JBRXpFN0osUUFBUUMsR0FBRyxDQUFDLHFDQUFxQztvQkFDL0MwSztvQkFDQUM7b0JBQ0FDO29CQUNBUDtvQkFDQUM7Z0JBQ0Y7Z0JBRUE5USxnQkFBZ0I7b0JBQ2RxUixnQkFBZ0JIO29CQUNoQkMsY0FBY0E7b0JBQ2RDLGdCQUFnQkE7b0JBQ2hCRSxZQUFZVDtvQkFDWlUsY0FBY1Q7Z0JBQ2hCO2dCQUVBLHVHQUF1RztnQkFDdkcsSUFBSXJFLFlBQW1EO2dCQUN2RCxJQUFJK0UsVUFBVTtnQkFFZCxJQUFJcEYsZUFBZTtvQkFDakIsTUFBTUMsV0FBVzFOLGlCQUFpQitELE1BQU0sR0FBRyxJQUFJL0QsZ0JBQWdCLENBQUNBLGlCQUFpQitELE1BQU0sR0FBRyxFQUFFLEdBQUc7b0JBQy9GLE1BQU11RixZQUFZdkc7b0JBQ2xCLE1BQU0rUCxpQkFBaUJ6SywrQkFBK0JpQixXQUFXckc7b0JBRWpFLElBQUk2UCxlQUFlNUssR0FBRyxJQUFJd0YsVUFBVTt3QkFDbENJLFlBQVlnRjt3QkFDWkQsVUFBVTtvQkFDWjtnQkFDRjtnQkFFQSxxREFBcUQ7Z0JBQ3JEdFIsZ0JBQWdCO29CQUNkdU07b0JBQ0FMLGFBQWFvRjtvQkFDYkUsU0FBUztnQkFDWDtnQkFFQTlSLG9CQUFvQjtnQkFDcEIyRyxRQUFRQyxHQUFHLENBQUM7WUFDZDtZQUVBLHlCQUF5QjtZQUN6QnpFLGlCQUFpQjtZQUVqQixrREFBa0Q7WUFDbEQsSUFBSTtnQkFDRixNQUFNbkUseUNBQUdBLENBQUMrVCxZQUFZLENBQUN6VDtnQkFDdkJxSSxRQUFRQyxHQUFHLENBQUM7WUFDZCxFQUFFLE9BQU9FLE9BQU87Z0JBQ2RILFFBQVFHLEtBQUssQ0FBQyxrQ0FBa0NBO1lBQ2hELG1EQUFtRDtZQUNyRDtZQUVBLGdCQUFnQjtZQUNoQnJJO1lBRUEsdUVBQXVFO1lBRXZFLGlEQUFpRDtZQUNqRGlCLGNBQWM7UUFDaEIsRUFBRSxPQUFPb0gsT0FBTztZQUNkSCxRQUFRRyxLQUFLLENBQUMsNEJBQTRCQTtZQUMxQ2lKLE1BQU07WUFDTnJRLGNBQWM7UUFDaEI7SUFDRjtJQUVBLElBQUlHLGNBQWM7UUFDaEIscUJBQ0UsOERBQUNtUztZQUFJQyxXQUFVO3NCQUNiLDRFQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVOzs7Ozs7a0NBQ2YsOERBQUNDO3dCQUFFRCxXQUFVO2tDQUF3Qjs7Ozs7O2tDQUNyQyw4REFBQ0M7d0JBQUVELFdBQVU7a0NBQTZCOzs7Ozs7Ozs7Ozs7Ozs7OztJQUlsRDtJQUVBLHVFQUF1RTtJQUN2RSxNQUFNekksZUFBZUQ7SUFFckIscUJBQ0UsOERBQUN5STtRQUFJQyxXQUFVOztZQUVYeFMsQ0FBQUEsY0FBY0UsZUFBYyxtQkFDNUIsOERBQUNxUztnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7Ozs7OzswQ0FDZiw4REFBQ0U7Z0NBQUdGLFdBQVU7MENBQ1h4UyxhQUFhLHlCQUF5Qjs7Ozs7OzBDQUV6Qyw4REFBQ3lTO2dDQUFFRCxXQUFVOzBDQUNWeFMsYUFBYSxpREFBaUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7WUFReEVRLGtDQUNDLDhEQUFDK1I7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDRDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNFO2dDQUFHRixXQUFVOzBDQUF3Qzs7Ozs7OzBDQUd0RCw4REFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRzt3Q0FDQ0MsU0FBUyxJQUFNblMsb0JBQW9CO3dDQUNuQytSLFdBQVU7a0RBQ1g7Ozs7OztrREFHRCw4REFBQ0c7d0NBQ0NDLFNBQVNwQzt3Q0FDVHFDLFVBQVU3Uzt3Q0FDVndTLFdBQVU7a0RBRVR4UyxhQUFhLGtCQUFrQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVMzQ00sb0JBQW9CSSw4QkFDbkIsOERBQUM2UjtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7MENBQWdCOzs7Ozs7MENBQy9CLDhEQUFDRTtnQ0FBR0YsV0FBVTswQ0FBd0M7Ozs7OzswQ0FHdEQsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ0Q7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDRDtnREFBSUMsV0FBVTs7a0VBQ2IsOERBQUNDO3dEQUFFRCxXQUFVOzswRUFDWCw4REFBQ007Z0VBQUtOLFdBQVU7MEVBQWtDOVIsYUFBYXNSLGNBQWM7Ozs7Ozs0REFBUTswRUFBbUIsOERBQUNjO2dFQUFLTixXQUFVOzBFQUFnQjs7Ozs7Ozs7Ozs7O2tFQUUxSSw4REFBQ0M7d0RBQUVELFdBQVU7OzBFQUNYLDhEQUFDTTtnRUFBS04sV0FBVTswRUFBb0M5UixhQUFhb1IsWUFBWTs7Ozs7OzREQUFROzBFQUFlLDhEQUFDZ0I7Z0VBQUtOLFdBQVU7MEVBQWdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7MERBR3hJLDhEQUFDQztnREFBRUQsV0FBVTs7b0RBQTZCO29EQUN0QzlSLGFBQWF1UixVQUFVO29EQUFDOzs7Ozs7Ozs7Ozs7O2tEQUk5Qiw4REFBQ007d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDQztnREFBRUQsV0FBVTs7a0VBQ1gsOERBQUNNO3dEQUFLTixXQUFVO2tFQUFxQzlSLGFBQWFxUixjQUFjOzs7Ozs7b0RBQVE7a0VBQWUsOERBQUNlO3dEQUFLTixXQUFVO2tFQUFnQjs7Ozs7Ozs7Ozs7OzBEQUV6SSw4REFBQ0M7Z0RBQUVELFdBQVU7O29EQUE2QjtvREFDdEM5UixhQUFhd1IsWUFBWTtvREFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0QkFLakN0Uiw4QkFDQyw4REFBQzJSO2dDQUFJQyxXQUFVOzBDQUNaNVIsYUFBYW1NLFdBQVcsSUFBSW5NLGFBQWF3TSxTQUFTLGlCQUNqRCw4REFBQ3FGO29DQUFFRCxXQUFVOzt3Q0FBd0I7d0NBQ2pCNVIsYUFBYXdNLFNBQVMsQ0FBQzdGLEtBQUssQ0FBQ3dMLE9BQU8sQ0FBQzt3Q0FBRzt3Q0FBS25TLGFBQWF3TSxTQUFTLENBQUM1RixHQUFHLENBQUN1TCxPQUFPLENBQUM7d0NBQUc7Ozs7Ozs4REFHdkcsOERBQUNOO29DQUFFRCxXQUFVOzhDQUFzQzs7Ozs7Ozs7Ozs7MENBT3pELDhEQUFDRztnQ0FDQ0MsU0FBUztvQ0FDUHJTLG9CQUFvQjtvQ0FDcEJJLGdCQUFnQjtvQ0FFaEIseUNBQXlDO29DQUN6QyxJQUFJQyxjQUFjbU0sZUFBZW5NLGFBQWF3TSxTQUFTLEVBQUU7d0NBQ3ZELHNDQUFzQzt3Q0FDdENqTixtQkFBbUI7d0NBRW5CLCtCQUErQjt3Q0FDL0J5QyxlQUFldUssQ0FBQUEsT0FBUTttREFBSUE7Z0RBQU07b0RBQUU1RixPQUFPcEY7b0RBQXNCcUYsS0FBS25GO2dEQUFtQjs2Q0FBRTt3Q0FFMUYsd0JBQXdCO3dDQUN4QkQsd0JBQXdCeEIsYUFBYXdNLFNBQVMsQ0FBQzdGLEtBQUs7d0NBQ3BEakYsc0JBQXNCMUIsYUFBYXdNLFNBQVMsQ0FBQzVGLEdBQUc7d0NBQ2hEOUUsaUJBQWlCO3dDQUVqQixrRUFBa0U7d0NBQ2xFLDBFQUEwRTt3Q0FDMUUsTUFBTXNRLG9CQUFvQkMsWUFBWTs0Q0FDcEMsTUFBTUMsa0JBQWtCcEs7NENBQ3hCLDBEQUEwRDs0Q0FDMUQsSUFBSW9LLGdCQUFnQjdQLE1BQU0sR0FBRyxLQUFLLENBQUMwSixlQUFlO2dEQUNoRG9HLGNBQWNIO2dEQUNkN1MsbUJBQW1COzRDQUNyQjt3Q0FDRixHQUFHO3dDQUVILG9EQUFvRDt3Q0FDcER5SyxXQUFXOzRDQUNUdUksY0FBY0g7NENBQ2Q3UyxtQkFBbUI7d0NBQ3JCLEdBQUc7b0NBQ0wsT0FBTzt3Q0FDTCxpQ0FBaUM7d0NBQ2pDVSxnQkFBZ0I7b0NBQ2xCO2dDQUNGO2dDQUNBZ1MsVUFBVTNTO2dDQUNWc1MsV0FBVTswQ0FFVHRTLGtCQUFrQix5QkFBMEJVLGNBQWNtTSxjQUFjLHlCQUF5Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFRNUcsOERBQUN3RjtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0c7b0JBQ0NDLFNBQVNyQztvQkFDVHNDLFVBQVU3UyxjQUFjWCxrQkFBa0IrVCxlQUFlLElBQUkzUSxpQkFBaUJyQyxnQkFBZ0IsQ0FBQzBNO29CQUMvRjBGLFdBQVU7OEJBRVR4UywyQkFDQyw4REFBQzhTO3dCQUFLTixXQUFVO2tDQUFZOzs7OztvQ0FDMUJwUyw2QkFDRiw4REFBQzBTO3dCQUFLTixXQUFVO2tDQUFZOzs7OztvQ0FDMUJuVCxrQkFBa0IrVCxlQUFlLGlCQUNuQyw4REFBQ047d0JBQUtOLFdBQVU7a0NBQVk7Ozs7O29DQUMxQixDQUFDMUYscUNBQ0gsOERBQUNnRzt3QkFBS04sV0FBVTtrQ0FBWTs7Ozs7b0NBQzFCL1AsOEJBQ0YsOERBQUNxUTt3QkFBS04sV0FBVTtrQ0FBWTs7Ozs7a0RBRTVCLDhEQUFDRDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNEO2dDQUFJQyxXQUFVOztvQ0FBc0I7b0NBQWFwSTtvQ0FBa0I7Ozs7Ozs7MENBQ3BFLDhEQUFDbUk7Z0NBQUlDLFdBQVU7O29DQUNaOUYsa0JBQWtCLG1CQUNqQiw4REFBQ29HO3dDQUFLTixXQUFVOzswREFDZCw4REFBQ007Z0RBQUtOLFdBQVU7MERBQWlCOzs7Ozs7MERBQ2pDLDhEQUFDTTtnREFBS04sV0FBVTswREFBeUQ5Rjs7Ozs7OzBEQUN6RSw4REFBQ29HO2dEQUFLTixXQUFVOzBEQUFpQjs7Ozs7Ozs7Ozs7O29DQUdwQzlGLGtCQUFrQixLQUFLRSxvQkFBb0IsbUJBQzFDLDhEQUFDa0c7d0NBQUtOLFdBQVU7a0RBQWlCOzs7Ozs7b0NBRWxDNUYsb0JBQW9CLG1CQUNuQiw4REFBQ2tHO3dDQUFLTixXQUFVOzswREFDZCw4REFBQ007Z0RBQUtOLFdBQVU7MERBQWU7Ozs7OzswREFDL0IsOERBQUNNO2dEQUFLTixXQUFVOzBEQUF1RDVGOzs7Ozs7MERBQ3ZFLDhEQUFDa0c7Z0RBQUtOLFdBQVU7MERBQWU7Ozs7Ozs7Ozs7OztvQ0FHbEM5RixvQkFBb0IsS0FBS0Usc0JBQXNCLG1CQUM5Qyw4REFBQ2tHO3dDQUFLTixXQUFVO2tEQUF3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFTcEQsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDs7a0RBQ0MsOERBQUNHO3dDQUFHRixXQUFVOzs0Q0FBbUM7NENBQ2xDclEscUJBQXFCNFEsT0FBTyxDQUFDOzRDQUFHOzRDQUFLMVEsbUJBQW1CMFEsT0FBTyxDQUFDOzRDQUFHOzs7Ozs7O2tEQUVsRiw4REFBQ047d0NBQUVELFdBQVU7OzRDQUNWcEk7NENBQWtCOzRDQUFJdEwsT0FBT3VFLE1BQU07NENBQUM7NENBQU92RSxPQUFPdUUsTUFBTSxLQUFLLElBQUksTUFBTTs0Q0FBRzs0Q0FDMUVaLCtCQUNDLDhEQUFDcVE7Z0RBQUtOLFdBQVU7MERBQW1FOzs7Ozs7Ozs7Ozs7b0NBS3RGblQsa0JBQWtCK1QsZUFBZSxrQkFDaEMsOERBQUNYO3dDQUFFRCxXQUFVO2tEQUE2Qjs7Ozs7Ozs7Ozs7OzBDQUk5Qyw4REFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUViLDhEQUFDRDt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNhO2dEQUFNYixXQUFVOzBEQUFzQzs7Ozs7OzBEQUN2RCw4REFBQ0c7Z0RBQ0NDLFNBQVMsSUFBTWxSLGdCQUFnQixDQUFDRDtnREFDaEMrUSxXQUFXLENBQUMsMEVBQTBFLEVBQ3BGL1EsZUFBZSxnQkFBZ0IsY0FDaEMsQ0FBQztnREFDRjZSLE9BQU83UixlQUFlLG1DQUFtQzswREFFekQsNEVBQUNxUjtvREFDQ04sV0FBVyxDQUFDLDBFQUEwRSxFQUNwRi9RLGVBQWUsa0JBQWtCLGdCQUNsQyxDQUFDOzs7Ozs7Ozs7OzswREFHTiw4REFBQ3FSO2dEQUFLTixXQUFVOzBEQUNiL1EsZUFBZSxPQUFPOzs7Ozs7Ozs7Ozs7a0RBSzNCLDhEQUFDOFE7d0NBQUlDLFdBQVU7OzBEQUNiLDhEQUFDYTtnREFBTWIsV0FBVTswREFBc0M7Ozs7OzswREFDdkQsOERBQUNHO2dEQUNDQyxTQUFTO29EQUNQLE1BQU1XLGFBQWEsQ0FBQzVSO29EQUNwQkMscUJBQXFCMlI7b0RBQ3JCLElBQUlBLFlBQVk7d0RBQ2QsbUNBQW1DO3dEQUNuQ3pSLG9CQUFvQjtvREFDdEIsT0FBTzt3REFDTCxtQ0FBbUM7d0RBQ25DQSxvQkFBb0I7b0RBQ3RCO2dEQUNGO2dEQUNBMFEsV0FBVyxDQUFDLDBFQUEwRSxFQUNwRjdRLG9CQUFvQixpQkFBaUIsY0FDdEMsQ0FBQztnREFDRjJSLE9BQU8zUixvQkFBb0Isc0RBQXNEOzBEQUVqRiw0RUFBQ21SO29EQUNDTixXQUFXLENBQUMsMEVBQTBFLEVBQ3BGN1Esb0JBQW9CLGtCQUFrQixnQkFDdkMsQ0FBQzs7Ozs7Ozs7Ozs7MERBR04sOERBQUNtUjtnREFBS04sV0FBVTswREFDYjdRLG9CQUFxQkUsbUJBQW1CLE9BQU8sV0FBWTs7Ozs7Ozs7Ozs7O2tEQUdoRSw4REFBQzhRO3dDQUNDQyxTQUFTdkY7d0NBQ1R3RixVQUFVLENBQUM1Rjt3Q0FDWHVGLFdBQVU7a0RBQ1g7Ozs7OztrREFJRCw4REFBQ0c7d0NBQ0NDLFNBQVMxRjt3Q0FDVDJGLFVBQVUsQ0FBQzlGO3dDQUNYeUYsV0FBVTtrREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQU9KbFQsaUJBQWlCK0QsTUFBTSxHQUFHLG1CQUN6Qiw4REFBQ2tQO3dCQUFJQyxXQUFVOzswQ0FFYiw4REFBQ0Q7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRDt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNhO2dEQUFNYixXQUFVOzBEQUFzQzs7Ozs7OzBEQUN2RCw4REFBQ2dCO2dEQUNDQyxPQUFPbFI7Z0RBQ1BtUixVQUFVLENBQUM5RTtvREFDVCxNQUFNK0UsWUFBWXJQLFNBQVNzSyxFQUFFRyxNQUFNLENBQUMwRSxLQUFLO29EQUN6Q2pSLHVCQUF1Qm1SO29EQUN2QixrRkFBa0Y7b0RBQ2xGLE1BQU1uTCxlQUFlckYscUJBQXFCakIsT0FBTztvREFDakQsTUFBTTBSLG9CQUFvQmpNLCtCQUErQmEsY0FBY21MO29EQUN2RXZSLHdCQUF3QndSLGtCQUFrQnJNLEtBQUs7b0RBQy9DakYsc0JBQXNCc1Isa0JBQWtCcE0sR0FBRztvREFDM0MxRSxpQkFBaUIsUUFBUSx1Q0FBdUM7b0RBQ2hFRixlQUFlLEVBQUU7b0RBQ2pCRixpQkFBaUI7Z0RBQ25CO2dEQUNBOFAsV0FBVTs7a0VBRVYsOERBQUNxQjt3REFBT0osT0FBTztrRUFBSzs7Ozs7O2tFQUNwQiw4REFBQ0k7d0RBQU9KLE9BQU87a0VBQUs7Ozs7OztrRUFDcEIsOERBQUNJO3dEQUFPSixPQUFPO2tFQUFLOzs7Ozs7Ozs7Ozs7MERBRXRCLDhEQUFDWDtnREFBS04sV0FBVTswREFBd0I7Ozs7Ozs7Ozs7OztrREFFMUMsOERBQUNEO3dDQUFJQyxXQUFVO2tEQUNiLDRFQUFDTTs0Q0FBS04sV0FBVTs7Z0RBQXdCOzhEQUM5Qiw4REFBQ007b0RBQUtOLFdBQVU7OERBQTJCcEk7Ozs7OztnREFBeUI7OERBQUcsOERBQUMwSTtvREFBS04sV0FBVTs4REFBK0IxVCxPQUFPdUUsTUFBTTs7Ozs7O2dEQUFRO2dEQUNsSmxCLHlCQUF5QjJELGFBQWF6RCx1QkFBdUJ5RCwyQkFDNUQsOERBQUNnTjtvREFBS04sV0FBVTs7d0RBQ2I7d0RBQUk7d0RBQVNyUSxxQkFBcUI0USxPQUFPLENBQUM7d0RBQUc7d0RBQUsxUSxtQkFBbUIwUSxPQUFPLENBQUM7d0RBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQ0FRM0YsOERBQUNSO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ0Q7d0NBQUlDLFdBQVU7a0RBQ2IsNEVBQUNNOzRDQUFLTixXQUFVO3NEQUF3Qjs7Ozs7Ozs7Ozs7a0RBSTlDLDhEQUFDRDt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNEO2dEQUFJQyxXQUFVOztrRUFDYiw4REFBQ2E7d0RBQU1iLFdBQVU7OzREQUFvRDs0REFDM0RyUSxxQkFBcUI0USxPQUFPLENBQUM7NERBQUc7Ozs7Ozs7a0VBRzFDLDhEQUFDSjt3REFDQ0MsU0FBUzs0REFDUCxNQUFNa0IsV0FBV3hPLEtBQUt5TyxHQUFHLENBQUMxUixvQkFBb0JGLHVCQUF1Qjs0REFDckVDLHdCQUF3QjBSOzREQUN4QmhSLGlCQUFpQixPQUFPLDRCQUE0Qjs0REFDcERGLGVBQWUsRUFBRTs0REFDakJGLGlCQUFpQjt3REFDbkI7d0RBQ0FtUSxVQUFVMVEsd0JBQXdCRTt3REFDbENtUSxXQUFVO3dEQUNWYyxPQUFNO2tFQUNQOzs7Ozs7a0VBSUQsOERBQUNYO3dEQUNDQyxTQUFTOzREQUNQLE1BQU1rQixXQUFXeE8sS0FBS3lPLEdBQUcsQ0FBQzFSLG9CQUFvQkYsdUJBQXVCOzREQUNyRUMsd0JBQXdCMFI7NERBQ3hCaFIsaUJBQWlCLE9BQU8sNEJBQTRCOzREQUNwREYsZUFBZSxFQUFFOzREQUNqQkYsaUJBQWlCO3dEQUNuQjt3REFDQW1RLFVBQVUxUSx3QkFBd0JFO3dEQUNsQ21RLFdBQVU7d0RBQ1ZjLE9BQU07a0VBQ1A7Ozs7OztrRUFHRCw4REFBQ2Y7d0RBQUlDLFdBQVU7a0VBQ2IsNEVBQUN3Qjs0REFDQzlFLE1BQUs7NERBQ0wrRSxLQUFLNVI7NERBQ0wwUixLQUFLelUsZ0JBQWdCLENBQUMsRUFBRTs0REFDeEI0VSxNQUFNOzREQUNOVCxPQUFPdFI7NERBQ1B1UixVQUFVLENBQUM5RTtnRUFDVCxNQUFNa0YsV0FBV0ssV0FBV3ZGLEVBQUVHLE1BQU0sQ0FBQzBFLEtBQUs7Z0VBQzFDclIsd0JBQXdCMFI7Z0VBQ3hCaFIsaUJBQWlCLE9BQU8sNEJBQTRCO2dFQUNwREYsZUFBZSxFQUFFO2dFQUNqQkYsaUJBQWlCOzREQUNuQjs0REFDQThQLFdBQVU7Ozs7Ozs7Ozs7O2tFQUlkLDhEQUFDRzt3REFDQ0MsU0FBUzs0REFDUCxNQUFNa0IsV0FBV3hPLEtBQUsyTyxHQUFHLENBQUMzVSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU2Qyx1QkFBdUI7NERBQ3RFQyx3QkFBd0IwUjs0REFDeEJoUixpQkFBaUIsT0FBTyw0QkFBNEI7NERBQ3BERixlQUFlLEVBQUU7NERBQ2pCRixpQkFBaUI7d0RBQ25CO3dEQUNBbVEsVUFBVTFRLHdCQUF3QjdDLGdCQUFnQixDQUFDLEVBQUU7d0RBQ3JEa1QsV0FBVTt3REFDVmMsT0FBTTtrRUFDUDs7Ozs7O2tFQUlELDhEQUFDWDt3REFDQ0MsU0FBUzs0REFDUCxNQUFNa0IsV0FBV3hPLEtBQUsyTyxHQUFHLENBQUMzVSxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUU2Qyx1QkFBdUI7NERBQ3RFQyx3QkFBd0IwUjs0REFDeEJoUixpQkFBaUIsT0FBTyw0QkFBNEI7NERBQ3BERixlQUFlLEVBQUU7NERBQ2pCRixpQkFBaUI7d0RBQ25CO3dEQUNBbVEsVUFBVTFRLHdCQUF3QjdDLGdCQUFnQixDQUFDLEVBQUU7d0RBQ3JEa1QsV0FBVTt3REFDVmMsT0FBTTtrRUFDUDs7Ozs7Ozs7Ozs7OzBEQUlILDhEQUFDZjtnREFBSUMsV0FBVTs7a0VBQ2IsOERBQUNhO3dEQUFNYixXQUFVOzs0REFBb0Q7NERBQzdEblEsbUJBQW1CMFEsT0FBTyxDQUFDOzREQUFHOzs7Ozs7O2tFQUd0Qyw4REFBQ0o7d0RBQ0NDLFNBQVM7NERBQ1AsTUFBTXdCLFNBQVM5TyxLQUFLeU8sR0FBRyxDQUFDelUsZ0JBQWdCLENBQUNBLGlCQUFpQitELE1BQU0sR0FBRyxFQUFFLEVBQUVoQixxQkFBcUI7NERBQzVGQyxzQkFBc0I4Ujs0REFDdEJ0UixpQkFBaUIsT0FBTyw0QkFBNEI7NERBQ3BERixlQUFlLEVBQUU7NERBQ2pCRixpQkFBaUI7d0RBQ25CO3dEQUNBbVEsVUFBVXhRLHNCQUFzQi9DLGdCQUFnQixDQUFDQSxpQkFBaUIrRCxNQUFNLEdBQUcsRUFBRTt3REFDN0VtUCxXQUFVO3dEQUNWYyxPQUFNO2tFQUNQOzs7Ozs7a0VBSUQsOERBQUNYO3dEQUNDQyxTQUFTOzREQUNQLE1BQU13QixTQUFTOU8sS0FBS3lPLEdBQUcsQ0FBQ3pVLGdCQUFnQixDQUFDQSxpQkFBaUIrRCxNQUFNLEdBQUcsRUFBRSxFQUFFaEIscUJBQXFCOzREQUM1RkMsc0JBQXNCOFI7NERBQ3RCdFIsaUJBQWlCLE9BQU8sNEJBQTRCOzREQUNwREYsZUFBZSxFQUFFOzREQUNqQkYsaUJBQWlCO3dEQUNuQjt3REFDQW1RLFVBQVV4USxzQkFBc0IvQyxnQkFBZ0IsQ0FBQ0EsaUJBQWlCK0QsTUFBTSxHQUFHLEVBQUU7d0RBQzdFbVAsV0FBVTt3REFDVmMsT0FBTTtrRUFDUDs7Ozs7O2tFQUdELDhEQUFDZjt3REFBSUMsV0FBVTtrRUFDYiw0RUFBQ3dCOzREQUNDOUUsTUFBSzs0REFDTCtFLEtBQUszVSxnQkFBZ0IsQ0FBQ0EsaUJBQWlCK0QsTUFBTSxHQUFHLEVBQUU7NERBQ2xEMFEsS0FBSzVSOzREQUNMK1IsTUFBTTs0REFDTlQsT0FBT3BSOzREQUNQcVIsVUFBVSxDQUFDOUU7Z0VBQ1QsTUFBTXdGLFNBQVNELFdBQVd2RixFQUFFRyxNQUFNLENBQUMwRSxLQUFLO2dFQUN4Q25SLHNCQUFzQjhSO2dFQUN0QnRSLGlCQUFpQixPQUFPLDRCQUE0QjtnRUFDcERGLGVBQWUsRUFBRTtnRUFDakJGLGlCQUFpQjs0REFDbkI7NERBQ0E4UCxXQUFVOzs7Ozs7Ozs7OztrRUFJZCw4REFBQ0c7d0RBQ0NDLFNBQVM7NERBQ1AsTUFBTXdCLFNBQVM5TyxLQUFLMk8sR0FBRyxDQUFDOVIsc0JBQXNCRSxxQkFBcUI7NERBQ25FQyxzQkFBc0I4Ujs0REFDdEJ0UixpQkFBaUIsT0FBTyw0QkFBNEI7NERBQ3BERixlQUFlLEVBQUU7NERBQ2pCRixpQkFBaUI7d0RBQ25CO3dEQUNBbVEsVUFBVXhRLHNCQUFzQkY7d0RBQ2hDcVEsV0FBVTt3REFDVmMsT0FBTTtrRUFDUDs7Ozs7O2tFQUlELDhEQUFDWDt3REFDQ0MsU0FBUzs0REFDUCxNQUFNd0IsU0FBUzlPLEtBQUsyTyxHQUFHLENBQUM5UixzQkFBc0JFLHFCQUFxQjs0REFDbkVDLHNCQUFzQjhSOzREQUN0QnRSLGlCQUFpQixPQUFPLDRCQUE0Qjs0REFDcERGLGVBQWUsRUFBRTs0REFDakJGLGlCQUFpQjt3REFDbkI7d0RBQ0FtUSxVQUFVeFEsc0JBQXNCRjt3REFDaENxUSxXQUFVO3dEQUNWYyxPQUFNO2tFQUNQOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBV1QsOERBQUNmO2dCQUFJQyxXQUFVOztvQkFFWm5ULGtCQUFrQmdWLGNBQWMsa0JBQy9CLDhEQUFDOUI7d0JBQUlDLFdBQVU7a0NBQ2IsNEVBQUNEOzRCQUFJQyxXQUFVO3NDQUNiLDRFQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNEO3dDQUFJQyxXQUFVOzs7Ozs7a0RBQ2YsOERBQUNEOzswREFDQyw4REFBQ0U7Z0RBQUVELFdBQVU7MERBQXNDOzs7Ozs7MERBQ25ELDhEQUFDQztnREFBRUQsV0FBVTs7b0RBQXdCO29EQUNqQnBJO29EQUFrQjtvREFBT0Esc0JBQXNCLElBQUksTUFBTTtvREFBRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBUXpGTCxhQUFhMUcsTUFBTSxLQUFLLGtCQUN2Qiw4REFBQ2tQO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ0M7Z0NBQUVELFdBQVU7MENBQXdCOzs7Ozs7MENBQ3JDLDhEQUFDQztnQ0FBRUQsV0FBVTswQ0FBNkI7Ozs7Ozs7Ozs7O29DQUc1Q3pJLGFBQWFuRSxHQUFHLENBQUMsQ0FBQ2QsWUFBWXdQO3dCQUM5QixNQUFNblAsUUFBUXJHLE1BQU0sQ0FBQ2dHLFdBQVc7d0JBQ2hDLHFCQUNFLDhEQUFDeU47NEJBQXFCZ0MsSUFBSSxDQUFDLE1BQU0sRUFBRXpQLFdBQVcsQ0FBQztzQ0FDN0MsNEVBQUN4Ryx1REFBWUE7Z0NBQ1hPLFNBQVNBO2dDQUNUc0csT0FBT0E7Z0NBQ1BMLFlBQVlBO2dDQUNacUQsYUFBYXJKLE9BQU91RSxNQUFNO2dDQUMxQnRFLGlCQUFpQkE7Z0NBQ2pCeVYsVUFBVSxJQUFNdkUsd0JBQXdCbkw7Z0NBQ3hDMlAscUJBQXFCM1UsY0FBYyxDQUFDZ0YsV0FBVztnQ0FDL0M0UCxjQUFjLENBQUMvUSxVQUFVb0ksVUFBWWlFLGtCQUFrQmxMLFlBQVluQixVQUFVb0k7Z0NBQzdFakwsa0JBQWtCQTtnQ0FDbEJHLHNCQUFzQkE7Z0NBQ3RCRSxxQkFBcUJBO2dDQUNyQkUsc0JBQXNCQTtnQ0FDdEJFLHFCQUFxQkE7Ozs7OzsyQkFkZnVEOzs7OztvQkFrQlo7Ozs7Ozs7Ozs7Ozs7QUFLVjtBQUVBbEcseUJBQXlCK1YsV0FBVyxHQUFHO0FBRXZDLHdDQUF3QztBQUNqQyxNQUFNQyxvQ0FBc0J4VyxpREFBVUEsQ0FBc0QsQ0FBQ3lXLE9BQU96VjtJQUN6RyxxQkFDRSw4REFBQ1gsMkVBQWtCQTtRQUFDSSxTQUFTZ1csTUFBTWhXLE9BQU87a0JBQ3hDLDRFQUFDRDtZQUEwQixHQUFHaVcsS0FBSztZQUFFelYsS0FBS0E7Ozs7Ozs7Ozs7O0FBR2hELEdBQUc7QUFFSHdWLG9CQUFvQkQsV0FBVyxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWNxLWRlZHVwbGljYXRpb24tZnJvbnRlbmQvLi9jb21wb25lbnRzL1NpbWlsYXJpdHlHcm91cFZpZXcudHN4P2YzMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VJbXBlcmF0aXZlSGFuZGxlLCBmb3J3YXJkUmVmLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHcm91cERpc3BsYXkgfSBmcm9tICcuL0dyb3VwRGlzcGxheSc7XG5pbXBvcnQgeyBhcGkgfSBmcm9tICcuLi9saWIvYXBpJztcbmltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tICcuLi9saWIvc3RvcmFnZSc7XG5pbXBvcnQgeyBGaWxlU3RhdHVzUHJvdmlkZXIsIHVzZUZpbGVTdGF0dXMgfSBmcm9tICcuLi9jb250ZXh0cy9GaWxlU3RhdHVzQ29udGV4dCc7XG5cbmludGVyZmFjZSBHcm91cCB7XG4gIGZpbGVzOiBzdHJpbmdbXTtcbiAgbWF4X3NpbWlsYXJpdHk6IG51bWJlcjtcbiAgc2ltaWxhcml0aWVzOiBBcnJheTx7XG4gICAgZmlsZTE6IHN0cmluZztcbiAgICBmaWxlMjogc3RyaW5nO1xuICAgIHNjb3JlOiBudW1iZXI7XG4gIH0+O1xufVxuXG5pbnRlcmZhY2UgU2ltaWxhcml0eUdyb3VwVmlld1Byb3BzIHtcbiAgc3ViamVjdDogc3RyaW5nO1xuICBncm91cHM6IEdyb3VwW107XG4gIGNvbXBsZXRlZEdyb3VwczogbnVtYmVyW107XG4gIG9uR3JvdXBzU3VibWl0dGVkOiAoKSA9PiB2b2lkO1xuICBpbml0aWFsTGV2ZWxJbmRleD86IG51bWJlcjtcbiAgb25MZXZlbEluZGV4Q2hhbmdlPzogKGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uTGV2ZWxzTG9hZGVkPzogKHRvdGFsTGV2ZWxzOiBudW1iZXIpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2ltaWxhcml0eUdyb3VwVmlld0hhbmRsZSB7XG4gIGp1bXBUb01pbjogKCkgPT4gdm9pZDtcbiAganVtcFRvTWF4OiAoKSA9PiB2b2lkO1xufVxuXG4vLyBBdXRvLXNjcm9sbCBzcGVlZCBpbiBwaXhlbHMgcGVyIHNlY29uZCAobW9kaWZ5IHRoaXMgdmFsdWUgdG8gY2hhbmdlIHNjcm9sbCBzcGVlZClcbmNvbnN0IEFVVE9fU0NST0xMX1NQRUVEID0gMzAwO1xuXG4vLyBJbm5lciBjb21wb25lbnQgdGhhdCB1c2VzIENvbnRleHRcbmNvbnN0IFNpbWlsYXJpdHlHcm91cFZpZXdJbm5lciA9IGZvcndhcmRSZWY8U2ltaWxhcml0eUdyb3VwVmlld0hhbmRsZSwgU2ltaWxhcml0eUdyb3VwVmlld1Byb3BzPigoe1xuICBzdWJqZWN0LFxuICBncm91cHMsXG4gIGNvbXBsZXRlZEdyb3VwcyxcbiAgb25Hcm91cHNTdWJtaXR0ZWQsXG4gIGluaXRpYWxMZXZlbEluZGV4ID0gMCxcbiAgb25MZXZlbEluZGV4Q2hhbmdlLFxuICBvbkxldmVsc0xvYWRlZFxufSwgcmVmKSA9PiB7XG4gIGNvbnN0IGZpbGVTdGF0dXNDb250ZXh0ID0gdXNlRmlsZVN0YXR1cygpO1xuICBjb25zdCBbc2ltaWxhcml0eUxldmVscywgc2V0U2ltaWxhcml0eUxldmVsc10gPSB1c2VTdGF0ZTxudW1iZXJbXT4oW10pO1xuICBjb25zdCBbY3VycmVudExldmVsSW5kZXgsIHNldEN1cnJlbnRMZXZlbEluZGV4XSA9IHVzZVN0YXRlKGluaXRpYWxMZXZlbEluZGV4KTtcbiAgY29uc3QgW2N1cnJlbnRHcm91cEluTGV2ZWwsIHNldEN1cnJlbnRHcm91cEluTGV2ZWxdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtncm91cHNCeVNpbWlsYXJpdHksIHNldEdyb3Vwc0J5U2ltaWxhcml0eV0gPSB1c2VTdGF0ZTx7IFtrZXk6IG51bWJlcl06IG51bWJlcltdIH0+KHt9KTtcbiAgY29uc3QgW2F1dG9TZWxlY3Rpb25zLCBzZXRBdXRvU2VsZWN0aW9uc10gPSB1c2VTdGF0ZTx7IFtncm91cEluZGV4OiBudW1iZXJdOiB7IFtmaWxlbmFtZTogc3RyaW5nXTogYm9vbGVhbiB9IH0+KHt9KTtcbiAgY29uc3QgW3N1Ym1pdHRpbmcsIHNldFN1Ym1pdHRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZ05leHRQYWdlLCBzZXRMb2FkaW5nTmV4dFBhZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaW5pdGlhbGl6aW5nLCBzZXRJbml0aWFsaXppbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzaG93U3VjY2Vzc01vZGFsLCBzZXRTaG93U3VjY2Vzc01vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dDb25maXJtTW9kYWwsIHNldFNob3dDb25maXJtTW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc3VjY2Vzc1N0YXRzLCBzZXRTdWNjZXNzU3RhdHNdID0gdXNlU3RhdGU8eyBcbiAgICBtb3ZlZFRvUmVtb3ZlZDogbnVtYmVyOyBcbiAgICBhZGRlZFRvU2F2ZWQ6IG51bWJlcjtcbiAgICBhZGRlZFRvUmVtb3ZlZDogbnVtYmVyO1xuICAgIHNhdmVkQ291bnQ6IG51bWJlcjtcbiAgICByZW1vdmVkQ291bnQ6IG51bWJlcjtcbiAgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbmV4dFBhZ2VJbmZvLCBzZXROZXh0UGFnZUluZm9dID0gdXNlU3RhdGU8e1xuICAgIG5leHRSYW5nZTogeyBzdGFydDogbnVtYmVyOyBlbmQ6IG51bWJlciB9IHwgbnVsbDtcbiAgICBoYXNOZXh0UGFnZTogYm9vbGVhbjtcbiAgICBsb2FkaW5nOiBib29sZWFuO1xuICB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjb25mbGljdGluZ0ZpbGVzLCBzZXRDb25mbGljdGluZ0ZpbGVzXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuICBjb25zdCBbZmlsZUFwcGVhcmFuY2VDb3VudHMsIHNldEZpbGVBcHBlYXJhbmNlQ291bnRzXSA9IHVzZVN0YXRlPHsgW2ZpbGVuYW1lOiBzdHJpbmddOiB7IHRvdGFsOiBudW1iZXI7IGNoZWNrZWQ6IG51bWJlciB9IH0+KHt9KTtcbiAgY29uc3QgW2ZpbGVBcHBlYXJhbmNlT3JkZXIsIHNldEZpbGVBcHBlYXJhbmNlT3JkZXJdID0gdXNlU3RhdGU8eyBbZmlsZW5hbWU6IHN0cmluZ106IHsgW2dyb3VwSW5kZXg6IG51bWJlcl06IG51bWJlciB9IH0+KHt9KTtcbiAgLy8gTmV3OiB0b3RhbCBhcHBlYXJhbmNlcyAobWFpbiArIEtFUFQpIHBlciBmaWxlbmFtZSBvbiBjdXJyZW50IHBhZ2VcbiAgY29uc3QgW2ZpbGVBcHBlYXJhbmNlVG90YWxzLCBzZXRGaWxlQXBwZWFyYW5jZVRvdGFsc10gPSB1c2VTdGF0ZTx7IFtmaWxlbmFtZTogc3RyaW5nXTogbnVtYmVyIH0+KHt9KTtcbiAgLy8gTmV3OiBhcHBlYXJhbmNlIGluZGV4IGZvciBLRVBUIGNhcmRzIChyZW1vdmVkRmlsZW5hbWUgLT4ga2VwdEZpbGVuYW1lIC0+IGluZGV4KVxuICBjb25zdCBba2VwdEFwcGVhcmFuY2VPcmRlciwgc2V0S2VwdEFwcGVhcmFuY2VPcmRlcl0gPSB1c2VTdGF0ZTx7IFtyZW1vdmVkRmlsZW5hbWU6IHN0cmluZ106IHsgW2tlcHRGaWxlbmFtZTogc3RyaW5nXTogbnVtYmVyIH0gfT4oe30pO1xuICBjb25zdCBbY2hlY2tBbGxNb2RlLCBzZXRDaGVja0FsbE1vZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpOyAvLyBUb2dnbGUgZm9yIGNoZWNrIGFsbCBtb2RlXG4gIFxuICAvLyBBdXRvLXNjcm9sbCBzdGF0ZVxuICBjb25zdCBbYXV0b1Njcm9sbEVuYWJsZWQsIHNldEF1dG9TY3JvbGxFbmFibGVkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTsgLy8gQnV0dG9uIE9OL09GRiBzdGF0ZVxuICBjb25zdCBbYXV0b1Njcm9sbEFjdGl2ZSwgc2V0QXV0b1Njcm9sbEFjdGl2ZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7IC8vIEN1cnJlbnRseSBzY3JvbGxpbmdcbiAgY29uc3QgYXV0b1Njcm9sbEFuaW1hdGlvblJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgbGFzdFNjcm9sbFRpbWVSZWYgPSB1c2VSZWY8bnVtYmVyPigwKTtcbiAgY29uc3QgYXV0b1Njcm9sbEFjdGl2ZVJlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7IC8vIEFkZCByZWYgdG8gdHJhY2sgYWN0aXZlIHN0YXRlXG5cbiAgLy8gS2VlcCByZWYgaW4gc3luYyB3aXRoIHN0YXRlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgYXV0b1Njcm9sbEFjdGl2ZVJlZi5jdXJyZW50ID0gYXV0b1Njcm9sbEFjdGl2ZTtcbiAgfSwgW2F1dG9TY3JvbGxBY3RpdmVdKTtcbiAgXG4gIC8vIFJhbmdlLWJhc2VkIHBhZ2luYXRpb24gc3RhdGVcbiAgY29uc3QgW3NpbWlsYXJpdHlSYW5nZVN0YXJ0LCBzZXRTaW1pbGFyaXR5UmFuZ2VTdGFydF0gPSB1c2VTdGF0ZTxudW1iZXI+KDEwMC4wKTtcbiAgY29uc3QgW3NpbWlsYXJpdHlSYW5nZUVuZCwgc2V0U2ltaWxhcml0eVJhbmdlRW5kXSA9IHVzZVN0YXRlPG51bWJlcj4oOTkuOSk7XG4gIGNvbnN0IFt0YXJnZXRHcm91cHNQZXJQYWdlLCBzZXRUYXJnZXRHcm91cHNQZXJQYWdlXSA9IHVzZVN0YXRlPG51bWJlcj4oMTAwKTsgLy8gRGVmYXVsdCAxMDAgKHRhcmdldCwgbm90IHN0cmljdClcbiAgY29uc3QgW3BhZ2VDb21wbGV0ZWQsIHNldFBhZ2VDb21wbGV0ZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbcGFnZUhpc3RvcnksIHNldFBhZ2VIaXN0b3J5XSA9IHVzZVN0YXRlPEFycmF5PHsgc3RhcnQ6IG51bWJlcjsgZW5kOiBudW1iZXIgfT4+KFtdKTtcbiAgY29uc3QgW2lzTWFudWFsUmFuZ2UsIHNldElzTWFudWFsUmFuZ2VdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpOyAvLyBUcmFjayBpZiByYW5nZSB3YXMgbWFudWFsbHkgYWRqdXN0ZWRcbiAgY29uc3QgcmFuZ2VJbml0aWFsaXplZCA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XG4gIC8vIEd1YXJkIHJlZnMgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wc1xuICBjb25zdCBsb2FkaW5nU3RhdHVzZXNSZWYgPSB1c2VSZWY8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBsb2FkaW5nTUNRRGF0YVJlZiA9IHVzZVJlZjxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IGxhc3RMb2FkZWRSYW5nZVJlZiA9IHVzZVJlZjx7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcbiAgY29uc3QgY3VycmVudFJhbmdlU3RhcnRSZWYgPSB1c2VSZWY8bnVtYmVyPigxMDAuMCk7IC8vIFRyYWNrIGN1cnJlbnQgcmFuZ2Ugc3RhcnQgZm9yIHRhcmdldEdyb3Vwc1BlclBhZ2UgY2hhbmdlc1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaW5pdGlhbGl6ZUdyb3VwcygpO1xuICB9LCBbZ3JvdXBzXSk7XG5cbiAgLy8gUmVzdG9yZSBzYXZlZCBsZXZlbCBpbmRleCBhZnRlciBzaW1pbGFyaXR5IGxldmVscyBhcmUgc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNpbWlsYXJpdHlMZXZlbHMubGVuZ3RoID4gMCAmJiBpbml0aWFsTGV2ZWxJbmRleCA+IDAgJiYgaW5pdGlhbExldmVsSW5kZXggPCBzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCkge1xuICAgICAgc2V0Q3VycmVudExldmVsSW5kZXgoaW5pdGlhbExldmVsSW5kZXgpO1xuICAgIH1cbiAgfSwgW3NpbWlsYXJpdHlMZXZlbHMsIGluaXRpYWxMZXZlbEluZGV4XSk7XG5cbiAgLy8gT1BUSU1JWkVEOiBGcm9udGVuZCBhdXRvLXNlbGVjdCB3aXRoIHllYXIgcHJpb3JpdHkgKHVzaW5nIENvbnRleHQpXG4gIGNvbnN0IGF1dG9TZWxlY3RCZXN0TUNRID0gdXNlQ2FsbGJhY2soKGZpbGVzOiBzdHJpbmdbXSwgbWV0YWRhdGE6IHsgW2ZpbGVuYW1lOiBzdHJpbmddOiB7IGhhc1llYXI6IGJvb2xlYW47IGZpbGVOdW06IG51bWJlciB9IH0sIHVzZUNoZWNrQWxsTW9kZTogYm9vbGVhbiA9IGZhbHNlKTogeyBbZmlsZW5hbWU6IHN0cmluZ106IGJvb2xlYW4gfSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0aW9uczogeyBbZmlsZW5hbWU6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xuICAgIFxuICAgIGlmIChmaWxlcy5sZW5ndGggPT09IDApIHJldHVybiBzZWxlY3Rpb25zO1xuICAgIFxuICAgIC8vIENoZWNrIEFsbCBNb2RlOiBDaGVjayBldmVyeXRoaW5nIGV4Y2VwdCByZW1vdmVkIGZpbGVzXG4gICAgaWYgKHVzZUNoZWNrQWxsTW9kZSkge1xuICAgICAgZm9yIChjb25zdCBmaWxlbmFtZSBvZiBmaWxlcykge1xuICAgICAgICBjb25zdCBmaWxlU3RhdHVzID0gZmlsZVN0YXR1c0NvbnRleHQuZ2V0RmlsZVN0YXR1cyhmaWxlbmFtZSk7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGZpbGVTdGF0dXM/LnN0YXR1cyB8fCAndW5rbm93bic7XG4gICAgICAgIC8vIENoZWNrIGFsbCBmaWxlcyBFWENFUFQgcmVtb3ZlZCBvbmVzXG4gICAgICAgIHNlbGVjdGlvbnNbZmlsZW5hbWVdID0gc3RhdHVzICE9PSAncmVtb3ZlZCc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0aW9ucztcbiAgICB9XG4gICAgXG4gICAgLy8gTm9ybWFsIE1vZGU6IEFwcGx5IHByZWZlcmVuY2UtYmFzZWQgc2VsZWN0aW9uIHJ1bGVzXG4gICAgLy8gU2VwYXJhdGUgZmlsZXMgYnkgc3RhdHVzXG4gICAgY29uc3Qgc2F2ZWRGaWxlczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCByZW1vdmVkRmlsZXM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgdW5rbm93bkZpbGVzOiBBcnJheTx7ZmlsZW5hbWU6IHN0cmluZywgaGFzWWVhcjogYm9vbGVhbiwgZmlsZU51bTogbnVtYmVyfT4gPSBbXTtcbiAgICBcbiAgICBmb3IgKGNvbnN0IGZpbGVuYW1lIG9mIGZpbGVzKSB7XG4gICAgICBjb25zdCBmaWxlU3RhdHVzID0gZmlsZVN0YXR1c0NvbnRleHQuZ2V0RmlsZVN0YXR1cyhmaWxlbmFtZSk7XG4gICAgICBjb25zdCBzdGF0dXMgPSBmaWxlU3RhdHVzPy5zdGF0dXMgfHwgJ3Vua25vd24nO1xuICAgICAgY29uc3QgY2FjaGVkID0gbWV0YWRhdGFbZmlsZW5hbWVdO1xuICAgICAgXG4gICAgICBpZiAoc3RhdHVzID09PSAnc2F2ZWQnKSB7XG4gICAgICAgIC8vIFJ1bGUgMTogQWxyZWFkeSBzYXZlZCDihpIgbXVzdCBiZSBzZWxlY3RlZFxuICAgICAgICBzYXZlZEZpbGVzLnB1c2goZmlsZW5hbWUpO1xuICAgICAgICBzZWxlY3Rpb25zW2ZpbGVuYW1lXSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ3JlbW92ZWQnKSB7XG4gICAgICAgIC8vIFJ1bGUgMjogQWxyZWFkeSByZW1vdmVkIOKGkiBtdXN0IGJlIHVuc2VsZWN0ZWRcbiAgICAgICAgcmVtb3ZlZEZpbGVzLnB1c2goZmlsZW5hbWUpO1xuICAgICAgICBzZWxlY3Rpb25zW2ZpbGVuYW1lXSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUnVsZSAzOiBVbmtub3duIOKGkiB3aWxsIGFwcGx5IHByaW9yaXR5IGxhdGVyXG4gICAgICAgIGxldCBoYXNZZWFyID0gZmFsc2U7XG4gICAgICAgIGxldCBmaWxlTnVtID0gOTk5OTk5O1xuICAgICAgICBcbiAgICAgICAgaWYgKGNhY2hlZCkge1xuICAgICAgICAgIGhhc1llYXIgPSBjYWNoZWQuaGFzWWVhcjtcbiAgICAgICAgICBmaWxlTnVtID0gY2FjaGVkLmZpbGVOdW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRmFsbGJhY2s6IGV4dHJhY3QgZnJvbSBmaWxlbmFtZVxuICAgICAgICAgIGZpbGVOdW0gPSBwYXJzZUludChmaWxlbmFtZS5yZXBsYWNlKC9cXEQvZywgJycpKSB8fCA5OTk5OTk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHVua25vd25GaWxlcy5wdXNoKHsgZmlsZW5hbWUsIGhhc1llYXIsIGZpbGVOdW0gfSk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgYXMgdW5jaGVja2VkLCB3aWxsIHNlbGVjdCBoaWdoZXN0IHByaW9yaXR5IG9uZVxuICAgICAgICBzZWxlY3Rpb25zW2ZpbGVuYW1lXSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBSdWxlIDM6IEZvciB1bmtub3duIGZpbGVzLCBzZWxlY3Qgb25seSB0aGUgaGlnaGVzdCBwcmlvcml0eSBvbmVcbiAgICBpZiAodW5rbm93bkZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIFNvcnQgdW5rbm93biBmaWxlcyBieSBwcmlvcml0eTogaGFzWWVhciBmaXJzdCwgdGhlbiBzbWFsbGVzdCBmaWxlTnVtXG4gICAgICB1bmtub3duRmlsZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAvLyBQcmlvcml0eSAxOiBoYXNZZWFyXG4gICAgICAgIGlmIChhLmhhc1llYXIgIT09IGIuaGFzWWVhcikge1xuICAgICAgICAgIHJldHVybiBhLmhhc1llYXIgPyAtMSA6IDE7IC8vIGhhc1llYXIgPSB0cnVlIGNvbWVzIGZpcnN0XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJpb3JpdHkgMjogc21hbGxlc3QgZmlsZU51bVxuICAgICAgICByZXR1cm4gYS5maWxlTnVtIC0gYi5maWxlTnVtO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNlbGVjdCBvbmx5IHRoZSBoaWdoZXN0IHByaW9yaXR5IHVua25vd24gZmlsZVxuICAgICAgc2VsZWN0aW9uc1t1bmtub3duRmlsZXNbMF0uZmlsZW5hbWVdID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHNlbGVjdGlvbnM7XG4gIH0sIFtzdWJqZWN0LCBmaWxlU3RhdHVzQ29udGV4dF0pO1xuXG4gIC8vIFJlY2FsY3VsYXRlIHNlbGVjdGlvbnMgd2hlbiBjaGVja0FsbE1vZGUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaW5pdGlhbGl6aW5nICYmIGdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBzZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICAgIGNvbnN0IG1ldGFkYXRhID0gc2Vzc2lvbj8ubWNxTWV0YWRhdGEgfHwge307XG4gICAgICBcbiAgICAgIGNvbnN0IHNlbGVjdGlvbnM6IHsgW2dyb3VwSW5kZXg6IG51bWJlcl06IHsgW2ZpbGVuYW1lOiBzdHJpbmddOiBib29sZWFuIH0gfSA9IHt9O1xuICAgICAgXG4gICAgICBmb3IgKGxldCBncm91cEluZGV4ID0gMDsgZ3JvdXBJbmRleCA8IGdyb3Vwcy5sZW5ndGg7IGdyb3VwSW5kZXgrKykge1xuICAgICAgICBjb25zdCBncm91cEZpbGVzID0gZ3JvdXBzW2dyb3VwSW5kZXhdLmZpbGVzO1xuICAgICAgICBjb25zdCBncm91cFNlbGVjdGlvbnMgPSBhdXRvU2VsZWN0QmVzdE1DUShncm91cEZpbGVzLCBtZXRhZGF0YSwgY2hlY2tBbGxNb2RlKTtcbiAgICAgICAgc2VsZWN0aW9uc1tncm91cEluZGV4XSA9IGdyb3VwU2VsZWN0aW9ucztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0QXV0b1NlbGVjdGlvbnMoc2VsZWN0aW9ucyk7XG4gICAgfVxuICB9LCBbY2hlY2tBbGxNb2RlLCBncm91cHMsIHN1YmplY3QsIGF1dG9TZWxlY3RCZXN0TUNRLCBpbml0aWFsaXppbmddKTtcblxuICBjb25zdCBpbml0aWFsaXplR3JvdXBzID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldEluaXRpYWxpemluZyh0cnVlKTtcbiAgICBcbiAgICAvLyBHcm91cCBieSBzaW1pbGFyaXR5IGxldmVscyAocm91bmRlZCB0byAwLjElKVxuICAgIGNvbnN0IGdyb3VwZWQ6IHsgW2tleTogbnVtYmVyXTogbnVtYmVyW10gfSA9IHt9O1xuICAgIFxuICAgIGdyb3Vwcy5mb3JFYWNoKChncm91cCwgaW5kZXgpID0+IHtcbiAgICAgIC8vIFJvdW5kIHRvIG5lYXJlc3QgMC4xJSAoZS5nLiwgOTkuODclIC0+IDk5LjklKVxuICAgICAgY29uc3Qgcm91bmRlZFNpbWlsYXJpdHkgPSBNYXRoLnJvdW5kKGdyb3VwLm1heF9zaW1pbGFyaXR5ICogMTAwMCkgLyAxMDtcbiAgICAgIFxuICAgICAgaWYgKCFncm91cGVkW3JvdW5kZWRTaW1pbGFyaXR5XSkge1xuICAgICAgICBncm91cGVkW3JvdW5kZWRTaW1pbGFyaXR5XSA9IFtdO1xuICAgICAgfVxuICAgICAgZ3JvdXBlZFtyb3VuZGVkU2ltaWxhcml0eV0ucHVzaChpbmRleCk7XG4gICAgfSk7XG5cbiAgICBzZXRHcm91cHNCeVNpbWlsYXJpdHkoZ3JvdXBlZCk7XG5cbiAgICAvLyBHZXQgc29ydGVkIHNpbWlsYXJpdHkgbGV2ZWxzIChoaWdoZXN0IGZpcnN0KVxuICAgIGNvbnN0IGxldmVscyA9IE9iamVjdC5rZXlzKGdyb3VwZWQpLm1hcChOdW1iZXIpLnNvcnQoKGEsIGIpID0+IGIgLSBhKTtcbiAgICBzZXRTaW1pbGFyaXR5TGV2ZWxzKGxldmVscyk7XG4gICAgXG4gICAgLy8gTm90aWZ5IHBhcmVudCBhYm91dCBsZXZlbHMgbG9hZGVkXG4gICAgaWYgKG9uTGV2ZWxzTG9hZGVkKSB7XG4gICAgICBvbkxldmVsc0xvYWRlZChsZXZlbHMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvLyBGaWxlIHN0YXR1c2VzIGFyZSBub3cgbG9hZGVkIHZpYSBDb250ZXh0IChubyBuZWVkIHRvIHNldCBsb2NhbCBzdGF0ZSlcbiAgICBcbiAgICAvLyBMb2FkIHNhdmVkIHNpbWlsYXJpdHkgcmFuZ2UgYW5kIHRhcmdldEdyb3Vwc1BlclBhZ2UgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICBjb25zdCBzZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICBpZiAoc2Vzc2lvbj8uc2ltaWxhcml0eVJhbmdlU3RhcnQgIT09IHVuZGVmaW5lZCAmJiBzZXNzaW9uPy5zaW1pbGFyaXR5UmFuZ2VFbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0U2ltaWxhcml0eVJhbmdlU3RhcnQoc2Vzc2lvbi5zaW1pbGFyaXR5UmFuZ2VTdGFydCk7XG4gICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VFbmQoc2Vzc2lvbi5zaW1pbGFyaXR5UmFuZ2VFbmQpO1xuICAgIH1cbiAgICBpZiAoc2Vzc2lvbj8udGFyZ2V0R3JvdXBzUGVyUGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXRUYXJnZXRHcm91cHNQZXJQYWdlKHNlc3Npb24udGFyZ2V0R3JvdXBzUGVyUGFnZSk7XG4gICAgfSBlbHNlIGlmIChzZXNzaW9uPy5tYXhHcm91cHNQZXJQYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHk6IG1pZ3JhdGUgZnJvbSBtYXhHcm91cHNQZXJQYWdlXG4gICAgICBzZXRUYXJnZXRHcm91cHNQZXJQYWdlKHNlc3Npb24ubWF4R3JvdXBzUGVyUGFnZSk7XG4gICAgfVxuICAgIFxuICAgIC8vIE9QVElNSVpFRDogTG9hZCBtZXRhZGF0YSBmb3IgQUxMIGdyb3VwcyBiZWZvcmUgYXV0by1zZWxlY3Rpb25cbiAgICAvLyBDb2xsZWN0IGFsbCB1bmlxdWUgZmlsZW5hbWVzIGZyb20gYWxsIGdyb3Vwc1xuICAgIGNvbnN0IGFsbEZpbGVuYW1lcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgIGdyb3VwLmZpbGVzLmZvckVhY2goZiA9PiBhbGxGaWxlbmFtZXMuYWRkKGYpKTtcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBmaWxlbmFtZXMgPSBBcnJheS5mcm9tKGFsbEZpbGVuYW1lcyk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgbWV0YWRhdGEgZXhpc3RzIGluIGxvY2FsU3RvcmFnZVxuICAgIGNvbnN0IGNhY2hlZE1ldGFkYXRhID0gc2Vzc2lvbj8ubWNxTWV0YWRhdGEgfHwge307XG4gICAgbGV0IGZpbmFsTWV0YWRhdGEgPSB7IC4uLmNhY2hlZE1ldGFkYXRhIH07IC8vIFN0YXJ0IHdpdGggY2FjaGVkIG1ldGFkYXRhXG4gICAgXG4gICAgLy8gQ2hlY2sgd2hpY2ggZmlsZXMgbmVlZCBtZXRhZGF0YSBsb2FkaW5nXG4gICAgY29uc3QgbWlzc2luZ0ZpbGVzID0gZmlsZW5hbWVzLmZpbHRlcihmID0+ICFjYWNoZWRNZXRhZGF0YVtmXSk7XG4gICAgXG4gICAgLy8gTG9hZCBtZXRhZGF0YSBpZiBtaXNzaW5nIChiYXRjaCBBUEkgY2FsbCBmb3IgYWxsIGZpbGVzKVxuICAgIC8vIEFsc28gcmVsb2FkIEFMTCBtZXRhZGF0YSB0byBlbnN1cmUgaXQncyB1cC10by1kYXRlIChmaWxlcyBtaWdodCBoYXZlIGJlZW4gdXBkYXRlZClcbiAgICBpZiAoZmlsZW5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIExvYWQgbWV0YWRhdGEgZm9yIEFMTCBmaWxlcyB0byBlbnN1cmUgZnJlc2huZXNzIChub3QganVzdCBtaXNzaW5nIG9uZXMpXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmJhdGNoRmlsZVN0YXR1c2VzKHN1YmplY3QsIGZpbGVuYW1lcyk7XG4gICAgICAgIGNvbnN0IG1jcU1ldGFkYXRhOiB7IFtmaWxlbmFtZTogc3RyaW5nXTogeyBoYXNZZWFyOiBib29sZWFuOyBmaWxlTnVtOiBudW1iZXIgfSB9ID0ge307XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IFtmaWxlbmFtZSwgZGF0YV0gb2YgT2JqZWN0LmVudHJpZXMocmVzcG9uc2Uuc3RhdHVzZXMpKSB7XG4gICAgICAgICAgY29uc3QgZmlsZURhdGEgPSBkYXRhIGFzIGFueTtcbiAgICAgICAgICBjb25zdCBmaWxlTnVtID0gcGFyc2VJbnQoZmlsZW5hbWUucmVwbGFjZSgvXFxEL2csICcnKSkgfHwgOTk5OTk5O1xuICAgICAgICAgIG1jcU1ldGFkYXRhW2ZpbGVuYW1lXSA9IHtcbiAgICAgICAgICAgIGhhc1llYXI6IGZpbGVEYXRhLmhhc195ZWFyIHx8IGZhbHNlLFxuICAgICAgICAgICAgZmlsZU51bTogZmlsZU51bVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFVzZSBmcmVzaGx5IGxvYWRlZCBtZXRhZGF0YSAob3ZlcndyaXRlIGNhY2hlZCB0byBlbnN1cmUgYWNjdXJhY3kpXG4gICAgICAgIGZpbmFsTWV0YWRhdGEgPSBtY3FNZXRhZGF0YTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNhdmUgbWV0YWRhdGEgdG8gbG9jYWxTdG9yYWdlXG4gICAgICAgIHN0b3JhZ2UudXBkYXRlTUNRTWV0YWRhdGEoc3ViamVjdCwgbWNxTWV0YWRhdGEpO1xuICAgICAgICBcbiAgICAgICAgLy8gRGVidWc6IExvZyBtZXRhZGF0YSBmb3IgdmVyaWZpY2F0aW9uXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2FkZWQgTUNRIG1ldGFkYXRhIGZvciBhbGwgZmlsZXM6JywgbWNxTWV0YWRhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZygnRmlsZXMgd2l0aCB5ZWFyIGtleXM6JywgT2JqZWN0LmVudHJpZXMobWNxTWV0YWRhdGEpXG4gICAgICAgICAgLmZpbHRlcigoW2YsIG1dKSA9PiBtLmhhc1llYXIpXG4gICAgICAgICAgLm1hcCgoW2ZdKSA9PiBmKSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBNQ1EgbWV0YWRhdGE6JywgZXJyb3IpO1xuICAgICAgICAvLyBGYWxsYmFjayB0byBjYWNoZWQgbWV0YWRhdGEgaWYgQVBJIGZhaWxzXG4gICAgICAgIGZpbmFsTWV0YWRhdGEgPSBjYWNoZWRNZXRhZGF0YTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gTkVXIFJVTEVTOiBBdXRvLXNlbGVjdCBBRlRFUiBtZXRhZGF0YSBpcyBmdWxseSBsb2FkZWRcbiAgICAvLyBSdWxlIDE6IFNhdmVkIGZpbGVzIOKGkiBjaGVja2VkIHwgUnVsZSAyOiBSZW1vdmVkIGZpbGVzIOKGkiB1bmNoZWNrZWRcbiAgICAvLyBSdWxlIDM6IFVua25vd24gZmlsZXMg4oaSIHNlbGVjdCBoaWdoZXN0IHByaW9yaXR5IChoYXNZZWFyID4gc21hbGxlc3QgZmlsZU51bSlcbiAgICAvLyBVc2UgdGhlIGZpbmFsTWV0YWRhdGEgZGlyZWN0bHkgaW5zdGVhZCBvZiByZWFkaW5nIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgY29uc3Qgc2VsZWN0aW9uczogeyBbZ3JvdXBJbmRleDogbnVtYmVyXTogeyBbZmlsZW5hbWU6IHN0cmluZ106IGJvb2xlYW4gfSB9ID0ge307XG4gICAgXG4gICAgZm9yIChsZXQgZ3JvdXBJbmRleCA9IDA7IGdyb3VwSW5kZXggPCBncm91cHMubGVuZ3RoOyBncm91cEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGdyb3VwRmlsZXMgPSBncm91cHNbZ3JvdXBJbmRleF0uZmlsZXM7XG4gICAgICBcbiAgICAgIC8vIFBhc3MgbWV0YWRhdGEgYW5kIGNoZWNrQWxsTW9kZSB0byBhdXRvU2VsZWN0QmVzdE1DUSAodXNlcyBDb250ZXh0IGludGVybmFsbHkpXG4gICAgICBjb25zdCBncm91cFNlbGVjdGlvbnMgPSBhdXRvU2VsZWN0QmVzdE1DUShncm91cEZpbGVzLCBmaW5hbE1ldGFkYXRhLCBjaGVja0FsbE1vZGUpO1xuICAgICAgc2VsZWN0aW9uc1tncm91cEluZGV4XSA9IGdyb3VwU2VsZWN0aW9ucztcbiAgICB9XG4gICAgXG4gICAgc2V0QXV0b1NlbGVjdGlvbnMoc2VsZWN0aW9ucyk7XG4gICAgXG4gICAgc2V0SW5pdGlhbGl6aW5nKGZhbHNlKTtcbiAgfTtcblxuICAvLyBDYWxjdWxhdGUgZ3JvdXBzIHdpdGhpbiBzaW1pbGFyaXR5IHJhbmdlIChpbmNsdXNpdmUgYm91bmRhcmllcykgLSBsaW1pdGVkIGJ5IG1heEdyb3Vwc1BlclBhZ2VcbiAgY29uc3QgY2FsY3VsYXRlR3JvdXBzSW5SYW5nZSA9IHVzZUNhbGxiYWNrKChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlciwgbGltaXQ/OiBudW1iZXIpOiBudW1iZXJbXSA9PiB7XG4gICAgY29uc3QgZ3JvdXBJbmRpY2VzOiBudW1iZXJbXSA9IFtdO1xuICAgIFxuICAgIC8vIFVzZSBmb3IgbG9vcCBpbnN0ZWFkIG9mIGZvckVhY2ggc28gd2UgY2FuIGJyZWFrIHdoZW4gbGltaXQgaXMgcmVhY2hlZFxuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBncm91cHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tpbmRleF07XG4gICAgICBjb25zdCByb3VuZGVkU2ltaWxhcml0eSA9IE1hdGgucm91bmQoZ3JvdXAubWF4X3NpbWlsYXJpdHkgKiAxMDAwKSAvIDEwO1xuICAgICAgLy8gSW5jbHVzaXZlIGJvdW5kYXJpZXM6IHN0YXJ0ID49IHNpbWlsYXJpdHkgPj0gZW5kXG4gICAgICBpZiAocm91bmRlZFNpbWlsYXJpdHkgPD0gc3RhcnQgJiYgcm91bmRlZFNpbWlsYXJpdHkgPj0gZW5kKSB7XG4gICAgICAgIGdyb3VwSW5kaWNlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgLy8gU3RvcCBpZiB3ZSd2ZSByZWFjaGVkIHRoZSBsaW1pdFxuICAgICAgICBpZiAobGltaXQgJiYgZ3JvdXBJbmRpY2VzLmxlbmd0aCA+PSBsaW1pdCkge1xuICAgICAgICAgIGJyZWFrOyAvLyBBY3R1YWxseSBicmVhayB0aGUgbG9vcCwgbm90IGp1c3QgcmV0dXJuIGZyb20gY2FsbGJhY2tcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZ3JvdXBJbmRpY2VzO1xuICB9LCBbZ3JvdXBzXSk7XG5cbiAgLy8gQ2FsY3VsYXRlIHJhbmdlIHN0YXJ0aW5nIGZyb20gYSBzcGVjaWZpYyBzdGFydCBwb2ludCwgZXhwYW5kaW5nIHVudGlsIGFwcHJveGltYXRlbHkgdGFyZ2V0R3JvdXBzUGVyUGFnZSBncm91cHNcbiAgY29uc3QgY2FsY3VsYXRlUmFuZ2VGcm9tVGFyZ2V0R3JvdXBzID0gdXNlQ2FsbGJhY2soKHN0YXJ0UG9pbnQ6IG51bWJlciwgdGFyZ2V0R3JvdXBzOiBudW1iZXIpOiB7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyIH0gPT4ge1xuICAgIGlmIChzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgc3RhcnQ6IDEwMC4wLCBlbmQ6IDk5LjkgfTtcbiAgICB9XG4gICAgXG4gICAgLy8gRmluZCB0aGUgaW5kZXggb2YgdGhlIGxldmVsIHRoYXQgbWF0Y2hlcyBvciBpcyBjbG9zZXN0IHRvIHN0YXJ0UG9pbnQgKGZyb20gYWJvdmUpXG4gICAgbGV0IHN0YXJ0SW5kZXggPSAtMTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpbWlsYXJpdHlMZXZlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzaW1pbGFyaXR5TGV2ZWxzW2ldIDw9IHN0YXJ0UG9pbnQpIHtcbiAgICAgICAgc3RhcnRJbmRleCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBJZiBubyBsZXZlbCBmb3VuZCAoc3RhcnRQb2ludCBpcyBiZWxvdyBhbGwgbGV2ZWxzKSwgdXNlIHRoZSBsYXN0IGxldmVsXG4gICAgaWYgKHN0YXJ0SW5kZXggPT09IC0xKSB7XG4gICAgICBjb25zdCBsYXN0TGV2ZWwgPSBzaW1pbGFyaXR5TGV2ZWxzW3NpbWlsYXJpdHlMZXZlbHMubGVuZ3RoIC0gMV07XG4gICAgICByZXR1cm4geyBzdGFydDogbGFzdExldmVsLCBlbmQ6IGxhc3RMZXZlbCB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByYW5nZVN0YXJ0ID0gc2ltaWxhcml0eUxldmVsc1tzdGFydEluZGV4XTtcbiAgICBsZXQgcmFuZ2VFbmQgPSByYW5nZVN0YXJ0O1xuICAgIGxldCB0b3RhbEdyb3VwcyA9IDA7XG4gICAgXG4gICAgLy8gRXhwYW5kIHJhbmdlIGJ5IGFkZGluZyBjb25zZWN1dGl2ZSBsZXZlbHMgdW50aWwgd2UgcmVhY2ggYXBwcm94aW1hdGVseSB0YXJnZXRHcm91cHMgZ3JvdXBzXG4gICAgLy8gVGhpcyBpcyBub3Qgc3RyaWN0IC0gd2UnbGwgc3RvcCB3aGVuIHdlJ3JlIGNsb3NlIHRvIHRoZSB0YXJnZXRcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IHNpbWlsYXJpdHlMZXZlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGxldmVsID0gc2ltaWxhcml0eUxldmVsc1tpXTtcbiAgICAgIGNvbnN0IGdyb3Vwc0luTGV2ZWwgPSBncm91cHNCeVNpbWlsYXJpdHlbbGV2ZWxdIHx8IFtdO1xuICAgICAgdG90YWxHcm91cHMgKz0gZ3JvdXBzSW5MZXZlbC5sZW5ndGg7XG4gICAgICByYW5nZUVuZCA9IGxldmVsO1xuICAgICAgXG4gICAgICAvLyBTdG9wIHdoZW4gd2UndmUgcmVhY2hlZCBhcHByb3hpbWF0ZWx5IHRoZSB0YXJnZXQgKHdpdGhpbiAyMCUgb3IgYXQgbGVhc3QgdGFyZ2V0R3JvdXBzKVxuICAgICAgaWYgKHRvdGFsR3JvdXBzID49IHRhcmdldEdyb3VwcyAqIDAuOCAmJiB0b3RhbEdyb3VwcyA+PSB0YXJnZXRHcm91cHMpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFsc28gc3RvcCBpZiB3ZSd2ZSBzaWduaWZpY2FudGx5IGV4Y2VlZGVkIHRoZSB0YXJnZXQgKG1vcmUgdGhhbiA1MCUgb3ZlcilcbiAgICAgIGlmICh0b3RhbEdyb3VwcyA+IHRhcmdldEdyb3VwcyAqIDEuNSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSWYgd2UgaGF2ZW4ndCByZWFjaGVkIGEgcmVhc29uYWJsZSBudW1iZXIgb2YgZ3JvdXBzLCBpbmNsdWRlIGFsbCByZW1haW5pbmcgbGV2ZWxzIChsYXN0IHBhZ2UpXG4gICAgaWYgKHRvdGFsR3JvdXBzIDwgdGFyZ2V0R3JvdXBzICogMC41KSB7XG4gICAgICByYW5nZUVuZCA9IHNpbWlsYXJpdHlMZXZlbHNbc2ltaWxhcml0eUxldmVscy5sZW5ndGggLSAxXTtcbiAgICAgIC8vIFJlY2FsY3VsYXRlIHRvdGFsIGdyb3VwcyBmb3IgdGhlIGZ1bGwgcmFuZ2VcbiAgICAgIHRvdGFsR3JvdXBzID0gY2FsY3VsYXRlR3JvdXBzSW5SYW5nZShyYW5nZVN0YXJ0LCByYW5nZUVuZCkubGVuZ3RoO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4geyBzdGFydDogcmFuZ2VTdGFydCwgZW5kOiByYW5nZUVuZCB9O1xuICB9LCBbc2ltaWxhcml0eUxldmVscywgZ3JvdXBzQnlTaW1pbGFyaXR5LCBjYWxjdWxhdGVHcm91cHNJblJhbmdlXSk7XG5cbiAgLy8gQ2FsY3VsYXRlIG5leHQgcmFuZ2UgYXV0b21hdGljYWxseSAoZXhwYW5kcyB1bnRpbCA+PSAxMDAgZ3JvdXBzKVxuICBjb25zdCBjYWxjdWxhdGVOZXh0UmFuZ2UgPSB1c2VDYWxsYmFjaygoY3VycmVudEVuZDogbnVtYmVyLCBjdXJyZW50U3RhcnQ/OiBudW1iZXIpOiB7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyIH0gPT4ge1xuICAgIGlmIChzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgc3RhcnQ6IDEwMC4wLCBlbmQ6IDk5LjkgfTtcbiAgICB9XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5lIGlmIHdlJ3ZlIHNob3duIGFsbCBncm91cHMgYXQgY3VycmVudEVuZCBsZXZlbFxuICAgIC8vIElmIGN1cnJlbnRTdGFydCBlcXVhbHMgY3VycmVudEVuZCwgd2UndmUgc2hvd24gYWxsIGdyb3VwcyBhdCB0aGF0IGxldmVsXG4gICAgLy8gT3RoZXJ3aXNlLCB3ZSBtaWdodCBoYXZlIG1vcmUgZ3JvdXBzIGF0IGN1cnJlbnRFbmQgbGV2ZWxcbiAgICBjb25zdCBhbGxHcm91cHNTaG93bkF0RW5kID0gY3VycmVudFN0YXJ0ICE9PSB1bmRlZmluZWQgJiYgTWF0aC5hYnMoY3VycmVudFN0YXJ0IC0gY3VycmVudEVuZCkgPCAwLjAxO1xuICAgIFxuICAgIGxldCBuZXh0U3RhcnRJbmRleCA9IC0xO1xuICAgIGlmIChhbGxHcm91cHNTaG93bkF0RW5kKSB7XG4gICAgICAvLyBXZSd2ZSBzaG93biBhbGwgZ3JvdXBzIGF0IGN1cnJlbnRFbmQgbGV2ZWwsIHNvIHN0YXJ0IGZyb20gbmV4dCBsZXZlbCBiZWxvd1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzaW1pbGFyaXR5TGV2ZWxzW2ldIDwgY3VycmVudEVuZCkge1xuICAgICAgICAgIG5leHRTdGFydEluZGV4ID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSBtaWdodCBoYXZlIG1vcmUgZ3JvdXBzIGF0IGN1cnJlbnRFbmQgbGV2ZWwsIHNvIHN0YXJ0IGZyb20gY3VycmVudEVuZCB0byBlbnN1cmUgY29udGludWl0eVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChzaW1pbGFyaXR5TGV2ZWxzW2ldIDw9IGN1cnJlbnRFbmQpIHtcbiAgICAgICAgICBuZXh0U3RhcnRJbmRleCA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSWYgbm8gbGV2ZWwgZm91bmQsIHdlJ3JlIGF0IHRoZSBlbmRcbiAgICBpZiAobmV4dFN0YXJ0SW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4geyBzdGFydDogc2ltaWxhcml0eUxldmVsc1tzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCAtIDFdLCBlbmQ6IHNpbWlsYXJpdHlMZXZlbHNbc2ltaWxhcml0eUxldmVscy5sZW5ndGggLSAxXSB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBuZXh0U3RhcnQgPSBzaW1pbGFyaXR5TGV2ZWxzW25leHRTdGFydEluZGV4XTtcbiAgICBsZXQgbmV4dEVuZCA9IG5leHRTdGFydDtcbiAgICBsZXQgdG90YWxHcm91cHMgPSAwO1xuICAgIFxuICAgICAgLy8gRXhwYW5kIHJhbmdlIGJ5IGFkZGluZyBjb25zZWN1dGl2ZSBsZXZlbHMgdW50aWwgYXBwcm94aW1hdGVseSB0YXJnZXRHcm91cHNQZXJQYWdlIGdyb3Vwc1xuICAgICAgZm9yIChsZXQgaSA9IG5leHRTdGFydEluZGV4OyBpIDwgc2ltaWxhcml0eUxldmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBsZXZlbCA9IHNpbWlsYXJpdHlMZXZlbHNbaV07XG4gICAgICAgIGNvbnN0IGdyb3Vwc0luTGV2ZWwgPSBncm91cHNCeVNpbWlsYXJpdHlbbGV2ZWxdIHx8IFtdO1xuICAgICAgICB0b3RhbEdyb3VwcyArPSBncm91cHNJbkxldmVsLmxlbmd0aDtcbiAgICAgICAgbmV4dEVuZCA9IGxldmVsO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RvcCB3aGVuIHdlJ3ZlIHJlYWNoZWQgYXBwcm94aW1hdGVseSB0aGUgdGFyZ2V0ICh3aXRoaW4gMjAlIG9yIGF0IGxlYXN0IHRhcmdldEdyb3VwcylcbiAgICAgICAgaWYgKHRvdGFsR3JvdXBzID49IHRhcmdldEdyb3Vwc1BlclBhZ2UgKiAwLjggJiYgdG90YWxHcm91cHMgPj0gdGFyZ2V0R3JvdXBzUGVyUGFnZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBbHNvIHN0b3AgaWYgd2UndmUgc2lnbmlmaWNhbnRseSBleGNlZWRlZCB0aGUgdGFyZ2V0IChtb3JlIHRoYW4gNTAlIG92ZXIpXG4gICAgICAgIGlmICh0b3RhbEdyb3VwcyA+IHRhcmdldEdyb3Vwc1BlclBhZ2UgKiAxLjUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIFxuICAgIC8vIElmIHdlIGhhdmVuJ3QgcmVhY2hlZCBhIHJlYXNvbmFibGUgbnVtYmVyIG9mIGdyb3VwcywgaW5jbHVkZSBhbGwgcmVtYWluaW5nIGxldmVscyAobGFzdCBwYWdlKVxuICAgIGlmICh0b3RhbEdyb3VwcyA8IHRhcmdldEdyb3Vwc1BlclBhZ2UgKiAwLjUpIHtcbiAgICAgIG5leHRFbmQgPSBzaW1pbGFyaXR5TGV2ZWxzW3NpbWlsYXJpdHlMZXZlbHMubGVuZ3RoIC0gMV07XG4gICAgICAvLyBSZWNhbGN1bGF0ZSB0b3RhbCBncm91cHMgZm9yIHRoZSBmdWxsIHJhbmdlXG4gICAgICB0b3RhbEdyb3VwcyA9IGNhbGN1bGF0ZUdyb3Vwc0luUmFuZ2UobmV4dFN0YXJ0LCBuZXh0RW5kKS5sZW5ndGg7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN0YXJ0OiBuZXh0U3RhcnQsIGVuZDogbmV4dEVuZCB9O1xuICB9LCBbc2ltaWxhcml0eUxldmVscywgZ3JvdXBzQnlTaW1pbGFyaXR5LCB0YXJnZXRHcm91cHNQZXJQYWdlLCBjYWxjdWxhdGVHcm91cHNJblJhbmdlXSk7XG5cbiAgLy8gR2V0IGdyb3VwcyBmb3IgY3VycmVudCBwYWdlICh3aXRoaW4gY3VycmVudCByYW5nZSlcbiAgLy8gSWYgcmFuZ2Ugd2FzIG1hbnVhbGx5IGFkanVzdGVkLCBzaG93IEFMTCBncm91cHMgaW4gcmFuZ2UgKG5vIGxpbWl0KVxuICAvLyBJZiByYW5nZSB3YXMgYXV0by1jYWxjdWxhdGVkLCBsaW1pdCB0byBhcHByb3hpbWF0ZWx5IHRhcmdldEdyb3Vwc1BlclBhZ2VcbiAgY29uc3QgZ2V0R3JvdXBzRm9yQ3VycmVudFBhZ2UgPSB1c2VDYWxsYmFjaygoKTogbnVtYmVyW10gPT4ge1xuICAgIC8vIElmIHJhbmdlIHdhcyBtYW51YWxseSBhZGp1c3RlZCwgc2hvdyBhbGwgZ3JvdXBzIChubyBsaW1pdClcbiAgICAvLyBPdGhlcndpc2UsIGFwcGx5IHRhcmdldEdyb3Vwc1BlclBhZ2UgbGltaXQgZm9yIGF1dG8tY2FsY3VsYXRlZCByYW5nZXNcbiAgICBjb25zdCBsaW1pdCA9IGlzTWFudWFsUmFuZ2UgPyB1bmRlZmluZWQgOiB0YXJnZXRHcm91cHNQZXJQYWdlO1xuICAgIHJldHVybiBjYWxjdWxhdGVHcm91cHNJblJhbmdlKHNpbWlsYXJpdHlSYW5nZVN0YXJ0LCBzaW1pbGFyaXR5UmFuZ2VFbmQsIGxpbWl0KTtcbiAgfSwgW3NpbWlsYXJpdHlSYW5nZVN0YXJ0LCBzaW1pbGFyaXR5UmFuZ2VFbmQsIHRhcmdldEdyb3Vwc1BlclBhZ2UsIGlzTWFudWFsUmFuZ2UsIGNhbGN1bGF0ZUdyb3Vwc0luUmFuZ2VdKTtcblxuICAvLyBSZW9yZGVyIGdyb3VwcyB0byBrZWVwIGZpbGUgYXBwZWFyYW5jZXMgdG9nZXRoZXJcbiAgLy8gV2hlbiBhIGZpbGUgYXBwZWFycyBpbiBtdWx0aXBsZSBncm91cHMsIHRob3NlIGdyb3VwcyBzaG91bGQgYmUgY29uc2VjdXRpdmVcbiAgY29uc3QgcmVvcmRlckdyb3Vwc0J5RmlsZUFwcGVhcmFuY2VzID0gdXNlQ2FsbGJhY2soKGdyb3VwSW5kaWNlczogbnVtYmVyW10pOiBudW1iZXJbXSA9PiB7XG4gICAgaWYgKGdyb3VwSW5kaWNlcy5sZW5ndGggPT09IDApIHJldHVybiBncm91cEluZGljZXM7XG4gICAgXG4gICAgLy8gQnVpbGQgYSBtYXA6IGZpbGVuYW1lIC0+IGxpc3Qgb2YgZ3JvdXAgaW5kaWNlcyBjb250YWluaW5nIGl0IChpbiBvcmlnaW5hbCBvcmRlcilcbiAgICBjb25zdCBmaWxlVG9Hcm91cHM6IHsgW2ZpbGVuYW1lOiBzdHJpbmddOiBudW1iZXJbXSB9ID0ge307XG4gICAgXG4gICAgZm9yIChjb25zdCBncm91cEluZGV4IG9mIGdyb3VwSW5kaWNlcykge1xuICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHNbZ3JvdXBJbmRleF07XG4gICAgICBpZiAoIWdyb3VwKSBjb250aW51ZTtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBmaWxlbmFtZSBvZiBncm91cC5maWxlcykge1xuICAgICAgICBpZiAoIWZpbGVUb0dyb3Vwc1tmaWxlbmFtZV0pIHtcbiAgICAgICAgICBmaWxlVG9Hcm91cHNbZmlsZW5hbWVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmaWxlVG9Hcm91cHNbZmlsZW5hbWVdLmluY2x1ZGVzKGdyb3VwSW5kZXgpKSB7XG4gICAgICAgICAgZmlsZVRvR3JvdXBzW2ZpbGVuYW1lXS5wdXNoKGdyb3VwSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEZpbmQgZmlsZXMgdGhhdCBhcHBlYXIgaW4gbXVsdGlwbGUgZ3JvdXBzXG4gICAgY29uc3QgbXVsdGlBcHBlYXJhbmNlRmlsZXMgPSBPYmplY3Qua2V5cyhmaWxlVG9Hcm91cHMpLmZpbHRlcihcbiAgICAgIGZpbGVuYW1lID0+IGZpbGVUb0dyb3Vwc1tmaWxlbmFtZV0ubGVuZ3RoID4gMVxuICAgICk7XG4gICAgXG4gICAgLy8gSWYgbm8gZmlsZXMgYXBwZWFyIG11bHRpcGxlIHRpbWVzLCByZXR1cm4gb3JpZ2luYWwgb3JkZXJcbiAgICBpZiAobXVsdGlBcHBlYXJhbmNlRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZ3JvdXBJbmRpY2VzO1xuICAgIH1cbiAgICBcbiAgICAvLyBDcmVhdGUgYSBzZXQgdG8gdHJhY2sgd2hpY2ggZ3JvdXBzIGhhdmUgYmVlbiBwbGFjZWRcbiAgICBjb25zdCBwbGFjZWRHcm91cHMgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICBjb25zdCByZW9yZGVyZWQ6IG51bWJlcltdID0gW107XG4gICAgXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGFkZCBhIGdyb3VwIGFuZCBtYXJrIGl0IGFzIHBsYWNlZFxuICAgIGNvbnN0IGFkZEdyb3VwID0gKGdyb3VwSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKCFwbGFjZWRHcm91cHMuaGFzKGdyb3VwSW5kZXgpKSB7XG4gICAgICAgIHJlb3JkZXJlZC5wdXNoKGdyb3VwSW5kZXgpO1xuICAgICAgICBwbGFjZWRHcm91cHMuYWRkKGdyb3VwSW5kZXgpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gUHJvY2VzcyBncm91cHMgaW4gb3JpZ2luYWwgb3JkZXJcbiAgICBmb3IgKGNvbnN0IGdyb3VwSW5kZXggb2YgZ3JvdXBJbmRpY2VzKSB7XG4gICAgICAvLyBJZiBhbHJlYWR5IHBsYWNlZCwgc2tpcFxuICAgICAgaWYgKHBsYWNlZEdyb3Vwcy5oYXMoZ3JvdXBJbmRleCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzW2dyb3VwSW5kZXhdO1xuICAgICAgaWYgKCFncm91cCkge1xuICAgICAgICBhZGRHcm91cChncm91cEluZGV4KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgZ3JvdXAgY29udGFpbnMgYW55IGZpbGUgdGhhdCBhcHBlYXJzIG11bHRpcGxlIHRpbWVzXG4gICAgICBjb25zdCBtdWx0aUFwcGVhcmFuY2VGaWxlc0luR3JvdXAgPSBncm91cC5maWxlcy5maWx0ZXIoXG4gICAgICAgIGZpbGVuYW1lID0+IGZpbGVUb0dyb3Vwc1tmaWxlbmFtZV0gJiYgZmlsZVRvR3JvdXBzW2ZpbGVuYW1lXS5sZW5ndGggPiAxXG4gICAgICApO1xuICAgICAgXG4gICAgICBpZiAobXVsdGlBcHBlYXJhbmNlRmlsZXNJbkdyb3VwLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gQWRkIHRoaXMgZ3JvdXAgZmlyc3QgKGl0J3MgdGhlIGZpcnN0IGFwcGVhcmFuY2Ugb2YgdGhlc2UgZmlsZXMpXG4gICAgICAgIGFkZEdyb3VwKGdyb3VwSW5kZXgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ29sbGVjdCBhbGwgcmVsYXRlZCBncm91cHMgKGdyb3VwcyBjb250YWluaW5nIGFueSBvZiB0aGVzZSBtdWx0aS1hcHBlYXJhbmNlIGZpbGVzKVxuICAgICAgICBjb25zdCByZWxhdGVkR3JvdXBzU2V0ID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IGZpbGVuYW1lIG9mIG11bHRpQXBwZWFyYW5jZUZpbGVzSW5Hcm91cCkge1xuICAgICAgICAgIC8vIEdldCBhbGwgb3RoZXIgZ3JvdXBzIGNvbnRhaW5pbmcgdGhpcyBmaWxlIChleGNsdWRpbmcgY3VycmVudCBncm91cClcbiAgICAgICAgICBmb3IgKGNvbnN0IHJlbGF0ZWRHcm91cEluZGV4IG9mIGZpbGVUb0dyb3Vwc1tmaWxlbmFtZV0pIHtcbiAgICAgICAgICAgIGlmIChyZWxhdGVkR3JvdXBJbmRleCAhPT0gZ3JvdXBJbmRleCAmJiAhcGxhY2VkR3JvdXBzLmhhcyhyZWxhdGVkR3JvdXBJbmRleCkpIHtcbiAgICAgICAgICAgICAgcmVsYXRlZEdyb3Vwc1NldC5hZGQocmVsYXRlZEdyb3VwSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ29udmVydCB0byBhcnJheSBhbmQgc29ydCBieSBvcmlnaW5hbCBwb3NpdGlvbiB0byBtYWludGFpbiBzaW1pbGFyaXR5IG9yZGVyaW5nXG4gICAgICAgIGNvbnN0IHJlbGF0ZWRHcm91cHMgPSBBcnJheS5mcm9tKHJlbGF0ZWRHcm91cHNTZXQpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICBjb25zdCBwb3NBID0gZ3JvdXBJbmRpY2VzLmluZGV4T2YoYSk7XG4gICAgICAgICAgY29uc3QgcG9zQiA9IGdyb3VwSW5kaWNlcy5pbmRleE9mKGIpO1xuICAgICAgICAgIHJldHVybiBwb3NBIC0gcG9zQjtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgcmVsYXRlZCBncm91cHMgaW1tZWRpYXRlbHkgYWZ0ZXIgY3VycmVudCBncm91cFxuICAgICAgICAvLyBUaGlzIGVuc3VyZXMgYWxsIGFwcGVhcmFuY2VzIG9mIGZpbGVzIGluIHRoaXMgZ3JvdXAgY29tZSB0b2dldGhlclxuICAgICAgICBmb3IgKGNvbnN0IHJlbGF0ZWRHcm91cEluZGV4IG9mIHJlbGF0ZWRHcm91cHMpIHtcbiAgICAgICAgICBhZGRHcm91cChyZWxhdGVkR3JvdXBJbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIG11bHRpLWFwcGVhcmFuY2UgZmlsZXMsIGFkZCBub3JtYWxseVxuICAgICAgICBhZGRHcm91cChncm91cEluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIGFueSByZW1haW5pbmcgZ3JvdXBzIHRoYXQgd2VyZW4ndCBwbGFjZWQgKHNhZmV0eSBjaGVjaylcbiAgICBmb3IgKGNvbnN0IGdyb3VwSW5kZXggb2YgZ3JvdXBJbmRpY2VzKSB7XG4gICAgICBpZiAoIXBsYWNlZEdyb3Vwcy5oYXMoZ3JvdXBJbmRleCkpIHtcbiAgICAgICAgcmVvcmRlcmVkLnB1c2goZ3JvdXBJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZW9yZGVyZWQ7XG4gIH0sIFtncm91cHNdKTtcblxuICAvLyBHZXQgcmVvcmRlcmVkIGdyb3VwcyBmb3IgY3VycmVudCBwYWdlICh3aXRoIGZpbGUgYXBwZWFyYW5jZXMgZ3JvdXBlZCB0b2dldGhlcilcbiAgY29uc3QgZ2V0UmVvcmRlcmVkR3JvdXBzRm9yUGFnZSA9IHVzZUNhbGxiYWNrKCgpOiBudW1iZXJbXSA9PiB7XG4gICAgY29uc3QgZ3JvdXBzSW5QYWdlID0gZ2V0R3JvdXBzRm9yQ3VycmVudFBhZ2UoKTtcbiAgICByZXR1cm4gcmVvcmRlckdyb3Vwc0J5RmlsZUFwcGVhcmFuY2VzKGdyb3Vwc0luUGFnZSk7XG4gIH0sIFtnZXRHcm91cHNGb3JDdXJyZW50UGFnZSwgcmVvcmRlckdyb3Vwc0J5RmlsZUFwcGVhcmFuY2VzXSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBmaXJzdCBwYWdlIHJhbmdlIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNpbWlsYXJpdHlMZXZlbHMubGVuZ3RoID4gMCAmJiBncm91cHNCeVNpbWlsYXJpdHkgJiYgT2JqZWN0LmtleXMoZ3JvdXBzQnlTaW1pbGFyaXR5KS5sZW5ndGggPiAwICYmICFyYW5nZUluaXRpYWxpemVkLmN1cnJlbnQpIHtcbiAgICAgIC8vIENoZWNrIGlmIHdlIGhhdmUgc2F2ZWQgcmFuZ2UgdmFsdWVzIGluIGxvY2FsU3RvcmFnZVxuICAgICAgY29uc3Qgc2Vzc2lvbiA9IHN0b3JhZ2UubG9hZFNlc3Npb24oc3ViamVjdCk7XG4gICAgICBpZiAoc2Vzc2lvbj8uc2ltaWxhcml0eVJhbmdlU3RhcnQgIT09IHVuZGVmaW5lZCAmJiBzZXNzaW9uPy5zaW1pbGFyaXR5UmFuZ2VFbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBVc2Ugc2F2ZWQgcmFuZ2UgdmFsdWVzXG4gICAgICAgIHNldFNpbWlsYXJpdHlSYW5nZVN0YXJ0KHNlc3Npb24uc2ltaWxhcml0eVJhbmdlU3RhcnQpO1xuICAgICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VFbmQoc2Vzc2lvbi5zaW1pbGFyaXR5UmFuZ2VFbmQpO1xuICAgICAgICByYW5nZUluaXRpYWxpemVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIERlZmF1bHQgZmlyc3QgcGFnZTogQ2FsY3VsYXRlIHJhbmdlIGJhc2VkIG9uIHRhcmdldEdyb3Vwc1BlclBhZ2UgKGFwcHJveGltYXRlKVxuICAgICAgY29uc3QgbWF4TGV2ZWwgPSBzaW1pbGFyaXR5TGV2ZWxzWzBdOyAvLyBIaWdoZXN0IHNpbWlsYXJpdHlcbiAgICAgIGNvbnN0IGNhbGN1bGF0ZWRSYW5nZSA9IGNhbGN1bGF0ZVJhbmdlRnJvbVRhcmdldEdyb3VwcyhtYXhMZXZlbCwgdGFyZ2V0R3JvdXBzUGVyUGFnZSk7XG4gICAgICBcbiAgICAgIHNldFNpbWlsYXJpdHlSYW5nZVN0YXJ0KGNhbGN1bGF0ZWRSYW5nZS5zdGFydCk7XG4gICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VFbmQoY2FsY3VsYXRlZFJhbmdlLmVuZCk7XG4gICAgICBzZXRJc01hbnVhbFJhbmdlKGZhbHNlKTsgLy8gTWFyayBhcyBhdXRvLWNhbGN1bGF0ZWQgKG5vdCBtYW51YWwpXG4gICAgICByYW5nZUluaXRpYWxpemVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgfSwgW3NpbWlsYXJpdHlMZXZlbHMsIGdyb3Vwc0J5U2ltaWxhcml0eSwgY2FsY3VsYXRlUmFuZ2VGcm9tVGFyZ2V0R3JvdXBzLCBzdWJqZWN0LCB0YXJnZXRHcm91cHNQZXJQYWdlXSk7XG5cbiAgLy8gVXBkYXRlIHJlZiB3aGVuZXZlciBzaW1pbGFyaXR5UmFuZ2VTdGFydCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY3VycmVudFJhbmdlU3RhcnRSZWYuY3VycmVudCA9IHNpbWlsYXJpdHlSYW5nZVN0YXJ0O1xuICB9LCBbc2ltaWxhcml0eVJhbmdlU3RhcnRdKTtcblxuXG4gIGNvbnN0IGN1cnJlbnRMZXZlbCA9IHNpbWlsYXJpdHlMZXZlbHNbY3VycmVudExldmVsSW5kZXhdO1xuICBjb25zdCBncm91cHNJbkN1cnJlbnRQYWdlID0gZ2V0R3JvdXBzRm9yQ3VycmVudFBhZ2UoKTtcbiAgY29uc3QgdG90YWxHcm91cHNJblBhZ2UgPSBncm91cHNJbkN1cnJlbnRQYWdlLmxlbmd0aDtcblxuICAvLyBVc2UgQ29udGV4dCB0byBsb2FkIGZpbGUgc3RhdHVzZXMgZm9yIGN1cnJlbnQgcmFuZ2VcbiAgLy8gSWYgcmFuZ2Ugd2FzIG1hbnVhbGx5IGFkanVzdGVkLCBsb2FkIGFsbCBncm91cHM7IG90aGVyd2lzZSBsaW1pdCB0byB0YXJnZXRHcm91cHNQZXJQYWdlXG4gIGNvbnN0IGxvYWRGaWxlU3RhdHVzZXNGb3JSYW5nZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgPT4ge1xuICAgIC8vIEd1YXJkOiBQcmV2ZW50IGR1cGxpY2F0ZSBjYWxscyBmb3Igc2FtZSByYW5nZVxuICAgIGlmIChsYXN0TG9hZGVkUmFuZ2VSZWYuY3VycmVudD8uc3RhcnQgPT09IHN0YXJ0ICYmIGxhc3RMb2FkZWRSYW5nZVJlZi5jdXJyZW50Py5lbmQgPT09IGVuZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBHdWFyZDogUHJldmVudCBjb25jdXJyZW50IGNhbGxzXG4gICAgaWYgKGxvYWRpbmdTdGF0dXNlc1JlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGxvYWRpbmdTdGF0dXNlc1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gSWYgcmFuZ2Ugd2FzIG1hbnVhbGx5IGFkanVzdGVkLCBsb2FkIGFsbCBncm91cHM7IG90aGVyd2lzZSBsaW1pdCB0byB0YXJnZXRHcm91cHNQZXJQYWdlXG4gICAgICBjb25zdCBsaW1pdCA9IGlzTWFudWFsUmFuZ2UgPyB1bmRlZmluZWQgOiB0YXJnZXRHcm91cHNQZXJQYWdlO1xuICAgICAgY29uc3QgZ3JvdXBzSW5SYW5nZSA9IGNhbGN1bGF0ZUdyb3Vwc0luUmFuZ2Uoc3RhcnQsIGVuZCwgbGltaXQpO1xuICAgICAgY29uc3QgYWxsRmlsZW5hbWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICBcbiAgICAgIC8vIENvbGxlY3QgYWxsIHVuaXF1ZSBmaWxlbmFtZXMgaW4gdGhpcyByYW5nZVxuICAgICAgZm9yIChjb25zdCBncm91cEluZGV4IG9mIGdyb3Vwc0luUmFuZ2UpIHtcbiAgICAgICAgZ3JvdXBzW2dyb3VwSW5kZXhdLmZpbGVzLmZvckVhY2goZiA9PiBhbGxGaWxlbmFtZXMuYWRkKGYpKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZmlsZW5hbWVzID0gQXJyYXkuZnJvbShhbGxGaWxlbmFtZXMpO1xuICAgICAgaWYgKGZpbGVuYW1lcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgbG9hZGluZ1N0YXR1c2VzUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVc2UgQ29udGV4dCBtZXRob2QgLSBkb24ndCBpbmNsdWRlIGZpbGVTdGF0dXNDb250ZXh0IGluIGRlcHMgdG8gYXZvaWQgaW5maW5pdGUgbG9vcFxuICAgICAgYXdhaXQgZmlsZVN0YXR1c0NvbnRleHQubG9hZEZpbGVTdGF0dXNlcyhzdWJqZWN0LCBmaWxlbmFtZXMpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgbGFzdCBsb2FkZWQgcmFuZ2VcbiAgICAgIGxhc3RMb2FkZWRSYW5nZVJlZi5jdXJyZW50ID0geyBzdGFydCwgZW5kIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGxvYWRpbmdTdGF0dXNlc1JlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuICB9LCBbZ3JvdXBzLCBzdWJqZWN0LCBjYWxjdWxhdGVHcm91cHNJblJhbmdlLCB0YXJnZXRHcm91cHNQZXJQYWdlLCBpc01hbnVhbFJhbmdlXSk7IC8vIFJlbW92ZWQgZmlsZVN0YXR1c0NvbnRleHQgZnJvbSBkZXBzXG5cbiAgLy8gVXNlIENvbnRleHQgdG8gbG9hZCBNQ1EgZGF0YSBmb3IgY3VycmVudCByYW5nZVxuICAvLyBJZiByYW5nZSB3YXMgbWFudWFsbHkgYWRqdXN0ZWQsIGxvYWQgYWxsIGdyb3Vwczsgb3RoZXJ3aXNlIGxpbWl0IHRvIHRhcmdldEdyb3Vwc1BlclBhZ2VcbiAgY29uc3QgbG9hZE1DUURhdGFGb3JSYW5nZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgPT4ge1xuICAgIC8vIEd1YXJkOiBQcmV2ZW50IGNvbmN1cnJlbnQgY2FsbHNcbiAgICBpZiAobG9hZGluZ01DUURhdGFSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBsb2FkaW5nTUNRRGF0YVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gSWYgcmFuZ2Ugd2FzIG1hbnVhbGx5IGFkanVzdGVkLCBsb2FkIGFsbCBncm91cHM7IG90aGVyd2lzZSBsaW1pdCB0byB0YXJnZXRHcm91cHNQZXJQYWdlXG4gICAgICBjb25zdCBsaW1pdCA9IGlzTWFudWFsUmFuZ2UgPyB1bmRlZmluZWQgOiB0YXJnZXRHcm91cHNQZXJQYWdlO1xuICAgICAgY29uc3QgZ3JvdXBzSW5SYW5nZSA9IGNhbGN1bGF0ZUdyb3Vwc0luUmFuZ2Uoc3RhcnQsIGVuZCwgbGltaXQpO1xuICAgICAgY29uc3QgYWxsRmlsZW5hbWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICBcbiAgICAgIC8vIENvbGxlY3QgYWxsIHVuaXF1ZSBmaWxlbmFtZXMgaW4gdGhpcyByYW5nZVxuICAgICAgZm9yIChjb25zdCBncm91cEluZGV4IG9mIGdyb3Vwc0luUmFuZ2UpIHtcbiAgICAgICAgaWYgKGdyb3Vwc1tncm91cEluZGV4XT8uZmlsZXMpIHtcbiAgICAgICAgICBncm91cHNbZ3JvdXBJbmRleF0uZmlsZXMuZm9yRWFjaChmID0+IGFsbEZpbGVuYW1lcy5hZGQoZikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGZpbGVuYW1lcyA9IEFycmF5LmZyb20oYWxsRmlsZW5hbWVzKTtcbiAgICAgIGlmIChmaWxlbmFtZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgTm8gZmlsZW5hbWVzIHRvIGxvYWQgTUNRIGRhdGEgZm9yIHJhbmdlICR7c3RhcnR9JSAtICR7ZW5kfSVgKTtcbiAgICAgICAgbG9hZGluZ01DUURhdGFSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVzZSBDb250ZXh0IG1ldGhvZCAtIGRvbid0IGluY2x1ZGUgZmlsZVN0YXR1c0NvbnRleHQgaW4gZGVwcyB0byBhdm9pZCBpbmZpbml0ZSBsb29wXG4gICAgICBhd2FpdCBmaWxlU3RhdHVzQ29udGV4dC5sb2FkTUNRRGF0YShzdWJqZWN0LCBmaWxlbmFtZXMpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBsb2FkaW5nTUNRRGF0YVJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuICB9LCBbZ3JvdXBzLCBzdWJqZWN0LCBjYWxjdWxhdGVHcm91cHNJblJhbmdlLCB0YXJnZXRHcm91cHNQZXJQYWdlLCBpc01hbnVhbFJhbmdlXSk7IC8vIFJlbW92ZWQgZmlsZVN0YXR1c0NvbnRleHQgZnJvbSBkZXBzXG5cbiAgLy8gTG9hZCBzdGF0dXNlcyB3aGVuIHJhbmdlIGNoYW5nZXMgKGFsd2F5cyBmZXRjaCBmcm9tIGJhY2tlbmQgLSBzaW5nbGUgc291cmNlIG9mIHRydXRoKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCA+IDAgJiYgZ3JvdXBzQnlTaW1pbGFyaXR5ICYmIE9iamVjdC5rZXlzKGdyb3Vwc0J5U2ltaWxhcml0eSkubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgZ3JvdXBzSW5SYW5nZSA9IGdldEdyb3Vwc0ZvckN1cnJlbnRQYWdlKCk7XG4gICAgICBpZiAoZ3JvdXBzSW5SYW5nZS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEFsd2F5cyBsb2FkIGZyb20gYmFja2VuZCAoc2luZ2xlIHNvdXJjZSBvZiB0cnV0aClcbiAgICAgICAgbG9hZEZpbGVTdGF0dXNlc0ZvclJhbmdlKHNpbWlsYXJpdHlSYW5nZVN0YXJ0LCBzaW1pbGFyaXR5UmFuZ2VFbmQpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtzaW1pbGFyaXR5UmFuZ2VTdGFydCwgc2ltaWxhcml0eVJhbmdlRW5kLCBzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aF0pOyAvLyBTaW1wbGlmaWVkIGRlcHMgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wXG5cbiAgLy8gTG9hZCBNQ1EgZGF0YSB3aGVuIHJhbmdlIGNoYW5nZXMgKGFmdGVyIHN0YXR1c2VzIGFyZSBsb2FkZWQpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNpbWlsYXJpdHlMZXZlbHMubGVuZ3RoID4gMCAmJiBncm91cHNCeVNpbWlsYXJpdHkgJiYgT2JqZWN0LmtleXMoZ3JvdXBzQnlTaW1pbGFyaXR5KS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBncm91cHNJblJhbmdlID0gZ2V0R3JvdXBzRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIFxuICAgICAgaWYgKGdyb3Vwc0luUmFuZ2UubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICBcbiAgICAgIC8vIEFsd2F5cyBsb2FkIE1DUSBkYXRhIGZvciB0aGUgcmFuZ2UgKG5vIGNhY2hpbmcgbmVlZGVkLCBpdCdzIGZhc3QpXG4gICAgICAvLyBBZGQgc21hbGwgZGVsYXkgdG8gZW5zdXJlIHN0YXR1c2VzIGFyZSBsb2FkZWQgZmlyc3RcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxvYWRNQ1FEYXRhRm9yUmFuZ2Uoc2ltaWxhcml0eVJhbmdlU3RhcnQsIHNpbWlsYXJpdHlSYW5nZUVuZCk7XG4gICAgICB9LCAxMDApO1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbc2ltaWxhcml0eVJhbmdlU3RhcnQsIHNpbWlsYXJpdHlSYW5nZUVuZCwgc2ltaWxhcml0eUxldmVscy5sZW5ndGhdKTsgLy8gU2ltcGxpZmllZCBkZXBzIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcFxuXG4gIC8vIFJlc2V0IHBhZ2UgY29tcGxldGVkIHN0YXR1cyB3aGVuIHJhbmdlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRQYWdlQ29tcGxldGVkKGZhbHNlKTtcbiAgICAvLyBSZXNldCBsYXN0IGxvYWRlZCByYW5nZSB3aGVuIHJhbmdlIGNoYW5nZXNcbiAgICBsYXN0TG9hZGVkUmFuZ2VSZWYuY3VycmVudCA9IG51bGw7XG4gIH0sIFtzaW1pbGFyaXR5UmFuZ2VTdGFydCwgc2ltaWxhcml0eVJhbmdlRW5kXSk7XG5cbiAgLy8gU2F2ZSBzaW1pbGFyaXR5IHJhbmdlIGFuZCB0YXJnZXRHcm91cHNQZXJQYWdlIHRvIGxvY2FsU3RvcmFnZSB3aGVuZXZlciB0aGV5IGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaW1pbGFyaXR5UmFuZ2VTdGFydCAhPT0gdW5kZWZpbmVkICYmIHNpbWlsYXJpdHlSYW5nZUVuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgIHNlc3Npb24uc2ltaWxhcml0eVJhbmdlU3RhcnQgPSBzaW1pbGFyaXR5UmFuZ2VTdGFydDtcbiAgICAgICAgc2Vzc2lvbi5zaW1pbGFyaXR5UmFuZ2VFbmQgPSBzaW1pbGFyaXR5UmFuZ2VFbmQ7XG4gICAgICAgIHNlc3Npb24udGFyZ2V0R3JvdXBzUGVyUGFnZSA9IHRhcmdldEdyb3Vwc1BlclBhZ2U7XG4gICAgICAgIHN0b3JhZ2Uuc2F2ZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbc2ltaWxhcml0eVJhbmdlU3RhcnQsIHNpbWlsYXJpdHlSYW5nZUVuZCwgdGFyZ2V0R3JvdXBzUGVyUGFnZSwgc3ViamVjdF0pO1xuXG4gIC8vIERldGVjdCBjb25mbGljdHMgYW5kIGFwcGVhcmFuY2UgY291bnRzIGZvciBjdXJyZW50IHBhZ2VcbiAgLy8gVXNlIHJlb3JkZXJlZCBncm91cHMgc28gYXBwZWFyYW5jZSBvcmRlciBtYXRjaGVzIGRpc3BsYXkgb3JkZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBncm91cHNJblBhZ2UgPSBnZXRSZW9yZGVyZWRHcm91cHNGb3JQYWdlKCk7XG4gICAgaWYgKGdyb3Vwc0luUGFnZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBmaWxlU3RhdGVzOiB7IFtmaWxlbmFtZTogc3RyaW5nXTogU2V0PGJvb2xlYW4+IH0gPSB7fTtcbiAgICBjb25zdCBhcHBlYXJhbmNlQ291bnRzOiB7IFtmaWxlbmFtZTogc3RyaW5nXTogeyB0b3RhbDogbnVtYmVyOyBjaGVja2VkOiBudW1iZXIgfSB9ID0ge307XG4gICAgY29uc3QgYXBwZWFyYW5jZU9yZGVyOiB7IFtmaWxlbmFtZTogc3RyaW5nXTogeyBbZ3JvdXBJbmRleDogbnVtYmVyXTogbnVtYmVyIH0gfSA9IHt9O1xuICAgIFxuICAgIC8vIEZpcnN0IHBhc3M6IENvdW50IHRvdGFsIGFwcGVhcmFuY2VzIChpbmNsdWRpbmcgS0VQVCBjYXJkcyBvbiByZW1vdmVkIGZpbGVzKVxuICAgIGNvbnN0IHRvdGFsQXBwZWFyYW5jZXM6IHsgW2ZpbGVuYW1lOiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICAgIGZvciAoY29uc3QgZ3JvdXBJbmRleCBvZiBncm91cHNJblBhZ2UpIHtcbiAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzW2dyb3VwSW5kZXhdO1xuICAgICAgZm9yIChjb25zdCBmaWxlbmFtZSBvZiBncm91cC5maWxlcykge1xuICAgICAgICB0b3RhbEFwcGVhcmFuY2VzW2ZpbGVuYW1lXSA9ICh0b3RhbEFwcGVhcmFuY2VzW2ZpbGVuYW1lXSB8fCAwKSArIDE7XG4gICAgICAgIC8vIElmIHRoaXMgZmlsZSBoYXMgYSBrZXB0IGNvdW50ZXJwYXJ0IChwdXJwbGUgS0VQVCBjYXJkKSwgY291bnQgdGhhdCBhcHBlYXJhbmNlIHRvb1xuICAgICAgICBjb25zdCBmaWxlU3RhdHVzID0gZmlsZVN0YXR1c0NvbnRleHQuZ2V0RmlsZVN0YXR1cyhmaWxlbmFtZSk7XG4gICAgICAgIGNvbnN0IHJlbW92YWxJbmZvID0gZmlsZVN0YXR1cz8ucmVtb3ZhbEluZm87XG4gICAgICAgIGNvbnN0IGtlcHRGaWxlcyA9IHJlbW92YWxJbmZvPy5rZXB0X2ZpbGVzIHx8IFtdO1xuICAgICAgICBpZiAoa2VwdEZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZVN0YXR1cz8ua2VwdEZpbGVEYXRhKSB7XG4gICAgICAgICAgY29uc3Qga2VwdEZpbGVuYW1lID0ga2VwdEZpbGVzWzBdO1xuICAgICAgICAgIHRvdGFsQXBwZWFyYW5jZXNba2VwdEZpbGVuYW1lXSA9ICh0b3RhbEFwcGVhcmFuY2VzW2tlcHRGaWxlbmFtZV0gfHwgMCkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFRyYWNrIGN1bXVsYXRpdmUgY291bnRzIGZvciBhcHBlYXJhbmNlIGluZGV4IChtYWluICsgS0VQVClcbiAgICBjb25zdCBmaWxlQ3VtdWxhdGl2ZUNvdW50OiB7IFtmaWxlbmFtZTogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcbiAgICAvLyBQZXItcmVtb3ZlZC1maWxlIGFwcGVhcmFuY2Ugb3JkZXIgZm9yIGl0cyBLRVBUIGNvdW50ZXJwYXJ0XG4gICAgY29uc3Qga2VwdE9yZGVyTG9jYWw6IHsgW3JlbW92ZWRGaWxlbmFtZTogc3RyaW5nXTogeyBba2VwdEZpbGVuYW1lOiBzdHJpbmddOiBudW1iZXIgfSB9ID0ge307XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHN0b3JhZ2UubG9hZFNlc3Npb24oc3ViamVjdCk7XG4gICAgY29uc3QgbG9jYWxTdG9yYWdlQ2hlY2tlZCA9IHNlc3Npb24/LmNoZWNrZWRGaWxlcyB8fCB7fTtcbiAgICBcbiAgICAvLyBTZWNvbmQgcGFzczogQ2hlY2sgYWxsIGdyb3VwcyBpbiBjdXJyZW50IHBhZ2VcbiAgICBmb3IgKGNvbnN0IGdyb3VwSW5kZXggb2YgZ3JvdXBzSW5QYWdlKSB7XG4gICAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tncm91cEluZGV4XTtcbiAgICAgIGlmICghZ3JvdXApIGNvbnRpbnVlO1xuICAgICAgXG4gICAgICBjb25zdCBzZWxlY3Rpb25zID0gYXV0b1NlbGVjdGlvbnNbZ3JvdXBJbmRleF0gfHwge307XG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgZmlsZW5hbWUgb2YgZ3JvdXAuZmlsZXMpIHtcbiAgICAgICAgbGV0IGlzQ2hlY2tlZDogYm9vbGVhbjtcbiAgICAgICAgaWYgKHNlbGVjdGlvbnMgJiYgZmlsZW5hbWUgaW4gc2VsZWN0aW9ucykge1xuICAgICAgICAgIGlzQ2hlY2tlZCA9IHNlbGVjdGlvbnNbZmlsZW5hbWVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFVzZSBDb250ZXh0IHRvIGdldCBjaGVja2VkIHN0YXRlXG4gICAgICAgICAgaXNDaGVja2VkID0gZmlsZVN0YXR1c0NvbnRleHQuZ2V0RmlsZUNoZWNrZWQoZmlsZW5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUcmFjayBzdGF0ZXMgZm9yIGNvbmZsaWN0IGRldGVjdGlvblxuICAgICAgICBpZiAoIWZpbGVTdGF0ZXNbZmlsZW5hbWVdKSB7XG4gICAgICAgICAgZmlsZVN0YXRlc1tmaWxlbmFtZV0gPSBuZXcgU2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZmlsZVN0YXRlc1tmaWxlbmFtZV0uYWRkKGlzQ2hlY2tlZCk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcmFjayBhcHBlYXJhbmNlIGNvdW50c1xuICAgICAgICBpZiAoIWFwcGVhcmFuY2VDb3VudHNbZmlsZW5hbWVdKSB7XG4gICAgICAgICAgYXBwZWFyYW5jZUNvdW50c1tmaWxlbmFtZV0gPSB7IHRvdGFsOiAwLCBjaGVja2VkOiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgYXBwZWFyYW5jZUNvdW50c1tmaWxlbmFtZV0udG90YWwrKztcbiAgICAgICAgaWYgKGlzQ2hlY2tlZCkge1xuICAgICAgICAgIGFwcGVhcmFuY2VDb3VudHNbZmlsZW5hbWVdLmNoZWNrZWQrKztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVHJhY2sgY3VtdWxhdGl2ZSBvcmRlciBmb3IgTUFJTiBjYXJkczpcbiAgICAgICAgLy8gTmV3IHJ1bGU6IGNvdW50IGV2ZXJ5IGFwcGVhcmFuY2Ugb24gdGhlIHBhZ2UsIHJlZ2FyZGxlc3Mgb2YgY2hlY2tlZCBzdGF0ZS5cbiAgICAgICAgaWYgKCEoZmlsZW5hbWUgaW4gZmlsZUN1bXVsYXRpdmVDb3VudCkpIHtcbiAgICAgICAgICBmaWxlQ3VtdWxhdGl2ZUNvdW50W2ZpbGVuYW1lXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZmlsZUN1bXVsYXRpdmVDb3VudFtmaWxlbmFtZV0gPSBmaWxlQ3VtdWxhdGl2ZUNvdW50W2ZpbGVuYW1lXSArIDE7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDb3VudCA9IGZpbGVDdW11bGF0aXZlQ291bnRbZmlsZW5hbWVdO1xuICAgICAgICBpZiAoIWFwcGVhcmFuY2VPcmRlcltmaWxlbmFtZV0pIHtcbiAgICAgICAgICBhcHBlYXJhbmNlT3JkZXJbZmlsZW5hbWVdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgYXBwZWFyYW5jZU9yZGVyW2ZpbGVuYW1lXVtncm91cEluZGV4XSA9IGN1cnJlbnRDb3VudDtcblxuICAgICAgICAvLyBUcmFjayBjdW11bGF0aXZlIG9yZGVyIGZvciBLRVBUIGNhcmRzIChwdXJwbGUgY2FyZHMpIGlmIHByZXNlbnRcbiAgICAgICAgY29uc3QgZmlsZVN0YXR1cyA9IGZpbGVTdGF0dXNDb250ZXh0LmdldEZpbGVTdGF0dXMoZmlsZW5hbWUpO1xuICAgICAgICBjb25zdCByZW1vdmFsSW5mbyA9IGZpbGVTdGF0dXM/LnJlbW92YWxJbmZvO1xuICAgICAgICBjb25zdCBrZXB0RmlsZXMgPSByZW1vdmFsSW5mbz8ua2VwdF9maWxlcyB8fCBbXTtcbiAgICAgICAgaWYgKGtlcHRGaWxlcy5sZW5ndGggPiAwICYmIGZpbGVTdGF0dXM/LmtlcHRGaWxlRGF0YSkge1xuICAgICAgICAgIC8vIENvdW50IEtFUFQgY2FyZCBhcHBlYXJhbmNlXG4gICAgICAgICAgY29uc3Qga2VwdEZpbGVuYW1lID0ga2VwdEZpbGVzWzBdO1xuICAgICAgICAgIGlmICghKGtlcHRGaWxlbmFtZSBpbiBmaWxlQ3VtdWxhdGl2ZUNvdW50KSkge1xuICAgICAgICAgICAgZmlsZUN1bXVsYXRpdmVDb3VudFtrZXB0RmlsZW5hbWVdID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmlsZUN1bXVsYXRpdmVDb3VudFtrZXB0RmlsZW5hbWVdID0gZmlsZUN1bXVsYXRpdmVDb3VudFtrZXB0RmlsZW5hbWVdICsgMTtcbiAgICAgICAgICBjb25zdCBrZXB0Q291bnQgPSBmaWxlQ3VtdWxhdGl2ZUNvdW50W2tlcHRGaWxlbmFtZV07XG5cbiAgICAgICAgICBpZiAoIWtlcHRPcmRlckxvY2FsW2ZpbGVuYW1lXSkge1xuICAgICAgICAgICAga2VwdE9yZGVyTG9jYWxbZmlsZW5hbWVdID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGtlcHRPcmRlckxvY2FsW2ZpbGVuYW1lXVtrZXB0RmlsZW5hbWVdID0ga2VwdENvdW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEZpbmQgZmlsZXMgd2l0aCBjb25mbGljdGluZyBzdGF0ZXNcbiAgICBjb25zdCBjb25mbGljdHMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBmb3IgKGNvbnN0IFtmaWxlbmFtZSwgc3RhdGVzXSBvZiBPYmplY3QuZW50cmllcyhmaWxlU3RhdGVzKSkge1xuICAgICAgaWYgKHN0YXRlcy5oYXModHJ1ZSkgJiYgc3RhdGVzLmhhcyhmYWxzZSkpIHtcbiAgICAgICAgY29uZmxpY3RzLmFkZChmaWxlbmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHNldENvbmZsaWN0aW5nRmlsZXMoY29uZmxpY3RzKTtcbiAgICBzZXRGaWxlQXBwZWFyYW5jZUNvdW50cyhhcHBlYXJhbmNlQ291bnRzKTtcbiAgICBzZXRGaWxlQXBwZWFyYW5jZU9yZGVyKGFwcGVhcmFuY2VPcmRlcik7XG4gICAgc2V0RmlsZUFwcGVhcmFuY2VUb3RhbHModG90YWxBcHBlYXJhbmNlcyk7XG4gICAgc2V0S2VwdEFwcGVhcmFuY2VPcmRlcihrZXB0T3JkZXJMb2NhbCk7XG4gIH0sIFtzaW1pbGFyaXR5UmFuZ2VTdGFydCwgc2ltaWxhcml0eVJhbmdlRW5kLCBncm91cHMsIGF1dG9TZWxlY3Rpb25zLCBzdWJqZWN0LCBnZXRSZW9yZGVyZWRHcm91cHNGb3JQYWdlLCBmaWxlU3RhdHVzQ29udGV4dF0pO1xuXG4gIC8vIENhbGN1bGF0ZSBsaXZlIGNvdW50cyBmb3IgY3VycmVudCBwYWdlXG4gIC8vIE9ubHkgY291bnQgZmlsZXMgdGhhdCB3aWxsIGFjdHVhbGx5IENIQU5HRSBzdGF0dXMgKGFjY291bnRpbmcgZm9yIG11bHRpcGxlIGFwcGVhcmFuY2VzKVxuICBjb25zdCBjYWxjdWxhdGVMaXZlQ291bnRzID0gKCkgPT4ge1xuICAgIGNvbnN0IGdyb3Vwc0luUGFnZSA9IGdldEdyb3Vwc0ZvckN1cnJlbnRQYWdlKCk7XG4gICAgXG4gICAgLy8gVHJhY2sgZmluYWwgc3RhdGUgb2YgZWFjaCBmaWxlIGFmdGVyIGFsbCBncm91cHMgYXJlIHByb2Nlc3NlZFxuICAgIC8vIEtleTogZmlsZW5hbWUsIFZhbHVlOiBmaW5hbCBjaGVja2VkIHN0YXRlICh0cnVlL2ZhbHNlKVxuICAgIC8vIElNUE9SVEFOVDogSWYgZmlsZSBpcyBjaGVja2VkIGluIEFOWSBncm91cCwgZmluYWwgc3RhdGUgaXMgc2F2ZWQgKG1hdGNoZXMgc3VibWl0IGxvZ2ljKVxuICAgIGNvbnN0IGZpbGVGaW5hbFN0YXRlczogeyBbZmlsZW5hbWU6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xuICAgIFxuICAgIC8vIEZpcnN0IHBhc3M6IERldGVybWluZSBmaW5hbCBzdGF0ZSBvZiBlYWNoIGZpbGVcbiAgICAvLyBJZiBmaWxlIGlzIGNoZWNrZWQgaW4gQU5ZIGdyb3VwLCBmaW5hbCBzdGF0ZSBpcyBzYXZlZCAodHJ1ZSlcbiAgICBmb3IgKGNvbnN0IGdyb3VwSW5kZXggb2YgZ3JvdXBzSW5QYWdlKSB7XG4gICAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tncm91cEluZGV4XTtcbiAgICAgIGNvbnN0IHNlbGVjdGlvbnMgPSBhdXRvU2VsZWN0aW9uc1tncm91cEluZGV4XSB8fCB7fTtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBmaWxlbmFtZSBvZiBncm91cC5maWxlcykge1xuICAgICAgICBjb25zdCBpc0NoZWNrZWQgPSBzZWxlY3Rpb25zW2ZpbGVuYW1lXSA/PyBmYWxzZTtcbiAgICAgICAgLy8gSWYgZmlsZSBpcyBjaGVja2VkIGluIEFOWSBncm91cCwgZmluYWwgc3RhdGUgaXMgc2F2ZWQgKHRydWUpXG4gICAgICAgIC8vIE9uY2Ugc2V0IHRvIHRydWUsIGl0IHN0YXlzIHRydWUgKGNoZWNrZWQgaW4gYXQgbGVhc3Qgb25lIGdyb3VwKVxuICAgICAgICBpZiAoaXNDaGVja2VkKSB7XG4gICAgICAgICAgZmlsZUZpbmFsU3RhdGVzW2ZpbGVuYW1lXSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoIShmaWxlbmFtZSBpbiBmaWxlRmluYWxTdGF0ZXMpKSB7XG4gICAgICAgICAgLy8gT25seSBzZXQgdG8gZmFsc2UgaWYgbm90IGFscmVhZHkgdHJ1ZSAobm90IGNoZWNrZWQgaW4gYW55IGdyb3VwKVxuICAgICAgICAgIGZpbGVGaW5hbFN0YXRlc1tmaWxlbmFtZV0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBTZWNvbmQgcGFzczogQ291bnQgdW5pcXVlIGZpbGVzIHRoYXQgd2lsbCBjaGFuZ2Ugc3RhdHVzXG4gICAgY29uc3QgZmlsZXNUb1NhdmUgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBjb25zdCBmaWxlc1RvUmVtb3ZlID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgXG4gICAgZm9yIChjb25zdCBmaWxlbmFtZSBvZiBPYmplY3Qua2V5cyhmaWxlRmluYWxTdGF0ZXMpKSB7XG4gICAgICBjb25zdCBmaW5hbFN0YXRlID0gZmlsZUZpbmFsU3RhdGVzW2ZpbGVuYW1lXTtcbiAgICAgIC8vIFVzZSBDb250ZXh0IHRvIGdldCBjdXJyZW50IHN0YXR1c1xuICAgICAgY29uc3QgZmlsZVN0YXR1cyA9IGZpbGVTdGF0dXNDb250ZXh0LmdldEZpbGVTdGF0dXMoZmlsZW5hbWUpO1xuICAgICAgY29uc3QgY3VycmVudFN0YXR1cyA9IGZpbGVTdGF0dXM/LnN0YXR1cyB8fCAndW5rbm93bic7XG4gICAgICBcbiAgICAgIGlmIChmaW5hbFN0YXRlICYmIGN1cnJlbnRTdGF0dXMgPT09ICdyZW1vdmVkJykge1xuICAgICAgICAvLyBXaWxsIG1vdmUgZnJvbSByZW1vdmVkIHRvIHNhdmVkXG4gICAgICAgIGZpbGVzVG9TYXZlLmFkZChmaWxlbmFtZSk7XG4gICAgICB9IGVsc2UgaWYgKCFmaW5hbFN0YXRlICYmIGN1cnJlbnRTdGF0dXMgPT09ICdzYXZlZCcpIHtcbiAgICAgICAgLy8gV2lsbCBtb3ZlIGZyb20gc2F2ZWQgdG8gcmVtb3ZlZFxuICAgICAgICBmaWxlc1RvUmVtb3ZlLmFkZChmaWxlbmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IFxuICAgICAgd2lsbE1vdmVUb1NhdmVkOiBmaWxlc1RvU2F2ZS5zaXplLCBcbiAgICAgIHdpbGxNb3ZlVG9SZW1vdmVkOiBmaWxlc1RvUmVtb3ZlLnNpemUgXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCB7IHdpbGxNb3ZlVG9TYXZlZCwgd2lsbE1vdmVUb1JlbW92ZWQgfSA9IGNhbGN1bGF0ZUxpdmVDb3VudHMoKTtcblxuICAvLyBDaGVjayBpZiBhbGwgZ3JvdXBzIGluIGN1cnJlbnQgcGFnZSBoYXZlIGF1dG8gc2VsZWN0aW9ucyBhcHBsaWVkXG4gIGNvbnN0IGFsbEdyb3Vwc0hhdmVBdXRvU2VsZWN0aW9ucyA9IHVzZUNhbGxiYWNrKCgpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBncm91cHNJblBhZ2UgPSBnZXRHcm91cHNGb3JDdXJyZW50UGFnZSgpO1xuICAgIGlmIChncm91cHNJblBhZ2UubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgZXZlcnkgZ3JvdXAgaW4gY3VycmVudCBwYWdlIGhhcyBhdXRvU2VsZWN0aW9ucyBlbnRyeVxuICAgIGZvciAoY29uc3QgZ3JvdXBJbmRleCBvZiBncm91cHNJblBhZ2UpIHtcbiAgICAgIGlmICghYXV0b1NlbGVjdGlvbnNbZ3JvdXBJbmRleF0gfHwgT2JqZWN0LmtleXMoYXV0b1NlbGVjdGlvbnNbZ3JvdXBJbmRleF0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFsc28gdmVyaWZ5IHRoYXQgYWxsIGZpbGVzIGluIHRoZSBncm91cCBoYXZlIHNlbGVjdGlvbnNcbiAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzW2dyb3VwSW5kZXhdO1xuICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgIGZvciAoY29uc3QgZmlsZW5hbWUgb2YgZ3JvdXAuZmlsZXMpIHtcbiAgICAgICAgICBpZiAoIShmaWxlbmFtZSBpbiBhdXRvU2VsZWN0aW9uc1tncm91cEluZGV4XSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sIFtnZXRHcm91cHNGb3JDdXJyZW50UGFnZSwgYXV0b1NlbGVjdGlvbnMsIGdyb3Vwc10pO1xuXG4gIGNvbnN0IGdyb3Vwc1JlYWR5Rm9yU3VibWl0ID0gYWxsR3JvdXBzSGF2ZUF1dG9TZWxlY3Rpb25zKCk7XG5cbiAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIG5leHQgcGFnZVxuICBjb25zdCBoYXNOZXh0UGFnZSA9ICgpID0+IHtcbiAgICBpZiAoc2ltaWxhcml0eUxldmVscy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBtaW5MZXZlbCA9IHNpbWlsYXJpdHlMZXZlbHNbc2ltaWxhcml0eUxldmVscy5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gc2ltaWxhcml0eVJhbmdlRW5kID4gbWluTGV2ZWw7XG4gIH07XG5cbiAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhIHByZXZpb3VzIHBhZ2VcbiAgY29uc3QgaGFzUHJldmlvdXNQYWdlID0gKCkgPT4ge1xuICAgIHJldHVybiBwYWdlSGlzdG9yeS5sZW5ndGggPiAwO1xuICB9O1xuXG4gIGNvbnN0IGdvVG9OZXh0UGFnZSA9ICgpID0+IHtcbiAgICBpZiAoIWhhc05leHRQYWdlKCkpIHJldHVybjtcbiAgICBcbiAgICAvLyBTYXZlIGN1cnJlbnQgcGFnZSB0byBoaXN0b3J5XG4gICAgc2V0UGFnZUhpc3RvcnkocHJldiA9PiBbLi4ucHJldiwgeyBzdGFydDogc2ltaWxhcml0eVJhbmdlU3RhcnQsIGVuZDogc2ltaWxhcml0eVJhbmdlRW5kIH1dKTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgbmV4dCByYW5nZTogc3RhcnQgZnJvbSBjdXJyZW50RW5kIGFuZCBleHBhbmQgdW50aWwgYXBwcm94aW1hdGVseSB0YXJnZXRHcm91cHNQZXJQYWdlIGdyb3Vwc1xuICAgIC8vIFRoaXMgZW5zdXJlcyBjb250aW51aXR5IChubyBnYXBzKSB3aGlsZSBicmluZ2luZyBhcHByb3hpbWF0ZWx5IHRoZSB0YXJnZXQgbnVtYmVyIG9mIGdyb3Vwc1xuICAgIGNvbnN0IG1pbkxldmVsID0gc2ltaWxhcml0eUxldmVscy5sZW5ndGggPiAwID8gc2ltaWxhcml0eUxldmVsc1tzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCAtIDFdIDogODUuMDtcbiAgICBcbiAgICAvLyBTdGFydCBleGFjdGx5IHdoZXJlIGN1cnJlbnQgcmFuZ2UgZW5kcyAoY29udGludW91cywgbm8gZ2FwcylcbiAgICBjb25zdCBuZXh0U3RhcnQgPSBzaW1pbGFyaXR5UmFuZ2VFbmQ7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHJhbmdlIGZyb20gbmV4dFN0YXJ0IHRoYXQgYnJpbmdzIGFwcHJveGltYXRlbHkgdGFyZ2V0R3JvdXBzUGVyUGFnZSBncm91cHNcbiAgICBjb25zdCBuZXh0UmFuZ2UgPSBjYWxjdWxhdGVSYW5nZUZyb21UYXJnZXRHcm91cHMobmV4dFN0YXJ0LCB0YXJnZXRHcm91cHNQZXJQYWdlKTtcbiAgICBcbiAgICAvLyBFbnN1cmUgd2UgZG9uJ3QgZ28gYmVsb3cgbWluTGV2ZWxcbiAgICBpZiAobmV4dFJhbmdlLmVuZCA8IG1pbkxldmVsKSB7XG4gICAgICBuZXh0UmFuZ2UuZW5kID0gbWluTGV2ZWw7XG4gICAgfVxuICAgIFxuICAgIHNldFNpbWlsYXJpdHlSYW5nZVN0YXJ0KG5leHRSYW5nZS5zdGFydCk7XG4gICAgc2V0U2ltaWxhcml0eVJhbmdlRW5kKG5leHRSYW5nZS5lbmQpO1xuICAgIHNldElzTWFudWFsUmFuZ2UoZmFsc2UpOyAvLyBNYXJrIGFzIGF1dG8tY2FsY3VsYXRlZCAobm90IG1hbnVhbClcbiAgICBzZXRQYWdlQ29tcGxldGVkKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBnb1RvUHJldmlvdXNQYWdlID0gKCkgPT4ge1xuICAgIGlmICghaGFzUHJldmlvdXNQYWdlKCkpIHJldHVybjtcbiAgICBcbiAgICAvLyBHZXQgcHJldmlvdXMgcmFuZ2UgZnJvbSBoaXN0b3J5XG4gICAgY29uc3QgcHJldmlvdXNQYWdlID0gcGFnZUhpc3RvcnlbcGFnZUhpc3RvcnkubGVuZ3RoIC0gMV07XG4gICAgc2V0UGFnZUhpc3RvcnkocHJldiA9PiBwcmV2LnNsaWNlKDAsIC0xKSk7XG4gICAgc2V0U2ltaWxhcml0eVJhbmdlU3RhcnQocHJldmlvdXNQYWdlLnN0YXJ0KTtcbiAgICBzZXRTaW1pbGFyaXR5UmFuZ2VFbmQocHJldmlvdXNQYWdlLmVuZCk7XG4gICAgc2V0UGFnZUNvbXBsZXRlZChmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QganVtcFRvTWluID0gKCkgPT4ge1xuICAgIGlmIChzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG1pbkxldmVsID0gc2ltaWxhcml0eUxldmVsc1tzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCAtIDFdO1xuICAgICAgLy8gQ2FsY3VsYXRlIHJhbmdlIHN0YXJ0aW5nIGZyb20gbWluIGxldmVsIHdpdGggdGFyZ2V0IGdyb3Vwc1xuICAgICAgY29uc3QgcmFuZ2UgPSBjYWxjdWxhdGVSYW5nZUZyb21UYXJnZXRHcm91cHMobWluTGV2ZWwsIHRhcmdldEdyb3Vwc1BlclBhZ2UpO1xuICAgICAgc2V0UGFnZUhpc3RvcnkoW10pO1xuICAgICAgc2V0U2ltaWxhcml0eVJhbmdlU3RhcnQocmFuZ2Uuc3RhcnQpO1xuICAgICAgc2V0U2ltaWxhcml0eVJhbmdlRW5kKHJhbmdlLmVuZCk7XG4gICAgICBzZXRQYWdlQ29tcGxldGVkKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QganVtcFRvTWF4ID0gKCkgPT4ge1xuICAgIGlmIChzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG1heExldmVsID0gc2ltaWxhcml0eUxldmVsc1swXTsgLy8gSGlnaGVzdCBzaW1pbGFyaXR5XG4gICAgICAvLyBDYWxjdWxhdGUgcmFuZ2Ugc3RhcnRpbmcgZnJvbSBtYXggbGV2ZWwgd2l0aCB0YXJnZXQgZ3JvdXBzXG4gICAgICBjb25zdCByYW5nZSA9IGNhbGN1bGF0ZVJhbmdlRnJvbVRhcmdldEdyb3VwcyhtYXhMZXZlbCwgdGFyZ2V0R3JvdXBzUGVyUGFnZSk7XG4gICAgICBzZXRQYWdlSGlzdG9yeShbXSk7XG4gICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VTdGFydChyYW5nZS5zdGFydCk7XG4gICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VFbmQocmFuZ2UuZW5kKTtcbiAgICAgIHNldFBhZ2VDb21wbGV0ZWQoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBFeHBvc2UgbWV0aG9kcyB2aWEgcmVmXG4gIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiAoe1xuICAgIGp1bXBUb01pbixcbiAgICBqdW1wVG9NYXhcbiAgfSkpO1xuXG4gIC8vIEF1dG8tc2Nyb2xsIGFuaW1hdGlvbiBsb2dpY1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0b1Njcm9sbEVuYWJsZWQgfHwgIWF1dG9TY3JvbGxBY3RpdmUpIHtcbiAgICAgIC8vIFN0b3Agc2Nyb2xsaW5nIGlmIGRpc2FibGVkIG9yIHBhdXNlZFxuICAgICAgaWYgKGF1dG9TY3JvbGxBbmltYXRpb25SZWYuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhdXRvU2Nyb2xsQW5pbWF0aW9uUmVmLmN1cnJlbnQpO1xuICAgICAgICBhdXRvU2Nyb2xsQW5pbWF0aW9uUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNjcm9sbCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgZGVsdGFUaW1lID0gbm93IC0gbGFzdFNjcm9sbFRpbWVSZWYuY3VycmVudDtcbiAgICAgIFxuICAgICAgLy8gQ29udmVydCBwaXhlbHMgcGVyIHNlY29uZCB0byBwaXhlbHMgcGVyIGZyYW1lXG4gICAgICAvLyBBc3N1bWluZyB+NjBmcHMsIGVhY2ggZnJhbWUgaXMgfjE2LjY3bXNcbiAgICAgIGNvbnN0IHBpeGVsc1BlckZyYW1lID0gKEFVVE9fU0NST0xMX1NQRUVEIC8gMTAwMCkgKiBkZWx0YVRpbWU7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHdlJ3ZlIHJlYWNoZWQgdGhlIGJvdHRvbSAod2l0aCBzbWFsbCB0aHJlc2hvbGQpXG4gICAgICBjb25zdCB0aHJlc2hvbGQgPSAxMDsgLy8gcGl4ZWxzXG4gICAgICBjb25zdCBpc0F0Qm90dG9tID0gd2luZG93LmlubmVySGVpZ2h0ICsgd2luZG93LnNjcm9sbFkgPj0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCAtIHRocmVzaG9sZDtcbiAgICAgIFxuICAgICAgaWYgKGlzQXRCb3R0b20pIHtcbiAgICAgICAgLy8gUmVhY2hlZCBib3R0b20sIHN0b3AgYXV0by1zY3JvbGxcbiAgICAgICAgc2V0QXV0b1Njcm9sbEFjdGl2ZShmYWxzZSk7XG4gICAgICAgIGlmIChhdXRvU2Nyb2xsQW5pbWF0aW9uUmVmLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhdXRvU2Nyb2xsQW5pbWF0aW9uUmVmLmN1cnJlbnQpO1xuICAgICAgICAgIGF1dG9TY3JvbGxBbmltYXRpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTY3JvbGwgZG93blxuICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIHBpeGVsc1BlckZyYW1lKTtcbiAgICAgIGxhc3RTY3JvbGxUaW1lUmVmLmN1cnJlbnQgPSBub3c7XG4gICAgICBcbiAgICAgIC8vIENvbnRpbnVlIGFuaW1hdGlvblxuICAgICAgYXV0b1Njcm9sbEFuaW1hdGlvblJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbCk7XG4gICAgfTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGFuZCBzdGFydCBzY3JvbGxpbmdcbiAgICBsYXN0U2Nyb2xsVGltZVJlZi5jdXJyZW50ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgYXV0b1Njcm9sbEFuaW1hdGlvblJlZi5jdXJyZW50ID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbCk7XG4gICAgXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoYXV0b1Njcm9sbEFuaW1hdGlvblJlZi5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGF1dG9TY3JvbGxBbmltYXRpb25SZWYuY3VycmVudCk7XG4gICAgICAgIGF1dG9TY3JvbGxBbmltYXRpb25SZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2F1dG9TY3JvbGxFbmFibGVkLCBhdXRvU2Nyb2xsQWN0aXZlXSk7XG5cbiAgLy8gU3BhY2Uga2V5IGhhbmRsZXIgKG9ubHkgYWN0aXZlIHdoZW4gYXV0by1zY3JvbGwgaXMgZW5hYmxlZClcbiAgLy8gV2hlbiBhdXRvLXNjcm9sbCBpcyBlbmFibGVkLCBzcGFjZSBrZXkgYWx3YXlzIHRvZ2dsZXMgc2Nyb2xsOiBzdGFydCBpZiBzdG9wcGVkLCBzdG9wIGlmIGFjdGl2ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYXV0b1Njcm9sbEVuYWJsZWQpIHtcbiAgICAgIHJldHVybjsgLy8gRG9uJ3QgbGlzdGVuIHRvIHNwYWNlIGtleSB3aGVuIGF1dG8tc2Nyb2xsIGJ1dHRvbiBpcyBPRkZcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIC8vIE9ubHkgaGFuZGxlIHNwYWNlIGtleVxuICAgICAgaWYgKGUuY29kZSA9PT0gJ1NwYWNlJyB8fCBlLmtleSA9PT0gJyAnKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBcbiAgICAgICAgLy8gU2tpcCBvbmx5IHRleHQgaW5wdXRzIGFuZCB0ZXh0YXJlYXMgKGFsbG93IGNoZWNrYm94ZXMgdG8gYmUgaW50ZXJjZXB0ZWQpXG4gICAgICAgIGNvbnN0IGlzVGV4dElucHV0ID0gXG4gICAgICAgICAgKHRhcmdldC50YWdOYW1lID09PSAnSU5QVVQnICYmIFxuICAgICAgICAgICAodGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnR5cGUgIT09ICdjaGVja2JveCcgJiYgXG4gICAgICAgICAgICh0YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudHlwZSAhPT0gJ3JhZGlvJykgfHxcbiAgICAgICAgICB0YXJnZXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fCBcbiAgICAgICAgICB0YXJnZXQuaXNDb250ZW50RWRpdGFibGUgfHxcbiAgICAgICAgICB0YXJnZXQuZ2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSA9PT0gJ3RydWUnO1xuICAgICAgICBcbiAgICAgICAgaWYgKGlzVGV4dElucHV0KSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBEb24ndCBpbnRlcmZlcmUgd2l0aCB0ZXh0IGlucHV0cyBvciBlZGl0YWJsZSBjb250ZW50XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFMV0FZUyBwcmV2ZW50IGRlZmF1bHQgYW5kIHN0b3AgcHJvcGFnYXRpb24gd2hlbiBhdXRvLXNjcm9sbCBpcyBlbmFibGVkXG4gICAgICAgIC8vIFRoaXMgZW5zdXJlcyBzcGFjZSBrZXkgY29udHJvbHMgYXV0by1zY3JvbGwsIG5vdCBjaGVja2JveGVzIG9yIG90aGVyIGVsZW1lbnRzXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIGNoZWNrYm94IGlzIGZvY3VzZWQsIGJsdXIgaXRcbiAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnSU5QVVQnICYmICh0YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICh0YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuYmx1cigpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBUb2dnbGUgYXV0by1zY3JvbGw6IGlmIHN0b3BwZWQsIHN0YXJ0IGl0OyBpZiBhY3RpdmUsIHN0b3AgaXRcbiAgICAgICAgc2V0QXV0b1Njcm9sbEFjdGl2ZShwcmV2ID0+ICFwcmV2KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gVXNlIGNhcHR1cmUgcGhhc2UgdG8gY2F0Y2ggdGhlIGV2ZW50IGJlZm9yZSBvdGhlciBoYW5kbGVyc1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93biwgdHJ1ZSk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93biwgdHJ1ZSk7XG4gICAgfTtcbiAgfSwgW2F1dG9TY3JvbGxFbmFibGVkXSk7XG5cbiAgLy8gR2xvYmFsIHBlci1maWxlbmFtZSB0b2dnbGUgb24gY3VycmVudCBwYWdlOlxuICAvLyBXaGVuIHVzZXIgY2hlY2tzL3VuY2hlY2tzIG9uZSBpbnN0YW5jZSBvZiBhIGZpbGVuYW1lLCBhcHBseSB0aGUgc2FtZVxuICAvLyBjaGVja2VkIHN0YXRlIHRvIGFsbCBpdHMgYXBwZWFyYW5jZXMgKGluIGFsbCBncm91cHMpIG9uIFRISVMgcGFnZSBvbmx5LlxuICBjb25zdCBoYW5kbGVGaWxlVG9nZ2xlQWxsID0gdXNlQ2FsbGJhY2soKGZpbGVuYW1lOiBzdHJpbmcsIGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBzZXRBdXRvU2VsZWN0aW9ucyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWQ6IHsgW2dyb3VwSW5kZXg6IG51bWJlcl06IHsgW2ZpbGVuYW1lOiBzdHJpbmddOiBib29sZWFuIH0gfSA9IHsgLi4ucHJldiB9O1xuICAgICAgY29uc3QgZ3JvdXBzSW5QYWdlID0gZ2V0R3JvdXBzRm9yQ3VycmVudFBhZ2UoKTtcblxuICAgICAgZm9yIChjb25zdCBncm91cEluZGV4IG9mIGdyb3Vwc0luUGFnZSkge1xuICAgICAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tncm91cEluZGV4XTtcbiAgICAgICAgaWYgKCFncm91cCB8fCAhZ3JvdXAuZmlsZXMuaW5jbHVkZXMoZmlsZW5hbWUpKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBwcmV2R3JvdXBTZWxlY3Rpb25zID0gdXBkYXRlZFtncm91cEluZGV4XSB8fCBwcmV2W2dyb3VwSW5kZXhdIHx8IHt9O1xuICAgICAgICB1cGRhdGVkW2dyb3VwSW5kZXhdID0ge1xuICAgICAgICAgIC4uLnByZXZHcm91cFNlbGVjdGlvbnMsXG4gICAgICAgICAgW2ZpbGVuYW1lXTogY2hlY2tlZFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9KTtcblxuICAgIC8vIFBlcnNpc3QgcGVyLWZpbGVuYW1lIHByZWZlcmVuY2VcbiAgICBzdG9yYWdlLnVwZGF0ZUNoZWNrZWRGaWxlcyhzdWJqZWN0LCBmaWxlbmFtZSwgY2hlY2tlZCk7XG5cbiAgICAvLyBTdG9wIGF1dG8tc2Nyb2xsIHdoZW4gdXNlciBpbnRlcmFjdHMgd2l0aCBNQ1EgYm94ZXNcbiAgICBpZiAoYXV0b1Njcm9sbEFjdGl2ZSkge1xuICAgICAgc2V0QXV0b1Njcm9sbEFjdGl2ZShmYWxzZSk7XG4gICAgfVxuICAgIFxuICAgIC8vIEJsdXIgYW55IGZvY3VzZWQgY2hlY2tib3ggaW1tZWRpYXRlbHkgdG8gcHJldmVudCBzcGFjZSBrZXkgZnJvbSB0b2dnbGluZyBpdFxuICAgIC8vIFVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdG8gZW5zdXJlIHRoaXMgaGFwcGVucyBhZnRlciBSZWFjdCdzIGV2ZW50IGhhbmRsaW5nXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIFxuICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBcbiAgICAgICAgICAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIChkb2N1bWVudC5hY3RpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5ibHVyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgLy8gTm90ZTogRmlsZSBzdGF0dXMgd2lsbCBiZSB1cGRhdGVkIG9uIHN1Ym1pdCwgbm90IG9uIHRvZ2dsZVxuICB9LCBbc3ViamVjdCwgYXV0b1Njcm9sbEFjdGl2ZSwgZ2V0R3JvdXBzRm9yQ3VycmVudFBhZ2UsIGdyb3Vwc10pO1xuXG4gIC8vIEJhY2t3YXJkcy1jb21wYXRpYmxlIGhhbmRsZXIgdXNlZCBieSBHcm91cERpc3BsYXk6IHNpbXBseSBkZWxlZ2F0ZVxuICBjb25zdCBoYW5kbGVHcm91cFRvZ2dsZSA9IHVzZUNhbGxiYWNrKChncm91cEluZGV4OiBudW1iZXIsIGZpbGVuYW1lOiBzdHJpbmcsIGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBoYW5kbGVGaWxlVG9nZ2xlQWxsKGZpbGVuYW1lLCBjaGVja2VkKTtcbiAgfSwgW2hhbmRsZUZpbGVUb2dnbGVBbGxdKTtcblxuICBjb25zdCBoYW5kbGVTdWJtaXRTaW5nbGVHcm91cCA9IGFzeW5jIChncm91cEluZGV4OiBudW1iZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2hlY2tlZEZpbGVzID0gT2JqZWN0LmVudHJpZXMoYXV0b1NlbGVjdGlvbnNbZ3JvdXBJbmRleF0gfHwge30pXG4gICAgICAgIC5maWx0ZXIoKFtfLCBjaGVja2VkXSkgPT4gY2hlY2tlZClcbiAgICAgICAgLm1hcCgoW2ZpbGVuYW1lXSkgPT4gZmlsZW5hbWUpO1xuICAgICAgXG4gICAgICBhd2FpdCBhcGkuc3VibWl0R3JvdXAoc3ViamVjdCwgZ3JvdXBJbmRleCwgY2hlY2tlZEZpbGVzKTtcbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIENvbnRleHQgYWZ0ZXIgc3VibWl0XG4gICAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tncm91cEluZGV4XTtcbiAgICAgIGZvciAoY29uc3QgZmlsZW5hbWUgb2YgZ3JvdXAuZmlsZXMpIHtcbiAgICAgICAgY29uc3QgaXNDaGVja2VkID0gY2hlY2tlZEZpbGVzLmluY2x1ZGVzKGZpbGVuYW1lKTtcbiAgICAgICAgZmlsZVN0YXR1c0NvbnRleHQuc2V0RmlsZVN0YXR1cyhmaWxlbmFtZSwge1xuICAgICAgICAgIHN0YXR1czogaXNDaGVja2VkID8gJ3NhdmVkJyA6ICdyZW1vdmVkJyxcbiAgICAgICAgICBjaGVja2VkOiBpc0NoZWNrZWRcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbGVTdGF0dXNDb250ZXh0LnNldEZpbGVDaGVja2VkKGZpbGVuYW1lLCBpc0NoZWNrZWQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBOb3RpZnkgcGFyZW50XG4gICAgICBvbkdyb3Vwc1N1Ym1pdHRlZCgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3VibWl0IGdyb3VwOicsIGVycm9yKTtcbiAgICAgIGFsZXJ0KCdFcnJvciBzdWJtaXR0aW5nIGdyb3VwJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdEFsbEluUGFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAvLyBTaG93IGNvbmZpcm1hdGlvbiBtb2RhbCBmaXJzdFxuICAgIHNldFNob3dDb25maXJtTW9kYWwodHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29uZmlybVN1Ym1pdEFsbCA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRTaG93Q29uZmlybU1vZGFsKGZhbHNlKTtcbiAgICBzZXRTdWJtaXR0aW5nKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgY291bnRzIEJFRk9SRSBzdWJtaXNzaW9uXG4gICAgICBsZXQgc2F2ZWRDb3VudEJlZm9yZSA9IDA7XG4gICAgICBsZXQgcmVtb3ZlZENvdW50QmVmb3JlID0gMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN1bW1hcnlCZWZvcmUgPSBhd2FpdCBhcGkuZ2V0U3VtbWFyeShzdWJqZWN0KTtcbiAgICAgICAgc2F2ZWRDb3VudEJlZm9yZSA9IHN1bW1hcnlCZWZvcmUuZmluYWxfc2F2ZWQgfHwgMDtcbiAgICAgICAgcmVtb3ZlZENvdW50QmVmb3JlID0gc3VtbWFyeUJlZm9yZS5maW5hbF9yZW1vdmVkIHx8IDA7XG4gICAgICAgIGNvbnNvbGUubG9nKGBCZWZvcmUgc3VibWlzc2lvbiAtIFNhdmVkOiAke3NhdmVkQ291bnRCZWZvcmV9LCBSZW1vdmVkOiAke3JlbW92ZWRDb3VudEJlZm9yZX1gKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgc3VtbWFyeSBiZWZvcmU6JywgZXJyb3IpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBncm91cHNJblBhZ2UgPSBnZXRHcm91cHNGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgZmluYWwgc3RhdGUgZm9yIGVhY2ggZmlsZTogaWYgY2hlY2tlZCBpbiBBTlkgZ3JvdXAgPSBzYXZlZFxuICAgICAgLy8gVGhpcyBlbnN1cmVzIGZpbGVzIGNoZWNrZWQgZXZlbiBvbmNlIHJlbWFpbiBzYXZlZCwgZXZlbiBpZiB1bmNoZWNrZWQgaW4gb3RoZXIgZ3JvdXBzXG4gICAgICBjb25zdCBmaWxlRmluYWxTdGF0ZXM6IHsgW2ZpbGVuYW1lOiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcbiAgICAgIFxuICAgICAgLy8gRmlyc3QgcGFzczogRGV0ZXJtaW5lIGZpbmFsIHN0YXRlIGZvciBlYWNoIGZpbGVcbiAgICAgIC8vIEluaXRpYWxpemUgYWxsIGZpbGVzIHRvIGZhbHNlIGZpcnN0LCB0aGVuIHNldCB0byB0cnVlIGlmIGNoZWNrZWQgaW4gYW55IGdyb3VwXG4gICAgICBmb3IgKGNvbnN0IGdyb3VwSW5kZXggb2YgZ3JvdXBzSW5QYWdlKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzW2dyb3VwSW5kZXhdO1xuICAgICAgICBmb3IgKGNvbnN0IGZpbGVuYW1lIG9mIGdyb3VwLmZpbGVzKSB7XG4gICAgICAgICAgaWYgKCEoZmlsZW5hbWUgaW4gZmlsZUZpbmFsU3RhdGVzKSkge1xuICAgICAgICAgICAgZmlsZUZpbmFsU3RhdGVzW2ZpbGVuYW1lXSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTZWNvbmQgcGFzczogU2V0IHRvIHRydWUgaWYgY2hlY2tlZCBpbiBBTlkgZ3JvdXBcbiAgICAgIGZvciAoY29uc3QgZ3JvdXBJbmRleCBvZiBncm91cHNJblBhZ2UpIHtcbiAgICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHNbZ3JvdXBJbmRleF07XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbnMgPSBhdXRvU2VsZWN0aW9uc1tncm91cEluZGV4XSB8fCB7fTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgZmlsZW5hbWUgb2YgZ3JvdXAuZmlsZXMpIHtcbiAgICAgICAgICBjb25zdCBpc0NoZWNrZWQgPSBzZWxlY3Rpb25zW2ZpbGVuYW1lXSA/PyBmYWxzZTtcbiAgICAgICAgICAvLyBJZiBmaWxlIGlzIGNoZWNrZWQgaW4gQU5ZIGdyb3VwLCBmaW5hbCBzdGF0ZSBpcyBzYXZlZCAodHJ1ZSlcbiAgICAgICAgICBpZiAoaXNDaGVja2VkKSB7XG4gICAgICAgICAgICBmaWxlRmluYWxTdGF0ZXNbZmlsZW5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSWYgdW5jaGVja2VkLCBrZWVwIGFzIGZhbHNlIChhbHJlYWR5IGluaXRpYWxpemVkIGFib3ZlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGxldCB0b3RhbE1vdmVkVG9SZW1vdmVkID0gMDsgLy8gRmlsZXMgbW92ZWQgRlJPTSBzYXZlZCBUTyByZW1vdmVkIGluIHRoaXMgc3VibWlzc2lvblxuICAgICAgbGV0IHRvdGFsVW5jaGVja2VkRnJvbVNhdmVkID0gMDsgLy8gQWxsIGZpbGVzIHVuY2hlY2tlZCB0aGF0IHdlcmUgaW4gc2F2ZWQgZm9sZGVyXG4gICAgICBsZXQgdG90YWxOZXdseUFkZGVkVG9TYXZlZCA9IDA7IC8vIEZpbGVzIG5ld2x5IGFkZGVkIHRvIHNhdmVkX2RiIChmcm9tIHVua25vd24gb3IgcmVtb3ZlZClcbiAgICAgIGxldCB0b3RhbEdyb3Vwc1N1Ym1pdHRlZCA9IDA7XG4gICAgICBcbiAgICAgIC8vIFN1Ym1pdCBhbGwgZ3JvdXBzIGluIGN1cnJlbnQgcGFnZVxuICAgICAgZm9yIChjb25zdCBncm91cEluZGV4IG9mIGdyb3Vwc0luUGFnZSkge1xuICAgICAgICBjb25zdCBncm91cCA9IGdyb3Vwc1tncm91cEluZGV4XTtcbiAgICAgICAgXG4gICAgICAgIC8vIEJ1aWxkIGNoZWNrZWRGaWxlcyBsaXN0IGJhc2VkIG9uIGZpbmFsIHN0YXRlLCBub3QganVzdCB0aGlzIGdyb3VwJ3Mgc2VsZWN0aW9uXG4gICAgICAgIC8vIElmIGZpbGUncyBmaW5hbCBzdGF0ZSBpcyBzYXZlZCAoY2hlY2tlZCBpbiBhbnkgZ3JvdXApLCBpbmNsdWRlIGl0IGluIGNoZWNrZWRGaWxlc1xuICAgICAgICBjb25zdCBjaGVja2VkRmlsZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZmlsZW5hbWUgb2YgZ3JvdXAuZmlsZXMpIHtcbiAgICAgICAgICBjb25zdCBmaW5hbFN0YXRlID0gZmlsZUZpbmFsU3RhdGVzW2ZpbGVuYW1lXTtcbiAgICAgICAgICAvLyBPbmx5IGluY2x1ZGUgZmlsZSBpZiBmaW5hbFN0YXRlIGlzIGV4cGxpY2l0bHkgdHJ1ZVxuICAgICAgICAgIC8vIElmIGZpbmFsU3RhdGUgaXMgZmFsc2Ugb3IgdW5kZWZpbmVkLCBmaWxlIHdpbGwgYmUgcmVtb3ZlZCAobm90IGluIGNoZWNrZWRGaWxlcylcbiAgICAgICAgICBpZiAoZmluYWxTdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gRmlsZSBzaG91bGQgYmUgc2F2ZWQgKGNoZWNrZWQgaW4gYXQgbGVhc3Qgb25lIGdyb3VwKVxuICAgICAgICAgICAgY2hlY2tlZEZpbGVzLnB1c2goZmlsZW5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJZiBmaW5hbFN0YXRlIGlzIGZhbHNlIG9yIHVuZGVmaW5lZCwgZG9uJ3QgYWRkIHRvIGNoZWNrZWRGaWxlcyAod2lsbCBiZSByZW1vdmVkKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5zdWJtaXRHcm91cChzdWJqZWN0LCBncm91cEluZGV4LCBjaGVja2VkRmlsZXMpO1xuICAgICAgICB0b3RhbEdyb3Vwc1N1Ym1pdHRlZCsrO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIENvbnRleHQgYWZ0ZXIgZWFjaCBncm91cCBzdWJtaXQgYmFzZWQgb24gZmluYWwgc3RhdGVcbiAgICAgICAgZm9yIChjb25zdCBmaWxlbmFtZSBvZiBncm91cC5maWxlcykge1xuICAgICAgICAgIGNvbnN0IGZpbmFsU3RhdGUgPSBmaWxlRmluYWxTdGF0ZXNbZmlsZW5hbWVdO1xuICAgICAgICAgIGZpbGVTdGF0dXNDb250ZXh0LnNldEZpbGVTdGF0dXMoZmlsZW5hbWUsIHtcbiAgICAgICAgICAgIHN0YXR1czogZmluYWxTdGF0ZSA9PT0gdHJ1ZSA/ICdzYXZlZCcgOiAncmVtb3ZlZCcsXG4gICAgICAgICAgICBjaGVja2VkOiBmaW5hbFN0YXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZmlsZVN0YXR1c0NvbnRleHQuc2V0RmlsZUNoZWNrZWQoZmlsZW5hbWUsIGZpbmFsU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBY2N1bXVsYXRlIHN0YXRpc3RpY3NcbiAgICAgICAgaWYgKHJlc3BvbnNlLm1vdmVkX3RvX3JlbW92ZWQpIHtcbiAgICAgICAgICB0b3RhbE1vdmVkVG9SZW1vdmVkICs9IHJlc3BvbnNlLm1vdmVkX3RvX3JlbW92ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3BvbnNlLnVuY2hlY2tlZF9mcm9tX3NhdmVkKSB7XG4gICAgICAgICAgdG90YWxVbmNoZWNrZWRGcm9tU2F2ZWQgKz0gcmVzcG9uc2UudW5jaGVja2VkX2Zyb21fc2F2ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3BvbnNlLm5ld2x5X2FkZGVkX3RvX3NhdmVkKSB7XG4gICAgICAgICAgdG90YWxOZXdseUFkZGVkVG9TYXZlZCArPSByZXNwb25zZS5uZXdseV9hZGRlZF90b19zYXZlZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYEdyb3VwICR7Z3JvdXBJbmRleH0gc3VibWl0dGVkOmAsIHtcbiAgICAgICAgICBtb3ZlZF90b19yZW1vdmVkOiByZXNwb25zZS5tb3ZlZF90b19yZW1vdmVkLFxuICAgICAgICAgIHVuY2hlY2tlZF9mcm9tX3NhdmVkOiByZXNwb25zZS51bmNoZWNrZWRfZnJvbV9zYXZlZCxcbiAgICAgICAgICBuZXdseV9hZGRlZF90b19zYXZlZDogcmVzcG9uc2UubmV3bHlfYWRkZWRfdG9fc2F2ZWQsXG4gICAgICAgICAgc2F2ZWRfY291bnQ6IHJlc3BvbnNlLnNhdmVkX2NvdW50LFxuICAgICAgICAgIHJlbW92ZWRfY291bnQ6IHJlc3BvbnNlLnJlbW92ZWRfY291bnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBUb3RhbCAtIE1vdmVkIHRvIHJlbW92ZWQ6ICR7dG90YWxNb3ZlZFRvUmVtb3ZlZH0sIFVuY2hlY2tlZCBmcm9tIHNhdmVkOiAke3RvdGFsVW5jaGVja2VkRnJvbVNhdmVkfSwgTmV3bHkgYWRkZWQgdG8gc2F2ZWQ6ICR7dG90YWxOZXdseUFkZGVkVG9TYXZlZH0sIEdyb3VwczogJHt0b3RhbEdyb3Vwc1N1Ym1pdHRlZH1gKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGN1cnJlbnQgZm9sZGVyIGNvdW50cyBBRlRFUiBzdWJtaXNzaW9uXG4gICAgICBsZXQgc2F2ZWRDb3VudEFmdGVyID0gMDtcbiAgICAgIGxldCByZW1vdmVkQ291bnRBZnRlciA9IDA7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdW1tYXJ5QWZ0ZXIgPSBhd2FpdCBhcGkuZ2V0U3VtbWFyeShzdWJqZWN0KTtcbiAgICAgICAgc2F2ZWRDb3VudEFmdGVyID0gc3VtbWFyeUFmdGVyLmZpbmFsX3NhdmVkIHx8IDA7XG4gICAgICAgIHJlbW92ZWRDb3VudEFmdGVyID0gc3VtbWFyeUFmdGVyLmZpbmFsX3JlbW92ZWQgfHwgMDtcbiAgICAgICAgY29uc29sZS5sb2coYEFmdGVyIHN1Ym1pc3Npb24gLSBTYXZlZDogJHtzYXZlZENvdW50QWZ0ZXJ9LCBSZW1vdmVkOiAke3JlbW92ZWRDb3VudEFmdGVyfWApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGdldCBzdW1tYXJ5IGFmdGVyOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIGFjdHVhbCBjaGFuZ2VzXG4gICAgICBjb25zdCBhY3R1YWxSZW1vdmVkRnJvbVNhdmVkID0gc2F2ZWRDb3VudEJlZm9yZSAtIHNhdmVkQ291bnRBZnRlcjsgLy8gSG93IG1hbnkgd2VyZSByZW1vdmVkIGZyb20gc2F2ZWRcbiAgICAgIGNvbnN0IGFjdHVhbEFkZGVkVG9SZW1vdmVkID0gcmVtb3ZlZENvdW50QWZ0ZXIgLSByZW1vdmVkQ291bnRCZWZvcmU7IC8vIEhvdyBtYW55IHdlcmUgYWRkZWQgdG8gcmVtb3ZlZFxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgQWN0dWFsIGNoYW5nZXMgLSBSZW1vdmVkIGZyb20gc2F2ZWQ6ICR7YWN0dWFsUmVtb3ZlZEZyb21TYXZlZH0sIEFkZGVkIHRvIHJlbW92ZWQ6ICR7YWN0dWFsQWRkZWRUb1JlbW92ZWR9YCk7XG4gICAgICBcbiAgICAgIC8vIFNob3cgc3VjY2VzcyBtb2RhbCB3aXRoIHN0YXRpc3RpY3MgKGFsd2F5cyBzaG93IGlmIGdyb3VwcyB3ZXJlIHN1Ym1pdHRlZClcbiAgICAgIGlmICh0b3RhbEdyb3Vwc1N1Ym1pdHRlZCA+IDApIHtcbiAgICAgICAgLy8gVXNlIGFjdHVhbCBjaGFuZ2VzIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHVzZSB0cmFja2VkIHZhbHVlc1xuICAgICAgICAvLyBVc2UgbW92ZWRfdG9fcmVtb3ZlZCBpbnN0ZWFkIG9mIHVuY2hlY2tlZF9mcm9tX3NhdmVkIGJlY2F1c2UgdW5jaGVja2VkX2Zyb21fc2F2ZWRcbiAgICAgICAgLy8gaW5jb3JyZWN0bHkgaW5jbHVkZXMgZmlsZXMgdGhhdCB3ZXJlIGFscmVhZHkgaW4gUkVNT1ZFRCAobmV2ZXIgaW4gU0FWRUQpXG4gICAgICAgIGNvbnN0IHJlbW92ZWRGcm9tU2F2ZWQgPSBhY3R1YWxSZW1vdmVkRnJvbVNhdmVkID4gMCA/IGFjdHVhbFJlbW92ZWRGcm9tU2F2ZWQgOiB0b3RhbE1vdmVkVG9SZW1vdmVkO1xuICAgICAgICBjb25zdCBhZGRlZFRvU2F2ZWQgPSB0b3RhbE5ld2x5QWRkZWRUb1NhdmVkOyAvLyBGaWxlcyBuZXdseSBhZGRlZCB0byBzYXZlZF9kYlxuICAgICAgICBjb25zdCBhZGRlZFRvUmVtb3ZlZCA9IGFjdHVhbEFkZGVkVG9SZW1vdmVkID4gMCA/IGFjdHVhbEFkZGVkVG9SZW1vdmVkIDogdG90YWxNb3ZlZFRvUmVtb3ZlZDtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXR0aW5nIHN1Y2Nlc3MgbW9kYWwgd2l0aCBzdGF0czonLCB7XG4gICAgICAgICAgcmVtb3ZlZEZyb21TYXZlZCxcbiAgICAgICAgICBhZGRlZFRvU2F2ZWQsXG4gICAgICAgICAgYWRkZWRUb1JlbW92ZWQsXG4gICAgICAgICAgc2F2ZWRDb3VudEFmdGVyLFxuICAgICAgICAgIHJlbW92ZWRDb3VudEFmdGVyXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc2V0U3VjY2Vzc1N0YXRzKHtcbiAgICAgICAgICBtb3ZlZFRvUmVtb3ZlZDogcmVtb3ZlZEZyb21TYXZlZCxcbiAgICAgICAgICBhZGRlZFRvU2F2ZWQ6IGFkZGVkVG9TYXZlZCxcbiAgICAgICAgICBhZGRlZFRvUmVtb3ZlZDogYWRkZWRUb1JlbW92ZWQsXG4gICAgICAgICAgc2F2ZWRDb3VudDogc2F2ZWRDb3VudEFmdGVyLFxuICAgICAgICAgIHJlbW92ZWRDb3VudDogcmVtb3ZlZENvdW50QWZ0ZXJcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgbmV4dCBwYWdlOiBzdGFydCBmcm9tIGN1cnJlbnRFbmQgYW5kIGV4cGFuZCB1bnRpbCBhcHByb3hpbWF0ZWx5IHRhcmdldEdyb3Vwc1BlclBhZ2UgZ3JvdXBzXG4gICAgICAgIGxldCBuZXh0UmFuZ2U6IHsgc3RhcnQ6IG51bWJlcjsgZW5kOiBudW1iZXIgfSB8IG51bGwgPSBudWxsO1xuICAgICAgICBsZXQgaGFzTmV4dCA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgaWYgKGhhc05leHRQYWdlKCkpIHtcbiAgICAgICAgICBjb25zdCBtaW5MZXZlbCA9IHNpbWlsYXJpdHlMZXZlbHMubGVuZ3RoID4gMCA/IHNpbWlsYXJpdHlMZXZlbHNbc2ltaWxhcml0eUxldmVscy5sZW5ndGggLSAxXSA6IDg1LjA7XG4gICAgICAgICAgY29uc3QgbmV4dFN0YXJ0ID0gc2ltaWxhcml0eVJhbmdlRW5kO1xuICAgICAgICAgIGNvbnN0IGNhbGN1bGF0ZWROZXh0ID0gY2FsY3VsYXRlUmFuZ2VGcm9tVGFyZ2V0R3JvdXBzKG5leHRTdGFydCwgdGFyZ2V0R3JvdXBzUGVyUGFnZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGNhbGN1bGF0ZWROZXh0LmVuZCA+PSBtaW5MZXZlbCkge1xuICAgICAgICAgICAgbmV4dFJhbmdlID0gY2FsY3VsYXRlZE5leHQ7XG4gICAgICAgICAgICBoYXNOZXh0ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFNldCBuZXh0IHBhZ2UgaW5mbyBhbmQgc3RhcnQgbG9hZGluZyBpbiBiYWNrZ3JvdW5kXG4gICAgICAgIHNldE5leHRQYWdlSW5mbyh7XG4gICAgICAgICAgbmV4dFJhbmdlLFxuICAgICAgICAgIGhhc05leHRQYWdlOiBoYXNOZXh0LFxuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgc2V0U2hvd1N1Y2Nlc3NNb2RhbCh0cnVlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ01vZGFsIHNob3VsZCBiZSB2aXNpYmxlIG5vdycpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNYXJrIHBhZ2UgYXMgY29tcGxldGVkXG4gICAgICBzZXRQYWdlQ29tcGxldGVkKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBUcmFjayByZW1vdmVkIGZpbGVzIGFmdGVyIHN1Y2Nlc3NmdWwgc3VibWlzc2lvblxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXBpLnRyYWNrUmVtb3ZlZChzdWJqZWN0KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1JlbW92ZWQgZmlsZXMgdHJhY2tlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB0cmFjayByZW1vdmVkIGZpbGVzOicsIGVycm9yKTtcbiAgICAgICAgLy8gRG9uJ3QgZmFpbCB0aGUgd2hvbGUgb3BlcmF0aW9uIGlmIHRyYWNraW5nIGZhaWxzXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE5vdGlmeSBwYXJlbnRcbiAgICAgIG9uR3JvdXBzU3VibWl0dGVkKCk7XG4gICAgICBcbiAgICAgIC8vIFJhbmdlIGlzIGFscmVhZHkgc2F2ZWQgdG8gbG9jYWxTdG9yYWdlIHZpYSB1c2VFZmZlY3QgKGxpbmVzIDY3Ny02ODgpXG4gICAgICBcbiAgICAgIC8vIFN0b3AgbG9hZGluZyBvbmx5IGFmdGVyIHN1Y2Nlc3MgbW9kYWwgaXMgc2hvd25cbiAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3VibWl0IGdyb3VwczonLCBlcnJvcik7XG4gICAgICBhbGVydCgnRXJyb3Igc3VibWl0dGluZyBncm91cHMnKTtcbiAgICAgIHNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBpZiAoaW5pdGlhbGl6aW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgcHktMjRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTE2IHctMTYgYm9yZGVyLWItNCBib3JkZXItYmx1ZS02MDAgbXgtYXV0byBtYi00XCI+PC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCB0ZXh0LWxnXCI+SW5pdGlhbGl6aW5nIHNpbWlsYXJpdHkgZ3JvdXBzLi4uPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1zbSBtdC0yXCI+TG9hZGluZyBncm91cHMgYW5kIGF1dG8tc2VsZWN0aW5nIGJlc3QgTUNRczwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gVXNlIHJlb3JkZXJlZCBncm91cHMgZm9yIGRpc3BsYXkgKGZpbGUgYXBwZWFyYW5jZXMgZ3JvdXBlZCB0b2dldGhlcilcbiAgY29uc3QgZ3JvdXBzSW5QYWdlID0gZ2V0UmVvcmRlcmVkR3JvdXBzRm9yUGFnZSgpO1xuICBcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICB7LyogTG9hZGluZyBPdmVybGF5IC0gU2hvd3MgZHVyaW5nIHN1Ym1pc3Npb24gb3IgbmV4dCBwYWdlIGxvYWRpbmcgKi99XG4gICAgICB7KHN1Ym1pdHRpbmcgfHwgbG9hZGluZ05leHRQYWdlKSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotWzExMF1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy0yeGwgcC04IG1heC13LW1kIG14LTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTYgdy0xNiBib3JkZXItYi00IGJvcmRlci1ibHVlLTYwMCBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICB7c3VibWl0dGluZyA/ICdTdWJtaXR0aW5nIEdyb3Vwcy4uLicgOiAnTG9hZGluZyBOZXh0IFBhZ2UuLi4nfVxuICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAge3N1Ym1pdHRpbmcgPyAnUGxlYXNlIHdhaXQgd2hpbGUgZ3JvdXBzIGFyZSBiZWluZyBwcm9jZXNzZWQnIDogJ1ByZXBhcmluZyBuZXh0IHBhZ2UgZm9yIHJldmlldyd9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBDb25maXJtYXRpb24gTW9kYWwgKi99XG4gICAgICB7c2hvd0NvbmZpcm1Nb2RhbCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHotWzEwMF1cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy0yeGwgcC04IG1heC13LW1kIG14LTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIG1iLTZcIj5cbiAgICAgICAgICAgICAgICBDb25maXJtIFN1Ym1pc3Npb25cbiAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zIG10LThcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q29uZmlybU1vZGFsKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC02IHB5LTMgYmctZ3JheS0zMDAgaG92ZXI6YmctZ3JheS00MDAgdGV4dC1ncmF5LTgwMCBmb250LXNlbWlib2xkIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGxcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbmZpcm1TdWJtaXRBbGx9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c3VibWl0dGluZ31cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC02IHB5LTMgYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCBkaXNhYmxlZDpiZy1ncmVlbi00MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGxcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtzdWJtaXR0aW5nID8gJ1N1Ym1pdHRpbmcuLi4nIDogJ0NvbmZpcm0nfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBTdWNjZXNzIE1vZGFsICovfVxuICAgICAge3Nob3dTdWNjZXNzTW9kYWwgJiYgc3VjY2Vzc1N0YXRzICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei1bMTAwXVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC0yeGwgc2hhZG93LTJ4bCBwLTggbWF4LXctbWQgbXgtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtNnhsIG1iLTRcIj7inJM8L2Rpdj5cbiAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgICBTdWNjZXNzZnVsbHkgU3VibWl0dGVkIVxuICAgICAgICAgICAgICA8L2gyPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNCBtYi02XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktODAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtcmVkLTYwMCB0ZXh0LWxnXCI+e3N1Y2Nlc3NTdGF0cy5tb3ZlZFRvUmVtb3ZlZH08L3NwYW4+IE1DUXMgcmVtb3ZlZCBmcm9tIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5TQVZFRDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktODAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JlZW4tNjAwIHRleHQtbGdcIj57c3VjY2Vzc1N0YXRzLmFkZGVkVG9TYXZlZH08L3NwYW4+IE1DUXMgYWRkZWQgdG8gPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPlNBVkVEPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICh7c3VjY2Vzc1N0YXRzLnNhdmVkQ291bnR9IE1DUXMgcHJlc2VudClcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLW9yYW5nZS01MCBib3JkZXIgYm9yZGVyLW9yYW5nZS0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtb3JhbmdlLTYwMCB0ZXh0LWxnXCI+e3N1Y2Nlc3NTdGF0cy5hZGRlZFRvUmVtb3ZlZH08L3NwYW4+IE1DUXMgYWRkZWQgdG8gPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPlJFTU9WRUQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAoe3N1Y2Nlc3NTdGF0cy5yZW1vdmVkQ291bnR9IE1DUXMgcHJlc2VudClcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHsvKiBOZXh0IHBhZ2UgaW5mbyAqL31cbiAgICAgICAgICAgICAge25leHRQYWdlSW5mbyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtMyBiZy1ibHVlLTUwIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAge25leHRQYWdlSW5mby5oYXNOZXh0UGFnZSAmJiBuZXh0UGFnZUluZm8ubmV4dFJhbmdlID8gKFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBOZXh0IHBhZ2UgcmVhZHk6IHtuZXh0UGFnZUluZm8ubmV4dFJhbmdlLnN0YXJ0LnRvRml4ZWQoMil9JSAtIHtuZXh0UGFnZUluZm8ubmV4dFJhbmdlLmVuZC50b0ZpeGVkKDIpfSVcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICDinJMgQWxsIHBhZ2VzIGNvbXBsZXRlZCEgTm8gbW9yZSBncm91cHMgdG8gcmV2aWV3LlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFNob3dTdWNjZXNzTW9kYWwoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgc2V0U3VjY2Vzc1N0YXRzKG51bGwpO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAvLyBBdXRvLWFkdmFuY2UgdG8gbmV4dCBwYWdlIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgaWYgKG5leHRQYWdlSW5mbz8uaGFzTmV4dFBhZ2UgJiYgbmV4dFBhZ2VJbmZvLm5leHRSYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdGFydCBsb2FkaW5nIG5leHQgcGFnZSBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nTmV4dFBhZ2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGN1cnJlbnQgcGFnZSB0byBoaXN0b3J5XG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2VIaXN0b3J5KHByZXYgPT4gWy4uLnByZXYsIHsgc3RhcnQ6IHNpbWlsYXJpdHlSYW5nZVN0YXJ0LCBlbmQ6IHNpbWlsYXJpdHlSYW5nZUVuZCB9XSk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0ZSB0byBuZXh0IHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgc2V0U2ltaWxhcml0eVJhbmdlU3RhcnQobmV4dFBhZ2VJbmZvLm5leHRSYW5nZS5zdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNpbWlsYXJpdHlSYW5nZUVuZChuZXh0UGFnZUluZm8ubmV4dFJhbmdlLmVuZCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2VDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gUmFuZ2Ugd2lsbCBiZSBzYXZlZCB0byBsb2NhbFN0b3JhZ2UgYXV0b21hdGljYWxseSB2aWEgdXNlRWZmZWN0XG4gICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIGdyb3VwcyB0byBsb2FkIC0gY2hlY2sgcGVyaW9kaWNhbGx5IHVudGlsIGdyb3VwcyBhcmUgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrR3JvdXBzTG9hZGVkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyb3Vwc0luTmV3UGFnZSA9IGdldEdyb3Vwc0ZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcCBsb2FkaW5nIHdoZW4gZ3JvdXBzIGFyZSBsb2FkZWQgb3IgaWYgbm8gbW9yZSBwYWdlc1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChncm91cHNJbk5ld1BhZ2UubGVuZ3RoID4gMCB8fCAhaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0dyb3Vwc0xvYWRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMb2FkaW5nTmV4dFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIFNhZmV0eSB0aW1lb3V0IC0gc3RvcCBsb2FkaW5nIGFmdGVyIDUgc2Vjb25kcyBtYXhcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0dyb3Vwc0xvYWRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0TG9hZGluZ05leHRQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBuZXh0IHBhZ2UsIGp1c3QgY2xvc2UgbW9kYWxcbiAgICAgICAgICAgICAgICAgICAgc2V0TmV4dFBhZ2VJbmZvKG51bGwpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvYWRpbmdOZXh0UGFnZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNiBweS0zIGJnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwIGRpc2FibGVkOmJnLWJsdWUtNDAwIHRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtsb2FkaW5nTmV4dFBhZ2UgPyAnTG9hZGluZyBOZXh0IFBhZ2UuLi4nIDogKG5leHRQYWdlSW5mbz8uaGFzTmV4dFBhZ2UgPyAnT0sgLSBHbyB0byBOZXh0IFBhZ2UnIDogJ09LJyl9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIEZsb2F0aW5nIFN1Ym1pdCBBbGwgQnV0dG9uIC0gQWx3YXlzIHZpc2libGUgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIHRvcC04IHJpZ2h0LTggei01MFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0QWxsSW5QYWdlfVxuICAgICAgICAgIGRpc2FibGVkPXtzdWJtaXR0aW5nIHx8IGZpbGVTdGF0dXNDb250ZXh0LmxvYWRpbmdTdGF0dXNlcyB8fCBwYWdlQ29tcGxldGVkIHx8IGluaXRpYWxpemluZyB8fCAhZ3JvdXBzUmVhZHlGb3JTdWJtaXR9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicHgtNiBweS0zIGJnLWdyZWVuLTYwMCBob3ZlcjpiZy1ncmVlbi03MDAgZGlzYWJsZWQ6YmctZ3JlZW4tNDAwIHRleHQtd2hpdGUgZm9udC1ib2xkIHJvdW5kZWQtZnVsbCBzaGFkb3ctMnhsIHRyYW5zZm9ybSBob3ZlcjpzY2FsZS0xMDUgdHJhbnNpdGlvbi1hbGwgbWluLXctWzI4MHB4XVwiXG4gICAgICAgID5cbiAgICAgICAgICB7c3VibWl0dGluZyA/IChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmFzZVwiPlN1Ym1pdHRpbmcuLi48L3NwYW4+XG4gICAgICAgICAgKSA6IGluaXRpYWxpemluZyA/IChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmFzZVwiPkluaXRpYWxpemluZy4uLjwvc3Bhbj5cbiAgICAgICAgICApIDogZmlsZVN0YXR1c0NvbnRleHQubG9hZGluZ1N0YXR1c2VzID8gKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+TG9hZGluZy4uLjwvc3Bhbj5cbiAgICAgICAgICApIDogIWdyb3Vwc1JlYWR5Rm9yU3VibWl0ID8gKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+QXBwbHlpbmcgYXV0byBzZWxlY3Rpb25zLi4uPC9zcGFuPlxuICAgICAgICAgICkgOiBwYWdlQ29tcGxldGVkID8gKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+4pyTIFBhZ2UgQ29tcGxldGVkPC9zcGFuPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0xLjVcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1ib2xkXCI+U3VibWl0IEFsbCAoe3RvdGFsR3JvdXBzSW5QYWdlfSBncm91cHMpPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW5vcm1hbCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMi41XCI+XG4gICAgICAgICAgICAgICAge3dpbGxNb3ZlVG9TYXZlZCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi0xMDBcIj5TYXZpbmc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJnLWdyZWVuLTgwMCBweC0yIHB5LTAuNSByb3VuZGVkIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCI+e3dpbGxNb3ZlVG9TYXZlZH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tMTAwXCI+TUNRczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHt3aWxsTW92ZVRvU2F2ZWQgPiAwICYmIHdpbGxNb3ZlVG9SZW1vdmVkID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTMwMFwiPuKAojwvc3Bhbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHt3aWxsTW92ZVRvUmVtb3ZlZCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtMTAwXCI+UmVtb3Zpbmc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJnLXJlZC04MDAgcHgtMiBweS0wLjUgcm91bmRlZCBmb250LWJvbGQgdGV4dC13aGl0ZVwiPnt3aWxsTW92ZVRvUmVtb3ZlZH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcmVkLTEwMFwiPk1DUXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7d2lsbE1vdmVUb1NhdmVkID09PSAwICYmIHdpbGxNb3ZlVG9SZW1vdmVkID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS0zMDAgdGV4dC14c1wiPk5vIGNoYW5nZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogU2ltaWxhcml0eSBSYW5nZSBIZWFkZXIgLSBTY3JvbGxhYmxlICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTQgbWItMiBib3JkZXItYi00IGJvcmRlci1ibHVlLTYwMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBtYi0zXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1ibHVlLTYwMFwiPlxuICAgICAgICAgICAgICBTaW1pbGFyaXR5OiB7c2ltaWxhcml0eVJhbmdlU3RhcnQudG9GaXhlZCgyKX0lIC0ge3NpbWlsYXJpdHlSYW5nZUVuZC50b0ZpeGVkKDIpfSVcbiAgICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbXQtMVwiPlxuICAgICAgICAgICAgICB7dG90YWxHcm91cHNJblBhZ2V9IC8ge2dyb3Vwcy5sZW5ndGh9IGdyb3Vwe2dyb3Vwcy5sZW5ndGggIT09IDEgPyAncycgOiAnJ30gb24gdGhpcyBwYWdlXG4gICAgICAgICAgICAgIHtwYWdlQ29tcGxldGVkICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHB4LTIgcHktMSBiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAgcm91bmRlZCBmb250LXNlbWlib2xkXCI+XG4gICAgICAgICAgICAgICAgICDinJMgUGFnZSBDb21wbGV0ZWRcbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICB7ZmlsZVN0YXR1c0NvbnRleHQubG9hZGluZ1N0YXR1c2VzICYmIChcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIG10LTFcIj5Mb2FkaW5nIGZpbGUgc3RhdHVzZXMuLi48L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgIHsvKiBDaGVjayBBbGwgTW9kZSBUb2dnbGUgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1yLTRcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNzAwXCI+Q2hlY2sgQWxsOjwvbGFiZWw+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDaGVja0FsbE1vZGUoIWNoZWNrQWxsTW9kZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcmVsYXRpdmUgaW5saW5lLWZsZXggaC02IHctMTEgaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICAgICAgY2hlY2tBbGxNb2RlID8gJ2JnLWJsdWUtNjAwJyA6ICdiZy1ncmF5LTMwMCdcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICB0aXRsZT17Y2hlY2tBbGxNb2RlID8gJ0NoZWNrIGFsbCBleGNlcHQgcmVtb3ZlZCBmaWxlcycgOiAnVXNlIHByZWZlcmVuY2UtYmFzZWQgc2VsZWN0aW9uJ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BpbmxpbmUtYmxvY2sgaC00IHctNCB0cmFuc2Zvcm0gcm91bmRlZC1mdWxsIGJnLXdoaXRlIHRyYW5zaXRpb24tdHJhbnNmb3JtICR7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrQWxsTW9kZSA/ICd0cmFuc2xhdGUteC02JyA6ICd0cmFuc2xhdGUteC0xJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgIHtjaGVja0FsbE1vZGUgPyAnT04nIDogJ09GRid9XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogQXV0by1zY3JvbGwgVG9nZ2xlICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtci00XCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTcwMFwiPkF1dG8gU2Nyb2xsOjwvbGFiZWw+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXdFbmFibGVkID0gIWF1dG9TY3JvbGxFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgc2V0QXV0b1Njcm9sbEVuYWJsZWQobmV3RW5hYmxlZCk7XG4gICAgICAgICAgICAgICAgICBpZiAobmV3RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIGVuYWJsaW5nLCBzdGFydCBhdXRvLXNjcm9sbFxuICAgICAgICAgICAgICAgICAgICBzZXRBdXRvU2Nyb2xsQWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBkaXNhYmxpbmcsIHN0b3AgYXV0by1zY3JvbGxcbiAgICAgICAgICAgICAgICAgICAgc2V0QXV0b1Njcm9sbEFjdGl2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSBpbmxpbmUtZmxleCBoLTYgdy0xMSBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICBhdXRvU2Nyb2xsRW5hYmxlZCA/ICdiZy1ncmVlbi02MDAnIDogJ2JnLWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIHRpdGxlPXthdXRvU2Nyb2xsRW5hYmxlZCA/ICdBdXRvLXNjcm9sbCBlbmFibGVkIChwcmVzcyBTcGFjZSB0byBwYXVzZS9yZXN1bWUpJyA6ICdFbmFibGUgYXV0by1zY3JvbGwnfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGlubGluZS1ibG9jayBoLTQgdy00IHRyYW5zZm9ybSByb3VuZGVkLWZ1bGwgYmctd2hpdGUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gJHtcbiAgICAgICAgICAgICAgICAgICAgYXV0b1Njcm9sbEVuYWJsZWQgPyAndHJhbnNsYXRlLXgtNicgOiAndHJhbnNsYXRlLXgtMSdcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICB7YXV0b1Njcm9sbEVuYWJsZWQgPyAoYXV0b1Njcm9sbEFjdGl2ZSA/ICdPTicgOiAnUEFVU0VEJykgOiAnT0ZGJ31cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2dvVG9QcmV2aW91c1BhZ2V9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXshaGFzUHJldmlvdXNQYWdlKCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTQwMCBkaXNhYmxlZDpiZy1ncmF5LTIwMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgcm91bmRlZC1sZyBmb250LXNlbWlib2xkXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAg4oaQIFByZXZpb3VzIFBhZ2VcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2dvVG9OZXh0UGFnZX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFoYXNOZXh0UGFnZSgpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTIgYmctZ3JheS0zMDAgaG92ZXI6YmctZ3JheS00MDAgZGlzYWJsZWQ6YmctZ3JheS0yMDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHJvdW5kZWQtbGcgZm9udC1zZW1pYm9sZFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIE5leHQgUGFnZSDihpJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBSYW5nZSBDb250cm9scyBhbmQgVGFyZ2V0IEdyb3VwcyBTZWxlY3RvciAqL31cbiAgICAgICAge3NpbWlsYXJpdHlMZXZlbHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IG1iLTRcIj5cbiAgICAgICAgICAgIHsvKiBUYXJnZXQgR3JvdXBzIFBlciBQYWdlIFNlbGVjdG9yICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNCBiZy1ibHVlLTUwIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgcm91bmRlZC1sZyBwLTQgbWItNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNzAwXCI+VGFyZ2V0IEdyb3VwcyBQZXIgUGFnZTo8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0YXJnZXRHcm91cHNQZXJQYWdlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RhcmdldCA9IHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGFyZ2V0R3JvdXBzUGVyUGFnZShuZXdUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWNhbGN1bGF0ZSBjdXJyZW50IHJhbmdlIGJhc2VkIG9uIG5ldyB0YXJnZXQgKHByZXNlcnZlIGN1cnJlbnQgc3RhcnQgcG9zaXRpb24pXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGFydCA9IGN1cnJlbnRSYW5nZVN0YXJ0UmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY2FsY3VsYXRlZFJhbmdlID0gY2FsY3VsYXRlUmFuZ2VGcm9tVGFyZ2V0R3JvdXBzKGN1cnJlbnRTdGFydCwgbmV3VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2ltaWxhcml0eVJhbmdlU3RhcnQocmVjYWxjdWxhdGVkUmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VFbmQocmVjYWxjdWxhdGVkUmFuZ2UuZW5kKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNNYW51YWxSYW5nZShmYWxzZSk7IC8vIE1hcmsgYXMgYXV0by1jYWxjdWxhdGVkIChub3QgbWFudWFsKVxuICAgICAgICAgICAgICAgICAgICBzZXRQYWdlSGlzdG9yeShbXSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2VDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgYmctd2hpdGUgdGV4dC1ncmF5LTcwMCBmb250LXNlbWlib2xkIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17MTAwfT4xMDA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ezIwMH0+MjAwPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXszMDB9PjMwMDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPihhcHByb3hpbWF0ZSwgbm90IHN0cmljdCk8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgU2hvd2luZyA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1ibHVlLTYwMFwiPnt0b3RhbEdyb3Vwc0luUGFnZX08L3NwYW4+IC8gPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNzAwXCI+e2dyb3Vwcy5sZW5ndGh9PC9zcGFuPiBncm91cHNcbiAgICAgICAgICAgICAgICAgIHtzaW1pbGFyaXR5UmFuZ2VTdGFydCAhPT0gdW5kZWZpbmVkICYmIHNpbWlsYXJpdHlSYW5nZUVuZCAhPT0gdW5kZWZpbmVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHsnICd9KFJhbmdlOiB7c2ltaWxhcml0eVJhbmdlU3RhcnQudG9GaXhlZCgyKX0lIC0ge3NpbWlsYXJpdHlSYW5nZUVuZC50b0ZpeGVkKDIpfSUpXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogU2ltaWxhcml0eSBSYW5nZSBTbGlkZXJzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNTAgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItM1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgQWRqdXN0IHNpbWlsYXJpdHkgcmFuZ2UgbWFudWFsbHkgKG9yIHVzZSBOZXh0IFBhZ2UgZm9yIGF1dG8tY2FsY3VsYXRpb24pXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMlwiPlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZ3JheS03MDAgbWluLXctWzEwMHB4XVwiPlxuICAgICAgICAgICAgICAgIFN0YXJ0OiB7c2ltaWxhcml0eVJhbmdlU3RhcnQudG9GaXhlZCgyKX0lXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIHsvKiBGaW5lLXR1bmUgYnV0dG9ucyAoMC4wMSkgKi99XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFydCA9IE1hdGgubWF4KHNpbWlsYXJpdHlSYW5nZUVuZCwgc2ltaWxhcml0eVJhbmdlU3RhcnQgLSAwLjAxKTtcbiAgICAgICAgICAgICAgICAgIHNldFNpbWlsYXJpdHlSYW5nZVN0YXJ0KG5ld1N0YXJ0KTtcbiAgICAgICAgICAgICAgICAgIHNldElzTWFudWFsUmFuZ2UodHJ1ZSk7IC8vIE1hcmsgYXMgbWFudWFsbHkgYWRqdXN0ZWRcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NpbWlsYXJpdHlSYW5nZVN0YXJ0IDw9IHNpbWlsYXJpdHlSYW5nZUVuZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctZ3JheS0xMDAgaG92ZXI6YmctZ3JheS0yMDAgZGlzYWJsZWQ6YmctZ3JheS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgcm91bmRlZCB0ZXh0LWdyYXktNjAwIHRleHQteHMgZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkRlY3JlYXNlIGJ5IDAuMDElXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOKIkuKIklxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgey8qIENvYXJzZSBidXR0b24gKDAuMSkgKi99XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFydCA9IE1hdGgubWF4KHNpbWlsYXJpdHlSYW5nZUVuZCwgc2ltaWxhcml0eVJhbmdlU3RhcnQgLSAwLjEpO1xuICAgICAgICAgICAgICAgICAgc2V0U2ltaWxhcml0eVJhbmdlU3RhcnQobmV3U3RhcnQpO1xuICAgICAgICAgICAgICAgICAgc2V0SXNNYW51YWxSYW5nZSh0cnVlKTsgLy8gTWFyayBhcyBtYW51YWxseSBhZGp1c3RlZFxuICAgICAgICAgICAgICAgICAgc2V0UGFnZUhpc3RvcnkoW10pO1xuICAgICAgICAgICAgICAgICAgc2V0UGFnZUNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2ltaWxhcml0eVJhbmdlU3RhcnQgPD0gc2ltaWxhcml0eVJhbmdlRW5kfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy1ncmF5LTIwMCBob3ZlcjpiZy1ncmF5LTMwMCBkaXNhYmxlZDpiZy1ncmF5LTEwMCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgcm91bmRlZC1sZyBmb250LWJvbGQgdGV4dC1ncmF5LTcwMCB0ZXh0LWxnXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkRlY3JlYXNlIGJ5IDAuMSVcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAg4oiSXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgIG1pbj17c2ltaWxhcml0eVJhbmdlRW5kfVxuICAgICAgICAgICAgICAgICAgbWF4PXtzaW1pbGFyaXR5TGV2ZWxzWzBdfVxuICAgICAgICAgICAgICAgICAgc3RlcD17MC4wMX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzaW1pbGFyaXR5UmFuZ2VTdGFydH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFydCA9IHBhcnNlRmxvYXQoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VTdGFydChuZXdTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIHNldElzTWFudWFsUmFuZ2UodHJ1ZSk7IC8vIE1hcmsgYXMgbWFudWFsbHkgYWRqdXN0ZWRcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFnZUhpc3RvcnkoW10pO1xuICAgICAgICAgICAgICAgICAgICBzZXRQYWdlQ29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0yIGJnLWdyYXktMjAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgey8qIENvYXJzZSBidXR0b24gKDAuMSkgKi99XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGFydCA9IE1hdGgubWluKHNpbWlsYXJpdHlMZXZlbHNbMF0sIHNpbWlsYXJpdHlSYW5nZVN0YXJ0ICsgMC4xKTtcbiAgICAgICAgICAgICAgICAgIHNldFNpbWlsYXJpdHlSYW5nZVN0YXJ0KG5ld1N0YXJ0KTtcbiAgICAgICAgICAgICAgICAgIHNldElzTWFudWFsUmFuZ2UodHJ1ZSk7IC8vIE1hcmsgYXMgbWFudWFsbHkgYWRqdXN0ZWRcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NpbWlsYXJpdHlSYW5nZVN0YXJ0ID49IHNpbWlsYXJpdHlMZXZlbHNbMF19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWdyYXktMjAwIGhvdmVyOmJnLWdyYXktMzAwIGRpc2FibGVkOmJnLWdyYXktMTAwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCByb3VuZGVkLWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktNzAwIHRleHQtbGdcIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwiSW5jcmVhc2UgYnkgMC4xJVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICB7LyogRmluZS10dW5lIGJ1dHRvbnMgKDAuMDEpICovfVxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhcnQgPSBNYXRoLm1pbihzaW1pbGFyaXR5TGV2ZWxzWzBdLCBzaW1pbGFyaXR5UmFuZ2VTdGFydCArIDAuMDEpO1xuICAgICAgICAgICAgICAgICAgc2V0U2ltaWxhcml0eVJhbmdlU3RhcnQobmV3U3RhcnQpO1xuICAgICAgICAgICAgICAgICAgc2V0SXNNYW51YWxSYW5nZSh0cnVlKTsgLy8gTWFyayBhcyBtYW51YWxseSBhZGp1c3RlZFxuICAgICAgICAgICAgICAgICAgc2V0UGFnZUhpc3RvcnkoW10pO1xuICAgICAgICAgICAgICAgICAgc2V0UGFnZUNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2ltaWxhcml0eVJhbmdlU3RhcnQgPj0gc2ltaWxhcml0eUxldmVsc1swXX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctZ3JheS0xMDAgaG92ZXI6YmctZ3JheS0yMDAgZGlzYWJsZWQ6YmctZ3JheS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgcm91bmRlZCB0ZXh0LWdyYXktNjAwIHRleHQteHMgZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkluY3JlYXNlIGJ5IDAuMDElXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICsrXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTcwMCBtaW4tdy1bMTAwcHhdXCI+XG4gICAgICAgICAgICAgICAgRW5kOiB7c2ltaWxhcml0eVJhbmdlRW5kLnRvRml4ZWQoMil9JVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICB7LyogRmluZS10dW5lIGJ1dHRvbnMgKDAuMDEpICovfVxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RW5kID0gTWF0aC5tYXgoc2ltaWxhcml0eUxldmVsc1tzaW1pbGFyaXR5TGV2ZWxzLmxlbmd0aCAtIDFdLCBzaW1pbGFyaXR5UmFuZ2VFbmQgLSAwLjAxKTtcbiAgICAgICAgICAgICAgICAgIHNldFNpbWlsYXJpdHlSYW5nZUVuZChuZXdFbmQpO1xuICAgICAgICAgICAgICAgICAgc2V0SXNNYW51YWxSYW5nZSh0cnVlKTsgLy8gTWFyayBhcyBtYW51YWxseSBhZGp1c3RlZFxuICAgICAgICAgICAgICAgICAgc2V0UGFnZUhpc3RvcnkoW10pO1xuICAgICAgICAgICAgICAgICAgc2V0UGFnZUNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2ltaWxhcml0eVJhbmdlRW5kIDw9IHNpbWlsYXJpdHlMZXZlbHNbc2ltaWxhcml0eUxldmVscy5sZW5ndGggLSAxXX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctZ3JheS0xMDAgaG92ZXI6YmctZ3JheS0yMDAgZGlzYWJsZWQ6YmctZ3JheS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgcm91bmRlZCB0ZXh0LWdyYXktNjAwIHRleHQteHMgZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkRlY3JlYXNlIGJ5IDAuMDElXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIOKIkuKIklxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgey8qIENvYXJzZSBidXR0b24gKDAuMSkgKi99XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXdFbmQgPSBNYXRoLm1heChzaW1pbGFyaXR5TGV2ZWxzW3NpbWlsYXJpdHlMZXZlbHMubGVuZ3RoIC0gMV0sIHNpbWlsYXJpdHlSYW5nZUVuZCAtIDAuMSk7XG4gICAgICAgICAgICAgICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VFbmQobmV3RW5kKTtcbiAgICAgICAgICAgICAgICAgIHNldElzTWFudWFsUmFuZ2UodHJ1ZSk7IC8vIE1hcmsgYXMgbWFudWFsbHkgYWRqdXN0ZWRcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NpbWlsYXJpdHlSYW5nZUVuZCA8PSBzaW1pbGFyaXR5TGV2ZWxzW3NpbWlsYXJpdHlMZXZlbHMubGVuZ3RoIC0gMV19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLWdyYXktMjAwIGhvdmVyOmJnLWdyYXktMzAwIGRpc2FibGVkOmJnLWdyYXktMTAwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCByb3VuZGVkLWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktNzAwIHRleHQtbGdcIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwiRGVjcmVhc2UgYnkgMC4xJVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICDiiJJcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgbWluPXtzaW1pbGFyaXR5TGV2ZWxzW3NpbWlsYXJpdHlMZXZlbHMubGVuZ3RoIC0gMV19XG4gICAgICAgICAgICAgICAgICBtYXg9e3NpbWlsYXJpdHlSYW5nZVN0YXJ0fVxuICAgICAgICAgICAgICAgICAgc3RlcD17MC4wMX1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzaW1pbGFyaXR5UmFuZ2VFbmR9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RW5kID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNpbWlsYXJpdHlSYW5nZUVuZChuZXdFbmQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRJc01hbnVhbFJhbmdlKHRydWUpOyAvLyBNYXJrIGFzIG1hbnVhbGx5IGFkanVzdGVkXG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2VIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFnZUNvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtMiBiZy1ncmF5LTIwMCByb3VuZGVkLWxnIGFwcGVhcmFuY2Utbm9uZSBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHsvKiBDb2Fyc2UgYnV0dG9uICgwLjEpICovfVxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmV3RW5kID0gTWF0aC5taW4oc2ltaWxhcml0eVJhbmdlU3RhcnQsIHNpbWlsYXJpdHlSYW5nZUVuZCArIDAuMSk7XG4gICAgICAgICAgICAgICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VFbmQobmV3RW5kKTtcbiAgICAgICAgICAgICAgICAgIHNldElzTWFudWFsUmFuZ2UodHJ1ZSk7IC8vIE1hcmsgYXMgbWFudWFsbHkgYWRqdXN0ZWRcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NpbWlsYXJpdHlSYW5nZUVuZCA+PSBzaW1pbGFyaXR5UmFuZ2VTdGFydH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctZ3JheS0yMDAgaG92ZXI6YmctZ3JheS0zMDAgZGlzYWJsZWQ6YmctZ3JheS0xMDAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHJvdW5kZWQtbGcgZm9udC1ib2xkIHRleHQtZ3JheS03MDAgdGV4dC1sZ1wiXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJJbmNyZWFzZSBieSAwLjElXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICtcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIHsvKiBGaW5lLXR1bmUgYnV0dG9ucyAoMC4wMSkgKi99XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXdFbmQgPSBNYXRoLm1pbihzaW1pbGFyaXR5UmFuZ2VTdGFydCwgc2ltaWxhcml0eVJhbmdlRW5kICsgMC4wMSk7XG4gICAgICAgICAgICAgICAgICBzZXRTaW1pbGFyaXR5UmFuZ2VFbmQobmV3RW5kKTtcbiAgICAgICAgICAgICAgICAgIHNldElzTWFudWFsUmFuZ2UodHJ1ZSk7IC8vIE1hcmsgYXMgbWFudWFsbHkgYWRqdXN0ZWRcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VIaXN0b3J5KFtdKTtcbiAgICAgICAgICAgICAgICAgIHNldFBhZ2VDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NpbWlsYXJpdHlSYW5nZUVuZCA+PSBzaW1pbGFyaXR5UmFuZ2VTdGFydH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctZ3JheS0xMDAgaG92ZXI6YmctZ3JheS0yMDAgZGlzYWJsZWQ6YmctZ3JheS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgcm91bmRlZCB0ZXh0LWdyYXktNjAwIHRleHQteHMgZm9udC1ib2xkXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkluY3JlYXNlIGJ5IDAuMDElXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICsrXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogR3JvdXBzIGNvbnRhaW5lciAtIE5vIGluZGl2aWR1YWwgc2Nyb2xsLCBwYWdlIHNjcm9sbHMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNiBwci00IHBiLThcIj5cbiAgICAgICAgey8qIFNob3cgbG9hZGluZyBvdmVybGF5IGlmIE1DUSBkYXRhIGlzIGxvYWRpbmcgKi99XG4gICAgICAgIHtmaWxlU3RhdHVzQ29udGV4dC5sb2FkaW5nTUNRRGF0YSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktMzAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3cteGxcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTggdy04IGJvcmRlci1iLTIgYm9yZGVyLWJsdWUtNjAwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+TG9hZGluZyBNQ1EgZGF0YS4uLjwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICBMb2FkaW5nIGRhdGEgZm9yIHt0b3RhbEdyb3Vwc0luUGFnZX0gZ3JvdXB7dG90YWxHcm91cHNJblBhZ2UgIT09IDEgPyAncycgOiAnJ30uLi5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIHtncm91cHNJblBhZ2UubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktMTJcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgdGV4dC1sZ1wiPk5vIGdyb3VwcyBhdmFpbGFibGUgaW4gdGhpcyByYW5nZTwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1zbSBtdC0yXCI+QWRqdXN0IHRoZSBzaW1pbGFyaXR5IHJhbmdlIHNsaWRlcnMgYWJvdmUgdG8gZmluZCBncm91cHM8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgZ3JvdXBzSW5QYWdlLm1hcCgoZ3JvdXBJbmRleCwgaWR4KSA9PiB7XG4gICAgICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHNbZ3JvdXBJbmRleF07XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYga2V5PXtncm91cEluZGV4fSBpZD17YGdyb3VwLSR7Z3JvdXBJbmRleH1gfT5cbiAgICAgICAgICAgICAgPEdyb3VwRGlzcGxheVxuICAgICAgICAgICAgICAgIHN1YmplY3Q9e3N1YmplY3R9XG4gICAgICAgICAgICAgICAgZ3JvdXA9e2dyb3VwfVxuICAgICAgICAgICAgICAgIGdyb3VwSW5kZXg9e2dyb3VwSW5kZXh9XG4gICAgICAgICAgICAgICAgdG90YWxHcm91cHM9e2dyb3Vwcy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgY29tcGxldGVkR3JvdXBzPXtjb21wbGV0ZWRHcm91cHN9XG4gICAgICAgICAgICAgICAgb25TdWJtaXQ9eygpID0+IGhhbmRsZVN1Ym1pdFNpbmdsZUdyb3VwKGdyb3VwSW5kZXgpfVxuICAgICAgICAgICAgICAgIGluaXRpYWxDaGVja2VkRmlsZXM9e2F1dG9TZWxlY3Rpb25zW2dyb3VwSW5kZXhdfVxuICAgICAgICAgICAgICAgIG9uRmlsZVRvZ2dsZT17KGZpbGVuYW1lLCBjaGVja2VkKSA9PiBoYW5kbGVHcm91cFRvZ2dsZShncm91cEluZGV4LCBmaWxlbmFtZSwgY2hlY2tlZCl9XG4gICAgICAgICAgICAgICAgY29uZmxpY3RpbmdGaWxlcz17Y29uZmxpY3RpbmdGaWxlc31cbiAgICAgICAgICAgICAgICBmaWxlQXBwZWFyYW5jZUNvdW50cz17ZmlsZUFwcGVhcmFuY2VDb3VudHN9XG4gICAgICAgICAgICAgICAgZmlsZUFwcGVhcmFuY2VPcmRlcj17ZmlsZUFwcGVhcmFuY2VPcmRlcn1cbiAgICAgICAgICAgICAgICBmaWxlQXBwZWFyYW5jZVRvdGFscz17ZmlsZUFwcGVhcmFuY2VUb3RhbHN9XG4gICAgICAgICAgICAgICAga2VwdEFwcGVhcmFuY2VPcmRlcj17a2VwdEFwcGVhcmFuY2VPcmRlcn1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSk7XG5cblNpbWlsYXJpdHlHcm91cFZpZXdJbm5lci5kaXNwbGF5TmFtZSA9ICdTaW1pbGFyaXR5R3JvdXBWaWV3SW5uZXInO1xuXG4vLyBPdXRlciBjb21wb25lbnQgdGhhdCBwcm92aWRlcyBDb250ZXh0XG5leHBvcnQgY29uc3QgU2ltaWxhcml0eUdyb3VwVmlldyA9IGZvcndhcmRSZWY8U2ltaWxhcml0eUdyb3VwVmlld0hhbmRsZSwgU2ltaWxhcml0eUdyb3VwVmlld1Byb3BzPigocHJvcHMsIHJlZikgPT4ge1xuICByZXR1cm4gKFxuICAgIDxGaWxlU3RhdHVzUHJvdmlkZXIgc3ViamVjdD17cHJvcHMuc3ViamVjdH0+XG4gICAgICA8U2ltaWxhcml0eUdyb3VwVmlld0lubmVyIHsuLi5wcm9wc30gcmVmPXtyZWZ9IC8+XG4gICAgPC9GaWxlU3RhdHVzUHJvdmlkZXI+XG4gICk7XG59KTtcblxuU2ltaWxhcml0eUdyb3VwVmlldy5kaXNwbGF5TmFtZSA9ICdTaW1pbGFyaXR5R3JvdXBWaWV3JztcblxuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImZvcndhcmRSZWYiLCJ1c2VSZWYiLCJHcm91cERpc3BsYXkiLCJhcGkiLCJzdG9yYWdlIiwiRmlsZVN0YXR1c1Byb3ZpZGVyIiwidXNlRmlsZVN0YXR1cyIsIkFVVE9fU0NST0xMX1NQRUVEIiwiU2ltaWxhcml0eUdyb3VwVmlld0lubmVyIiwic3ViamVjdCIsImdyb3VwcyIsImNvbXBsZXRlZEdyb3VwcyIsIm9uR3JvdXBzU3VibWl0dGVkIiwiaW5pdGlhbExldmVsSW5kZXgiLCJvbkxldmVsSW5kZXhDaGFuZ2UiLCJvbkxldmVsc0xvYWRlZCIsInJlZiIsImZpbGVTdGF0dXNDb250ZXh0Iiwic2ltaWxhcml0eUxldmVscyIsInNldFNpbWlsYXJpdHlMZXZlbHMiLCJjdXJyZW50TGV2ZWxJbmRleCIsInNldEN1cnJlbnRMZXZlbEluZGV4IiwiY3VycmVudEdyb3VwSW5MZXZlbCIsInNldEN1cnJlbnRHcm91cEluTGV2ZWwiLCJncm91cHNCeVNpbWlsYXJpdHkiLCJzZXRHcm91cHNCeVNpbWlsYXJpdHkiLCJhdXRvU2VsZWN0aW9ucyIsInNldEF1dG9TZWxlY3Rpb25zIiwic3VibWl0dGluZyIsInNldFN1Ym1pdHRpbmciLCJsb2FkaW5nTmV4dFBhZ2UiLCJzZXRMb2FkaW5nTmV4dFBhZ2UiLCJpbml0aWFsaXppbmciLCJzZXRJbml0aWFsaXppbmciLCJzaG93U3VjY2Vzc01vZGFsIiwic2V0U2hvd1N1Y2Nlc3NNb2RhbCIsInNob3dDb25maXJtTW9kYWwiLCJzZXRTaG93Q29uZmlybU1vZGFsIiwic3VjY2Vzc1N0YXRzIiwic2V0U3VjY2Vzc1N0YXRzIiwibmV4dFBhZ2VJbmZvIiwic2V0TmV4dFBhZ2VJbmZvIiwiY29uZmxpY3RpbmdGaWxlcyIsInNldENvbmZsaWN0aW5nRmlsZXMiLCJTZXQiLCJmaWxlQXBwZWFyYW5jZUNvdW50cyIsInNldEZpbGVBcHBlYXJhbmNlQ291bnRzIiwiZmlsZUFwcGVhcmFuY2VPcmRlciIsInNldEZpbGVBcHBlYXJhbmNlT3JkZXIiLCJmaWxlQXBwZWFyYW5jZVRvdGFscyIsInNldEZpbGVBcHBlYXJhbmNlVG90YWxzIiwia2VwdEFwcGVhcmFuY2VPcmRlciIsInNldEtlcHRBcHBlYXJhbmNlT3JkZXIiLCJjaGVja0FsbE1vZGUiLCJzZXRDaGVja0FsbE1vZGUiLCJhdXRvU2Nyb2xsRW5hYmxlZCIsInNldEF1dG9TY3JvbGxFbmFibGVkIiwiYXV0b1Njcm9sbEFjdGl2ZSIsInNldEF1dG9TY3JvbGxBY3RpdmUiLCJhdXRvU2Nyb2xsQW5pbWF0aW9uUmVmIiwibGFzdFNjcm9sbFRpbWVSZWYiLCJhdXRvU2Nyb2xsQWN0aXZlUmVmIiwiY3VycmVudCIsInNpbWlsYXJpdHlSYW5nZVN0YXJ0Iiwic2V0U2ltaWxhcml0eVJhbmdlU3RhcnQiLCJzaW1pbGFyaXR5UmFuZ2VFbmQiLCJzZXRTaW1pbGFyaXR5UmFuZ2VFbmQiLCJ0YXJnZXRHcm91cHNQZXJQYWdlIiwic2V0VGFyZ2V0R3JvdXBzUGVyUGFnZSIsInBhZ2VDb21wbGV0ZWQiLCJzZXRQYWdlQ29tcGxldGVkIiwicGFnZUhpc3RvcnkiLCJzZXRQYWdlSGlzdG9yeSIsImlzTWFudWFsUmFuZ2UiLCJzZXRJc01hbnVhbFJhbmdlIiwicmFuZ2VJbml0aWFsaXplZCIsImxvYWRpbmdTdGF0dXNlc1JlZiIsImxvYWRpbmdNQ1FEYXRhUmVmIiwibGFzdExvYWRlZFJhbmdlUmVmIiwiY3VycmVudFJhbmdlU3RhcnRSZWYiLCJpbml0aWFsaXplR3JvdXBzIiwibGVuZ3RoIiwiYXV0b1NlbGVjdEJlc3RNQ1EiLCJmaWxlcyIsIm1ldGFkYXRhIiwidXNlQ2hlY2tBbGxNb2RlIiwic2VsZWN0aW9ucyIsImZpbGVuYW1lIiwiZmlsZVN0YXR1cyIsImdldEZpbGVTdGF0dXMiLCJzdGF0dXMiLCJzYXZlZEZpbGVzIiwicmVtb3ZlZEZpbGVzIiwidW5rbm93bkZpbGVzIiwiY2FjaGVkIiwicHVzaCIsImhhc1llYXIiLCJmaWxlTnVtIiwicGFyc2VJbnQiLCJyZXBsYWNlIiwic29ydCIsImEiLCJiIiwic2Vzc2lvbiIsImxvYWRTZXNzaW9uIiwibWNxTWV0YWRhdGEiLCJncm91cEluZGV4IiwiZ3JvdXBGaWxlcyIsImdyb3VwU2VsZWN0aW9ucyIsImdyb3VwZWQiLCJmb3JFYWNoIiwiZ3JvdXAiLCJpbmRleCIsInJvdW5kZWRTaW1pbGFyaXR5IiwiTWF0aCIsInJvdW5kIiwibWF4X3NpbWlsYXJpdHkiLCJsZXZlbHMiLCJPYmplY3QiLCJrZXlzIiwibWFwIiwiTnVtYmVyIiwidW5kZWZpbmVkIiwibWF4R3JvdXBzUGVyUGFnZSIsImFsbEZpbGVuYW1lcyIsImYiLCJhZGQiLCJmaWxlbmFtZXMiLCJBcnJheSIsImZyb20iLCJjYWNoZWRNZXRhZGF0YSIsImZpbmFsTWV0YWRhdGEiLCJtaXNzaW5nRmlsZXMiLCJmaWx0ZXIiLCJyZXNwb25zZSIsImJhdGNoRmlsZVN0YXR1c2VzIiwiZGF0YSIsImVudHJpZXMiLCJzdGF0dXNlcyIsImZpbGVEYXRhIiwiaGFzX3llYXIiLCJ1cGRhdGVNQ1FNZXRhZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJtIiwiZXJyb3IiLCJjYWxjdWxhdGVHcm91cHNJblJhbmdlIiwic3RhcnQiLCJlbmQiLCJsaW1pdCIsImdyb3VwSW5kaWNlcyIsImNhbGN1bGF0ZVJhbmdlRnJvbVRhcmdldEdyb3VwcyIsInN0YXJ0UG9pbnQiLCJ0YXJnZXRHcm91cHMiLCJzdGFydEluZGV4IiwiaSIsImxhc3RMZXZlbCIsInJhbmdlU3RhcnQiLCJyYW5nZUVuZCIsInRvdGFsR3JvdXBzIiwibGV2ZWwiLCJncm91cHNJbkxldmVsIiwiY2FsY3VsYXRlTmV4dFJhbmdlIiwiY3VycmVudEVuZCIsImN1cnJlbnRTdGFydCIsImFsbEdyb3Vwc1Nob3duQXRFbmQiLCJhYnMiLCJuZXh0U3RhcnRJbmRleCIsIm5leHRTdGFydCIsIm5leHRFbmQiLCJnZXRHcm91cHNGb3JDdXJyZW50UGFnZSIsInJlb3JkZXJHcm91cHNCeUZpbGVBcHBlYXJhbmNlcyIsImZpbGVUb0dyb3VwcyIsImluY2x1ZGVzIiwibXVsdGlBcHBlYXJhbmNlRmlsZXMiLCJwbGFjZWRHcm91cHMiLCJyZW9yZGVyZWQiLCJhZGRHcm91cCIsImhhcyIsIm11bHRpQXBwZWFyYW5jZUZpbGVzSW5Hcm91cCIsInJlbGF0ZWRHcm91cHNTZXQiLCJyZWxhdGVkR3JvdXBJbmRleCIsInJlbGF0ZWRHcm91cHMiLCJwb3NBIiwiaW5kZXhPZiIsInBvc0IiLCJnZXRSZW9yZGVyZWRHcm91cHNGb3JQYWdlIiwiZ3JvdXBzSW5QYWdlIiwibWF4TGV2ZWwiLCJjYWxjdWxhdGVkUmFuZ2UiLCJjdXJyZW50TGV2ZWwiLCJncm91cHNJbkN1cnJlbnRQYWdlIiwidG90YWxHcm91cHNJblBhZ2UiLCJsb2FkRmlsZVN0YXR1c2VzRm9yUmFuZ2UiLCJncm91cHNJblJhbmdlIiwibG9hZEZpbGVTdGF0dXNlcyIsImxvYWRNQ1FEYXRhRm9yUmFuZ2UiLCJ3YXJuIiwibG9hZE1DUURhdGEiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzYXZlU2Vzc2lvbiIsImZpbGVTdGF0ZXMiLCJhcHBlYXJhbmNlQ291bnRzIiwiYXBwZWFyYW5jZU9yZGVyIiwidG90YWxBcHBlYXJhbmNlcyIsInJlbW92YWxJbmZvIiwia2VwdEZpbGVzIiwia2VwdF9maWxlcyIsImtlcHRGaWxlRGF0YSIsImtlcHRGaWxlbmFtZSIsImZpbGVDdW11bGF0aXZlQ291bnQiLCJrZXB0T3JkZXJMb2NhbCIsImxvY2FsU3RvcmFnZUNoZWNrZWQiLCJjaGVja2VkRmlsZXMiLCJpc0NoZWNrZWQiLCJnZXRGaWxlQ2hlY2tlZCIsInRvdGFsIiwiY2hlY2tlZCIsImN1cnJlbnRDb3VudCIsImtlcHRDb3VudCIsImNvbmZsaWN0cyIsInN0YXRlcyIsImNhbGN1bGF0ZUxpdmVDb3VudHMiLCJmaWxlRmluYWxTdGF0ZXMiLCJmaWxlc1RvU2F2ZSIsImZpbGVzVG9SZW1vdmUiLCJmaW5hbFN0YXRlIiwiY3VycmVudFN0YXR1cyIsIndpbGxNb3ZlVG9TYXZlZCIsInNpemUiLCJ3aWxsTW92ZVRvUmVtb3ZlZCIsImFsbEdyb3Vwc0hhdmVBdXRvU2VsZWN0aW9ucyIsImdyb3Vwc1JlYWR5Rm9yU3VibWl0IiwiaGFzTmV4dFBhZ2UiLCJtaW5MZXZlbCIsImhhc1ByZXZpb3VzUGFnZSIsImdvVG9OZXh0UGFnZSIsInByZXYiLCJuZXh0UmFuZ2UiLCJnb1RvUHJldmlvdXNQYWdlIiwicHJldmlvdXNQYWdlIiwic2xpY2UiLCJqdW1wVG9NaW4iLCJyYW5nZSIsImp1bXBUb01heCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwic2Nyb2xsIiwibm93IiwicGVyZm9ybWFuY2UiLCJkZWx0YVRpbWUiLCJwaXhlbHNQZXJGcmFtZSIsInRocmVzaG9sZCIsImlzQXRCb3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInNjcm9sbFkiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbEhlaWdodCIsInNjcm9sbEJ5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiaGFuZGxlS2V5RG93biIsImUiLCJjb2RlIiwia2V5IiwidGFyZ2V0IiwiaXNUZXh0SW5wdXQiLCJ0YWdOYW1lIiwidHlwZSIsImlzQ29udGVudEVkaXRhYmxlIiwiZ2V0QXR0cmlidXRlIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJibHVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJoYW5kbGVGaWxlVG9nZ2xlQWxsIiwidXBkYXRlZCIsInByZXZHcm91cFNlbGVjdGlvbnMiLCJ1cGRhdGVDaGVja2VkRmlsZXMiLCJhY3RpdmVFbGVtZW50IiwiaGFuZGxlR3JvdXBUb2dnbGUiLCJoYW5kbGVTdWJtaXRTaW5nbGVHcm91cCIsIl8iLCJzdWJtaXRHcm91cCIsInNldEZpbGVTdGF0dXMiLCJzZXRGaWxlQ2hlY2tlZCIsImFsZXJ0IiwiaGFuZGxlU3VibWl0QWxsSW5QYWdlIiwiaGFuZGxlQ29uZmlybVN1Ym1pdEFsbCIsInNhdmVkQ291bnRCZWZvcmUiLCJyZW1vdmVkQ291bnRCZWZvcmUiLCJzdW1tYXJ5QmVmb3JlIiwiZ2V0U3VtbWFyeSIsImZpbmFsX3NhdmVkIiwiZmluYWxfcmVtb3ZlZCIsInRvdGFsTW92ZWRUb1JlbW92ZWQiLCJ0b3RhbFVuY2hlY2tlZEZyb21TYXZlZCIsInRvdGFsTmV3bHlBZGRlZFRvU2F2ZWQiLCJ0b3RhbEdyb3Vwc1N1Ym1pdHRlZCIsIm1vdmVkX3RvX3JlbW92ZWQiLCJ1bmNoZWNrZWRfZnJvbV9zYXZlZCIsIm5ld2x5X2FkZGVkX3RvX3NhdmVkIiwic2F2ZWRfY291bnQiLCJyZW1vdmVkX2NvdW50Iiwic2F2ZWRDb3VudEFmdGVyIiwicmVtb3ZlZENvdW50QWZ0ZXIiLCJzdW1tYXJ5QWZ0ZXIiLCJhY3R1YWxSZW1vdmVkRnJvbVNhdmVkIiwiYWN0dWFsQWRkZWRUb1JlbW92ZWQiLCJyZW1vdmVkRnJvbVNhdmVkIiwiYWRkZWRUb1NhdmVkIiwiYWRkZWRUb1JlbW92ZWQiLCJtb3ZlZFRvUmVtb3ZlZCIsInNhdmVkQ291bnQiLCJyZW1vdmVkQ291bnQiLCJoYXNOZXh0IiwiY2FsY3VsYXRlZE5leHQiLCJsb2FkaW5nIiwidHJhY2tSZW1vdmVkIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsImgyIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwic3BhbiIsInRvRml4ZWQiLCJjaGVja0dyb3Vwc0xvYWRlZCIsInNldEludGVydmFsIiwiZ3JvdXBzSW5OZXdQYWdlIiwiY2xlYXJJbnRlcnZhbCIsImxvYWRpbmdTdGF0dXNlcyIsImxhYmVsIiwidGl0bGUiLCJuZXdFbmFibGVkIiwic2VsZWN0IiwidmFsdWUiLCJvbkNoYW5nZSIsIm5ld1RhcmdldCIsInJlY2FsY3VsYXRlZFJhbmdlIiwib3B0aW9uIiwibmV3U3RhcnQiLCJtYXgiLCJpbnB1dCIsIm1pbiIsInN0ZXAiLCJwYXJzZUZsb2F0IiwibmV3RW5kIiwibG9hZGluZ01DUURhdGEiLCJpZHgiLCJpZCIsIm9uU3VibWl0IiwiaW5pdGlhbENoZWNrZWRGaWxlcyIsIm9uRmlsZVRvZ2dsZSIsImRpc3BsYXlOYW1lIiwiU2ltaWxhcml0eUdyb3VwVmlldyIsInByb3BzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/SimilarityGroupView.tsx\n");

/***/ }),

/***/ "./components/Toast.tsx":
/*!******************************!*\
  !*** ./components/Toast.tsx ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toast: () => (/* binding */ Toast)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Toast = ({ message, show, onClose, duration = 3000 })=>{\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (show) {\n            const timer = setTimeout(()=>{\n                onClose();\n            }, duration);\n            return ()=>clearTimeout(timer);\n        }\n    }, [\n        show,\n        duration,\n        onClose\n    ]);\n    if (!show) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"fixed top-4 right-4 z-50 animate-fade-in\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-2xl\",\n                    children: \"✓\"\n                }, void 0, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/Toast.tsx\",\n                    lineNumber: 30,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"font-semibold\",\n                    children: message\n                }, void 0, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/components/Toast.tsx\",\n                    lineNumber: 31,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/mac/testpoint/frontend/components/Toast.tsx\",\n            lineNumber: 29,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/mac/testpoint/frontend/components/Toast.tsx\",\n        lineNumber: 28,\n        columnNumber: 5\n    }, undefined);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL1RvYXN0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBeUM7QUFTbEMsTUFBTUUsUUFBOEIsQ0FBQyxFQUMxQ0MsT0FBTyxFQUNQQyxJQUFJLEVBQ0pDLE9BQU8sRUFDUEMsV0FBVyxJQUFJLEVBQ2hCO0lBQ0NMLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSUcsTUFBTTtZQUNSLE1BQU1HLFFBQVFDLFdBQVc7Z0JBQ3ZCSDtZQUNGLEdBQUdDO1lBQ0gsT0FBTyxJQUFNRyxhQUFhRjtRQUM1QjtJQUNGLEdBQUc7UUFBQ0g7UUFBTUU7UUFBVUQ7S0FBUTtJQUU1QixJQUFJLENBQUNELE1BQU0sT0FBTztJQUVsQixxQkFDRSw4REFBQ007UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0Q7WUFBSUMsV0FBVTs7OEJBQ2IsOERBQUNDO29CQUFLRCxXQUFVOzhCQUFXOzs7Ozs7OEJBQzNCLDhEQUFDQztvQkFBS0QsV0FBVTs4QkFBaUJSOzs7Ozs7Ozs7Ozs7Ozs7OztBQUl6QyxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWNxLWRlZHVwbGljYXRpb24tZnJvbnRlbmQvLi9jb21wb25lbnRzL1RvYXN0LnRzeD85MzlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBUb2FzdFByb3BzIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBzaG93OiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICBkdXJhdGlvbj86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFRvYXN0OiBSZWFjdC5GQzxUb2FzdFByb3BzPiA9ICh7IFxuICBtZXNzYWdlLCBcbiAgc2hvdywgXG4gIG9uQ2xvc2UsIFxuICBkdXJhdGlvbiA9IDMwMDAgXG59KSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3cpIHtcbiAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cbiAgfSwgW3Nob3csIGR1cmF0aW9uLCBvbkNsb3NlXSk7XG5cbiAgaWYgKCFzaG93KSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTQgcmlnaHQtNCB6LTUwIGFuaW1hdGUtZmFkZS1pblwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSBweC02IHB5LTMgcm91bmRlZC1sZyBzaGFkb3ctbGcgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGxcIj7inJM8L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj57bWVzc2FnZX08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cblxuXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJUb2FzdCIsIm1lc3NhZ2UiLCJzaG93Iiwib25DbG9zZSIsImR1cmF0aW9uIiwidGltZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiZGl2IiwiY2xhc3NOYW1lIiwic3BhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/Toast.tsx\n");

/***/ }),

/***/ "./contexts/FileStatusContext.tsx":
/*!****************************************!*\
  !*** ./contexts/FileStatusContext.tsx ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FileStatusProvider: () => (/* binding */ FileStatusProvider),\n/* harmony export */   useFileStatus: () => (/* binding */ useFileStatus)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/api */ \"./lib/api.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/storage */ \"./lib/storage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_api__WEBPACK_IMPORTED_MODULE_2__]);\n_lib_api__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Create context\nconst FileStatusContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst FileStatusProvider = ({ children, subject })=>{\n    const [fileStatuses, setFileStatuses] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [loadingStatuses, setLoadingStatuses] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loadingMCQData, setLoadingMCQData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Load file statuses from backend (batch API call)\n    const loadFileStatuses = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (subjectName, filenames)=>{\n        if (filenames.length === 0) return;\n        setLoadingStatuses(true);\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_2__.api.batchFileStatuses(subjectName, filenames);\n            const newStatuses = {};\n            for (const [filename, data] of Object.entries(response.statuses)){\n                const fileData = data;\n                const fileNum = parseInt(filename.replace(/\\D/g, \"\")) || 999999;\n                // Get checked state from localStorage (user preference)\n                const session = _lib_storage__WEBPACK_IMPORTED_MODULE_3__.storage.loadSession(subjectName);\n                const cachedChecked = session?.checkedFiles?.[filename];\n                newStatuses[filename] = {\n                    status: fileData.status === \"saved\" ? \"saved\" : fileData.status === \"removed\" ? \"removed\" : \"unknown\",\n                    checked: cachedChecked !== undefined ? cachedChecked : fileData.status === \"saved\" ? true : fileData.status === \"removed\" ? false : false,\n                    hasYear: fileData.has_year || false,\n                    fileNum: fileNum,\n                    removalInfo: fileData.removal_info || undefined,\n                    keptFileData: fileData.kept_file_data || undefined\n                };\n            }\n            setFileStatuses((prev)=>({\n                    ...prev,\n                    ...newStatuses\n                }));\n            // Save metadata to localStorage (for auto-selection)\n            const mcqMetadata = {};\n            for (const [filename, status] of Object.entries(newStatuses)){\n                mcqMetadata[filename] = {\n                    hasYear: status.hasYear,\n                    fileNum: status.fileNum\n                };\n            }\n            _lib_storage__WEBPACK_IMPORTED_MODULE_3__.storage.updateMCQMetadata(subjectName, mcqMetadata);\n        } catch (error) {\n            console.error(\"Failed to load file statuses:\", error);\n        } finally{\n            setLoadingStatuses(false);\n        }\n    }, []);\n    // Load MCQ data from backend (batch API call)\n    const loadMCQData = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (subjectName, filenames)=>{\n        if (filenames.length === 0) return;\n        setLoadingMCQData(true);\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_2__.api.batchMCQData(subjectName, filenames);\n            setFileStatuses((prev)=>{\n                const updated = {\n                    ...prev\n                };\n                for (const [filename, fileData] of Object.entries(response.mcq_data)){\n                    const data = fileData;\n                    if (updated[filename]) {\n                        updated[filename] = {\n                            ...updated[filename],\n                            mcqData: data.data,\n                            removalInfo: data.removal_info || updated[filename].removalInfo,\n                            keptFileData: data.kept_file_data || updated[filename].keptFileData\n                        };\n                    }\n                }\n                return updated;\n            });\n        } catch (error) {\n            console.error(\"Failed to load MCQ data:\", error);\n        } finally{\n            setLoadingMCQData(false);\n        }\n    }, []);\n    // Update file status\n    const setFileStatus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((filename, status)=>{\n        setFileStatuses((prev)=>({\n                ...prev,\n                [filename]: {\n                    ...prev[filename],\n                    ...status\n                }\n            }));\n    }, []);\n    // Set file checked state\n    const setFileChecked = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((filename, checked)=>{\n        setFileStatuses((prev)=>{\n            if (!prev[filename]) {\n                return prev;\n            }\n            return {\n                ...prev,\n                [filename]: {\n                    ...prev[filename],\n                    checked\n                }\n            };\n        });\n        // Also update localStorage (user preference)\n        _lib_storage__WEBPACK_IMPORTED_MODULE_3__.storage.updateCheckedFiles(subject, filename, checked);\n    }, [\n        subject\n    ]);\n    // Get file status\n    const getFileStatus = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((filename)=>{\n        return fileStatuses[filename];\n    }, [\n        fileStatuses\n    ]);\n    // Get file checked state\n    const getFileChecked = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((filename)=>{\n        return fileStatuses[filename]?.checked ?? false;\n    }, [\n        fileStatuses\n    ]);\n    // Get file indicators (icons, colors, badges)\n    const getFileIndicators = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((filename)=>{\n        const file = fileStatuses[filename];\n        if (!file) {\n            return {\n                statusIcon: \"○\",\n                statusColor: \"gray\",\n                pastPaperBadge: null,\n                borderStyle: \"border-solid\",\n                backgroundColor: \"bg-orange-50\",\n                checked: false\n            };\n        }\n        return {\n            statusIcon: file.status === \"saved\" ? \"✓\" : file.status === \"removed\" ? \"✗\" : \"○\",\n            statusColor: file.status === \"saved\" ? \"green\" : file.status === \"removed\" ? \"red\" : \"gray\",\n            pastPaperBadge: file.hasYear ? \"PP\" : null,\n            borderStyle: file.hasYear ? \"border-dotted\" : \"border-solid\",\n            backgroundColor: file.hasYear ? \"bg-green-50\" : \"bg-orange-50\",\n            checked: file.checked\n        };\n    }, [\n        fileStatuses\n    ]);\n    // Determine checked state based on rules\n    const determineCheckedState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((filename, checkAllMode)=>{\n        const file = fileStatuses[filename];\n        if (!file) return false;\n        // Rule 1: Saved files always checked\n        if (file.status === \"saved\") return true;\n        // Rule 2: Removed files always unchecked\n        if (file.status === \"removed\") return false;\n        // Rule 3: Check All Mode - check all unknown files\n        if (checkAllMode) return true;\n        // Rule 4: Use current checked state (from user preference or auto-selection)\n        return file.checked;\n    }, [\n        fileStatuses\n    ]);\n    const value = {\n        fileStatuses,\n        loadingStatuses,\n        loadingMCQData,\n        loadFileStatuses,\n        loadMCQData,\n        setFileStatus,\n        setFileChecked,\n        getFileStatus,\n        getFileChecked,\n        getFileIndicators,\n        determineCheckedState\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FileStatusContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/mac/testpoint/frontend/contexts/FileStatusContext.tsx\",\n        lineNumber: 238,\n        columnNumber: 5\n    }, undefined);\n};\n// Hook to use context\nconst useFileStatus = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(FileStatusContext);\n    if (!context) {\n        throw new Error(\"useFileStatus must be used within FileStatusProvider\");\n    }\n    return context;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ3FDLE1BQU0sT0FBTztRQUVsQixxQ0FBcUM7UUFDckMsSUFBSUEsS0FBS3hCLE1BQU0sS0FBSyxTQUFTLE9BQU87UUFFcEMseUNBQXlDO1FBQ3pDLElBQUl3QixLQUFLeEIsTUFBTSxLQUFLLFdBQVcsT0FBTztRQUV0QyxtREFBbUQ7UUFDbkQsSUFBSStCLGNBQWMsT0FBTztRQUV6Qiw2RUFBNkU7UUFDN0UsT0FBT1AsS0FBS3ZCLE9BQU87SUFDckIsR0FBRztRQUFDM0I7S0FBYTtJQUVqQixNQUFNMEQsUUFBZ0M7UUFDcEMxRDtRQUNBRTtRQUNBRTtRQUNBRTtRQUNBaUM7UUFDQUs7UUFDQUM7UUFDQUU7UUFDQUM7UUFDQUM7UUFDQU87SUFDRjtJQUVBLHFCQUNFLDhEQUFDN0Qsa0JBQWtCZ0UsUUFBUTtRQUFDRCxPQUFPQTtrQkFDaEM1RDs7Ozs7O0FBR1AsRUFBRTtBQUVGLHNCQUFzQjtBQUNmLE1BQU04RCxnQkFBZ0I7SUFDM0IsTUFBTUMsVUFBVXZFLGlEQUFVQSxDQUFDSztJQUMzQixJQUFJLENBQUNrRSxTQUFTO1FBQ1osTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWNxLWRlZHVwbGljYXRpb24tZnJvbnRlbmQvLi9jb250ZXh0cy9GaWxlU3RhdHVzQ29udGV4dC50c3g/MmQwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBhcGkgfSBmcm9tICcuLi9saWIvYXBpJztcbmltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tICcuLi9saWIvc3RvcmFnZSc7XG5cbi8vIEZpbGUgc3RhdHVzIGluZm9ybWF0aW9uXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVTdGF0dXMge1xuICBzdGF0dXM6ICdzYXZlZCcgfCAncmVtb3ZlZCcgfCAndW5rbm93bic7XG4gIGNoZWNrZWQ6IGJvb2xlYW47XG4gIGhhc1llYXI6IGJvb2xlYW47XG4gIGZpbGVOdW06IG51bWJlcjtcbiAgcmVtb3ZhbEluZm8/OiBhbnk7XG4gIG1jcURhdGE/OiBhbnk7XG4gIGtlcHRGaWxlRGF0YT86IGFueTtcbn1cblxuLy8gQ29udGV4dCB2YWx1ZSBpbnRlcmZhY2VcbmludGVyZmFjZSBGaWxlU3RhdHVzQ29udGV4dFZhbHVlIHtcbiAgLy8gRmlsZSBzdGF0dXMgc3RvcmVcbiAgZmlsZVN0YXR1c2VzOiB7IFtmaWxlbmFtZTogc3RyaW5nXTogRmlsZVN0YXR1cyB9O1xuICBcbiAgLy8gTG9hZGluZyBzdGF0ZXNcbiAgbG9hZGluZ1N0YXR1c2VzOiBib29sZWFuO1xuICBsb2FkaW5nTUNRRGF0YTogYm9vbGVhbjtcbiAgXG4gIC8vIEFjdGlvbnNcbiAgbG9hZEZpbGVTdGF0dXNlczogKHN1YmplY3Q6IHN0cmluZywgZmlsZW5hbWVzOiBzdHJpbmdbXSkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgbG9hZE1DUURhdGE6IChzdWJqZWN0OiBzdHJpbmcsIGZpbGVuYW1lczogc3RyaW5nW10pID0+IFByb21pc2U8dm9pZD47XG4gIHNldEZpbGVTdGF0dXM6IChmaWxlbmFtZTogc3RyaW5nLCBzdGF0dXM6IFBhcnRpYWw8RmlsZVN0YXR1cz4pID0+IHZvaWQ7XG4gIHNldEZpbGVDaGVja2VkOiAoZmlsZW5hbWU6IHN0cmluZywgY2hlY2tlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgZ2V0RmlsZVN0YXR1czogKGZpbGVuYW1lOiBzdHJpbmcpID0+IEZpbGVTdGF0dXMgfCB1bmRlZmluZWQ7XG4gIGdldEZpbGVDaGVja2VkOiAoZmlsZW5hbWU6IHN0cmluZykgPT4gYm9vbGVhbjtcbiAgXG4gIC8vIEhlbHBlciBmdW5jdGlvbnNcbiAgZ2V0RmlsZUluZGljYXRvcnM6IChmaWxlbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgc3RhdHVzSWNvbjogc3RyaW5nO1xuICAgIHN0YXR1c0NvbG9yOiBzdHJpbmc7XG4gICAgcGFzdFBhcGVyQmFkZ2U6IHN0cmluZyB8IG51bGw7XG4gICAgYm9yZGVyU3R5bGU6IHN0cmluZztcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IHN0cmluZztcbiAgICBjaGVja2VkOiBib29sZWFuO1xuICB9O1xuICBkZXRlcm1pbmVDaGVja2VkU3RhdGU6IChmaWxlbmFtZTogc3RyaW5nLCBjaGVja0FsbE1vZGU6IGJvb2xlYW4pID0+IGJvb2xlYW47XG59XG5cbi8vIENyZWF0ZSBjb250ZXh0XG5jb25zdCBGaWxlU3RhdHVzQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8RmlsZVN0YXR1c0NvbnRleHRWYWx1ZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuLy8gUHJvdmlkZXIgY29tcG9uZW50XG5pbnRlcmZhY2UgRmlsZVN0YXR1c1Byb3ZpZGVyUHJvcHMge1xuICBjaGlsZHJlbjogUmVhY3ROb2RlO1xuICBzdWJqZWN0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBGaWxlU3RhdHVzUHJvdmlkZXI6IFJlYWN0LkZDPEZpbGVTdGF0dXNQcm92aWRlclByb3BzPiA9ICh7IGNoaWxkcmVuLCBzdWJqZWN0IH0pID0+IHtcbiAgY29uc3QgW2ZpbGVTdGF0dXNlcywgc2V0RmlsZVN0YXR1c2VzXSA9IHVzZVN0YXRlPHsgW2ZpbGVuYW1lOiBzdHJpbmddOiBGaWxlU3RhdHVzIH0+KHt9KTtcbiAgY29uc3QgW2xvYWRpbmdTdGF0dXNlcywgc2V0TG9hZGluZ1N0YXR1c2VzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRpbmdNQ1FEYXRhLCBzZXRMb2FkaW5nTUNRRGF0YV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gTG9hZCBmaWxlIHN0YXR1c2VzIGZyb20gYmFja2VuZCAoYmF0Y2ggQVBJIGNhbGwpXG4gIGNvbnN0IGxvYWRGaWxlU3RhdHVzZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoc3ViamVjdE5hbWU6IHN0cmluZywgZmlsZW5hbWVzOiBzdHJpbmdbXSkgPT4ge1xuICAgIGlmIChmaWxlbmFtZXMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgXG4gICAgc2V0TG9hZGluZ1N0YXR1c2VzKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaS5iYXRjaEZpbGVTdGF0dXNlcyhzdWJqZWN0TmFtZSwgZmlsZW5hbWVzKTtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3U3RhdHVzZXM6IHsgW2ZpbGVuYW1lOiBzdHJpbmddOiBGaWxlU3RhdHVzIH0gPSB7fTtcbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBbZmlsZW5hbWUsIGRhdGFdIG9mIE9iamVjdC5lbnRyaWVzKHJlc3BvbnNlLnN0YXR1c2VzKSkge1xuICAgICAgICBjb25zdCBmaWxlRGF0YSA9IGRhdGEgYXMgYW55O1xuICAgICAgICBjb25zdCBmaWxlTnVtID0gcGFyc2VJbnQoZmlsZW5hbWUucmVwbGFjZSgvXFxEL2csICcnKSkgfHwgOTk5OTk5O1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGNoZWNrZWQgc3RhdGUgZnJvbSBsb2NhbFN0b3JhZ2UgKHVzZXIgcHJlZmVyZW5jZSlcbiAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHN0b3JhZ2UubG9hZFNlc3Npb24oc3ViamVjdE5hbWUpO1xuICAgICAgICBjb25zdCBjYWNoZWRDaGVja2VkID0gc2Vzc2lvbj8uY2hlY2tlZEZpbGVzPy5bZmlsZW5hbWVdO1xuICAgICAgICBcbiAgICAgICAgbmV3U3RhdHVzZXNbZmlsZW5hbWVdID0ge1xuICAgICAgICAgIHN0YXR1czogZmlsZURhdGEuc3RhdHVzID09PSAnc2F2ZWQnID8gJ3NhdmVkJyA6IFxuICAgICAgICAgICAgICAgICBmaWxlRGF0YS5zdGF0dXMgPT09ICdyZW1vdmVkJyA/ICdyZW1vdmVkJyA6ICd1bmtub3duJyxcbiAgICAgICAgICBjaGVja2VkOiBjYWNoZWRDaGVja2VkICE9PSB1bmRlZmluZWQgPyBjYWNoZWRDaGVja2VkIDogXG4gICAgICAgICAgICAgICAgICAgZmlsZURhdGEuc3RhdHVzID09PSAnc2F2ZWQnID8gdHJ1ZSA6IFxuICAgICAgICAgICAgICAgICAgIGZpbGVEYXRhLnN0YXR1cyA9PT0gJ3JlbW92ZWQnID8gZmFsc2UgOiBmYWxzZSxcbiAgICAgICAgICBoYXNZZWFyOiBmaWxlRGF0YS5oYXNfeWVhciB8fCBmYWxzZSxcbiAgICAgICAgICBmaWxlTnVtOiBmaWxlTnVtLFxuICAgICAgICAgIHJlbW92YWxJbmZvOiBmaWxlRGF0YS5yZW1vdmFsX2luZm8gfHwgdW5kZWZpbmVkLFxuICAgICAgICAgIGtlcHRGaWxlRGF0YTogZmlsZURhdGEua2VwdF9maWxlX2RhdGEgfHwgdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldEZpbGVTdGF0dXNlcyhwcmV2ID0+ICh7IC4uLnByZXYsIC4uLm5ld1N0YXR1c2VzIH0pKTtcbiAgICAgIFxuICAgICAgLy8gU2F2ZSBtZXRhZGF0YSB0byBsb2NhbFN0b3JhZ2UgKGZvciBhdXRvLXNlbGVjdGlvbilcbiAgICAgIGNvbnN0IG1jcU1ldGFkYXRhOiB7IFtmaWxlbmFtZTogc3RyaW5nXTogeyBoYXNZZWFyOiBib29sZWFuOyBmaWxlTnVtOiBudW1iZXIgfSB9ID0ge307XG4gICAgICBmb3IgKGNvbnN0IFtmaWxlbmFtZSwgc3RhdHVzXSBvZiBPYmplY3QuZW50cmllcyhuZXdTdGF0dXNlcykpIHtcbiAgICAgICAgbWNxTWV0YWRhdGFbZmlsZW5hbWVdID0ge1xuICAgICAgICAgIGhhc1llYXI6IHN0YXR1cy5oYXNZZWFyLFxuICAgICAgICAgIGZpbGVOdW06IHN0YXR1cy5maWxlTnVtXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzdG9yYWdlLnVwZGF0ZU1DUU1ldGFkYXRhKHN1YmplY3ROYW1lLCBtY3FNZXRhZGF0YSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgZmlsZSBzdGF0dXNlczonLCBlcnJvcik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmdTdGF0dXNlcyhmYWxzZSk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gTG9hZCBNQ1EgZGF0YSBmcm9tIGJhY2tlbmQgKGJhdGNoIEFQSSBjYWxsKVxuICBjb25zdCBsb2FkTUNRRGF0YSA9IHVzZUNhbGxiYWNrKGFzeW5jIChzdWJqZWN0TmFtZTogc3RyaW5nLCBmaWxlbmFtZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKGZpbGVuYW1lcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBcbiAgICBzZXRMb2FkaW5nTUNRRGF0YSh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkuYmF0Y2hNQ1FEYXRhKHN1YmplY3ROYW1lLCBmaWxlbmFtZXMpO1xuICAgICAgXG4gICAgICBzZXRGaWxlU3RhdHVzZXMocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgZm9yIChjb25zdCBbZmlsZW5hbWUsIGZpbGVEYXRhXSBvZiBPYmplY3QuZW50cmllcyhyZXNwb25zZS5tY3FfZGF0YSkpIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gZmlsZURhdGEgYXMgYW55O1xuICAgICAgICAgIGlmICh1cGRhdGVkW2ZpbGVuYW1lXSkge1xuICAgICAgICAgICAgdXBkYXRlZFtmaWxlbmFtZV0gPSB7XG4gICAgICAgICAgICAgIC4uLnVwZGF0ZWRbZmlsZW5hbWVdLFxuICAgICAgICAgICAgICBtY3FEYXRhOiBkYXRhLmRhdGEsXG4gICAgICAgICAgICAgIHJlbW92YWxJbmZvOiBkYXRhLnJlbW92YWxfaW5mbyB8fCB1cGRhdGVkW2ZpbGVuYW1lXS5yZW1vdmFsSW5mbyxcbiAgICAgICAgICAgICAga2VwdEZpbGVEYXRhOiBkYXRhLmtlcHRfZmlsZV9kYXRhIHx8IHVwZGF0ZWRbZmlsZW5hbWVdLmtlcHRGaWxlRGF0YVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgTUNRIGRhdGE6JywgZXJyb3IpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nTUNRRGF0YShmYWxzZSk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gVXBkYXRlIGZpbGUgc3RhdHVzXG4gIGNvbnN0IHNldEZpbGVTdGF0dXMgPSB1c2VDYWxsYmFjaygoZmlsZW5hbWU6IHN0cmluZywgc3RhdHVzOiBQYXJ0aWFsPEZpbGVTdGF0dXM+KSA9PiB7XG4gICAgc2V0RmlsZVN0YXR1c2VzKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBbZmlsZW5hbWVdOiB7XG4gICAgICAgIC4uLnByZXZbZmlsZW5hbWVdLFxuICAgICAgICAuLi5zdGF0dXNcbiAgICAgIH0gYXMgRmlsZVN0YXR1c1xuICAgIH0pKTtcbiAgfSwgW10pO1xuXG4gIC8vIFNldCBmaWxlIGNoZWNrZWQgc3RhdGVcbiAgY29uc3Qgc2V0RmlsZUNoZWNrZWQgPSB1c2VDYWxsYmFjaygoZmlsZW5hbWU6IHN0cmluZywgY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgIHNldEZpbGVTdGF0dXNlcyhwcmV2ID0+IHtcbiAgICAgIGlmICghcHJldltmaWxlbmFtZV0pIHtcbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBbZmlsZW5hbWVdOiB7XG4gICAgICAgICAgLi4ucHJldltmaWxlbmFtZV0sXG4gICAgICAgICAgY2hlY2tlZFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEFsc28gdXBkYXRlIGxvY2FsU3RvcmFnZSAodXNlciBwcmVmZXJlbmNlKVxuICAgIHN0b3JhZ2UudXBkYXRlQ2hlY2tlZEZpbGVzKHN1YmplY3QsIGZpbGVuYW1lLCBjaGVja2VkKTtcbiAgfSwgW3N1YmplY3RdKTtcblxuICAvLyBHZXQgZmlsZSBzdGF0dXNcbiAgY29uc3QgZ2V0RmlsZVN0YXR1cyA9IHVzZUNhbGxiYWNrKChmaWxlbmFtZTogc3RyaW5nKTogRmlsZVN0YXR1cyB8IHVuZGVmaW5lZCA9PiB7XG4gICAgcmV0dXJuIGZpbGVTdGF0dXNlc1tmaWxlbmFtZV07XG4gIH0sIFtmaWxlU3RhdHVzZXNdKTtcblxuICAvLyBHZXQgZmlsZSBjaGVja2VkIHN0YXRlXG4gIGNvbnN0IGdldEZpbGVDaGVja2VkID0gdXNlQ2FsbGJhY2soKGZpbGVuYW1lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gZmlsZVN0YXR1c2VzW2ZpbGVuYW1lXT8uY2hlY2tlZCA/PyBmYWxzZTtcbiAgfSwgW2ZpbGVTdGF0dXNlc10pO1xuXG4gIC8vIEdldCBmaWxlIGluZGljYXRvcnMgKGljb25zLCBjb2xvcnMsIGJhZGdlcylcbiAgY29uc3QgZ2V0RmlsZUluZGljYXRvcnMgPSB1c2VDYWxsYmFjaygoZmlsZW5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGZpbGUgPSBmaWxlU3RhdHVzZXNbZmlsZW5hbWVdO1xuICAgIGlmICghZmlsZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzSWNvbjogJ+KXiycsXG4gICAgICAgIHN0YXR1c0NvbG9yOiAnZ3JheScsXG4gICAgICAgIHBhc3RQYXBlckJhZGdlOiBudWxsLFxuICAgICAgICBib3JkZXJTdHlsZTogJ2JvcmRlci1zb2xpZCcsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2JnLW9yYW5nZS01MCcsXG4gICAgICAgIGNoZWNrZWQ6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXNJY29uOiBmaWxlLnN0YXR1cyA9PT0gJ3NhdmVkJyA/ICfinJMnIDogXG4gICAgICAgICAgICAgICAgICBmaWxlLnN0YXR1cyA9PT0gJ3JlbW92ZWQnID8gJ+KclycgOiAn4peLJyxcbiAgICAgIHN0YXR1c0NvbG9yOiBmaWxlLnN0YXR1cyA9PT0gJ3NhdmVkJyA/ICdncmVlbicgOiBcbiAgICAgICAgICAgICAgICAgICBmaWxlLnN0YXR1cyA9PT0gJ3JlbW92ZWQnID8gJ3JlZCcgOiAnZ3JheScsXG4gICAgICBwYXN0UGFwZXJCYWRnZTogZmlsZS5oYXNZZWFyID8gJ1BQJyA6IG51bGwsXG4gICAgICBib3JkZXJTdHlsZTogZmlsZS5oYXNZZWFyID8gJ2JvcmRlci1kb3R0ZWQnIDogJ2JvcmRlci1zb2xpZCcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGZpbGUuaGFzWWVhciA/ICdiZy1ncmVlbi01MCcgOiAnYmctb3JhbmdlLTUwJyxcbiAgICAgIGNoZWNrZWQ6IGZpbGUuY2hlY2tlZFxuICAgIH07XG4gIH0sIFtmaWxlU3RhdHVzZXNdKTtcblxuICAvLyBEZXRlcm1pbmUgY2hlY2tlZCBzdGF0ZSBiYXNlZCBvbiBydWxlc1xuICBjb25zdCBkZXRlcm1pbmVDaGVja2VkU3RhdGUgPSB1c2VDYWxsYmFjaygoZmlsZW5hbWU6IHN0cmluZywgY2hlY2tBbGxNb2RlOiBib29sZWFuKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGZpbGVTdGF0dXNlc1tmaWxlbmFtZV07XG4gICAgaWYgKCFmaWxlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBSdWxlIDE6IFNhdmVkIGZpbGVzIGFsd2F5cyBjaGVja2VkXG4gICAgaWYgKGZpbGUuc3RhdHVzID09PSAnc2F2ZWQnKSByZXR1cm4gdHJ1ZTtcbiAgICBcbiAgICAvLyBSdWxlIDI6IFJlbW92ZWQgZmlsZXMgYWx3YXlzIHVuY2hlY2tlZFxuICAgIGlmIChmaWxlLnN0YXR1cyA9PT0gJ3JlbW92ZWQnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgLy8gUnVsZSAzOiBDaGVjayBBbGwgTW9kZSAtIGNoZWNrIGFsbCB1bmtub3duIGZpbGVzXG4gICAgaWYgKGNoZWNrQWxsTW9kZSkgcmV0dXJuIHRydWU7XG4gICAgXG4gICAgLy8gUnVsZSA0OiBVc2UgY3VycmVudCBjaGVja2VkIHN0YXRlIChmcm9tIHVzZXIgcHJlZmVyZW5jZSBvciBhdXRvLXNlbGVjdGlvbilcbiAgICByZXR1cm4gZmlsZS5jaGVja2VkO1xuICB9LCBbZmlsZVN0YXR1c2VzXSk7XG5cbiAgY29uc3QgdmFsdWU6IEZpbGVTdGF0dXNDb250ZXh0VmFsdWUgPSB7XG4gICAgZmlsZVN0YXR1c2VzLFxuICAgIGxvYWRpbmdTdGF0dXNlcyxcbiAgICBsb2FkaW5nTUNRRGF0YSxcbiAgICBsb2FkRmlsZVN0YXR1c2VzLFxuICAgIGxvYWRNQ1FEYXRhLFxuICAgIHNldEZpbGVTdGF0dXMsXG4gICAgc2V0RmlsZUNoZWNrZWQsXG4gICAgZ2V0RmlsZVN0YXR1cyxcbiAgICBnZXRGaWxlQ2hlY2tlZCxcbiAgICBnZXRGaWxlSW5kaWNhdG9ycyxcbiAgICBkZXRlcm1pbmVDaGVja2VkU3RhdGVcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxGaWxlU3RhdHVzQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvRmlsZVN0YXR1c0NvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59O1xuXG4vLyBIb29rIHRvIHVzZSBjb250ZXh0XG5leHBvcnQgY29uc3QgdXNlRmlsZVN0YXR1cyA9ICgpOiBGaWxlU3RhdHVzQ29udGV4dFZhbHVlID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoRmlsZVN0YXR1c0NvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUZpbGVTdGF0dXMgbXVzdCBiZSB1c2VkIHdpdGhpbiBGaWxlU3RhdHVzUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5cbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsImFwaSIsInN0b3JhZ2UiLCJGaWxlU3RhdHVzQ29udGV4dCIsInVuZGVmaW5lZCIsIkZpbGVTdGF0dXNQcm92aWRlciIsImNoaWxkcmVuIiwic3ViamVjdCIsImZpbGVTdGF0dXNlcyIsInNldEZpbGVTdGF0dXNlcyIsImxvYWRpbmdTdGF0dXNlcyIsInNldExvYWRpbmdTdGF0dXNlcyIsImxvYWRpbmdNQ1FEYXRhIiwic2V0TG9hZGluZ01DUURhdGEiLCJsb2FkRmlsZVN0YXR1c2VzIiwic3ViamVjdE5hbWUiLCJmaWxlbmFtZXMiLCJsZW5ndGgiLCJyZXNwb25zZSIsImJhdGNoRmlsZVN0YXR1c2VzIiwibmV3U3RhdHVzZXMiLCJmaWxlbmFtZSIsImRhdGEiLCJPYmplY3QiLCJlbnRyaWVzIiwic3RhdHVzZXMiLCJmaWxlRGF0YSIsImZpbGVOdW0iLCJwYXJzZUludCIsInJlcGxhY2UiLCJzZXNzaW9uIiwibG9hZFNlc3Npb24iLCJjYWNoZWRDaGVja2VkIiwiY2hlY2tlZEZpbGVzIiwic3RhdHVzIiwiY2hlY2tlZCIsImhhc1llYXIiLCJoYXNfeWVhciIsInJlbW92YWxJbmZvIiwicmVtb3ZhbF9pbmZvIiwia2VwdEZpbGVEYXRhIiwia2VwdF9maWxlX2RhdGEiLCJwcmV2IiwibWNxTWV0YWRhdGEiLCJ1cGRhdGVNQ1FNZXRhZGF0YSIsImVycm9yIiwiY29uc29sZSIsImxvYWRNQ1FEYXRhIiwiYmF0Y2hNQ1FEYXRhIiwidXBkYXRlZCIsIm1jcV9kYXRhIiwibWNxRGF0YSIsInNldEZpbGVTdGF0dXMiLCJzZXRGaWxlQ2hlY2tlZCIsInVwZGF0ZUNoZWNrZWRGaWxlcyIsImdldEZpbGVTdGF0dXMiLCJnZXRGaWxlQ2hlY2tlZCIsImdldEZpbGVJbmRpY2F0b3JzIiwiZmlsZSIsInN0YXR1c0ljb24iLCJzdGF0dXNDb2xvciIsInBhc3RQYXBlckJhZGdlIiwiYm9yZGVyU3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJkZXRlcm1pbmVDaGVja2VkU3RhdGUiLCJjaGVja0FsbE1vZGUiLCJ2YWx1ZSIsIlByb3ZpZGVyIiwidXNlRmlsZVN0YXR1cyIsImNvbnRleHQiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./contexts/FileStatusContext.tsx\n");

/***/ }),

/***/ "./lib/api.ts":
/*!********************!*\
  !*** ./lib/api.ts ***!
  \********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   api: () => (/* binding */ api)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\nconst api = {\n    // Get subjects\n    getSubjects: async ()=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${API_BASE_URL}/api/subjects`);\n        return response.data;\n    },\n    // Process subject with SBERT\n    processSubject: async (subject)=>{\n        try {\n            const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/process/${subject}`, {}, {\n                timeout: 1800000 // 30 minutes timeout for long processing\n            });\n            return response.data;\n        } catch (error) {\n            if (error.response) {\n                throw new Error(error.response.data?.detail || error.response.data?.message || \"Processing failed\");\n            } else if (error.request) {\n                throw new Error(\"Backend server is not responding. Please make sure the backend is running.\");\n            } else {\n                throw error;\n            }\n        }\n    },\n    // Save all files\n    saveAllFiles: async (subject)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/save-all`, {\n            subject\n        });\n        return response.data;\n    },\n    // Get groups\n    getGroups: async (subject)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${API_BASE_URL}/api/groups/${subject}`);\n        return response.data;\n    },\n    // Toggle MCQ\n    toggleMCQ: async (subject, filename, checked)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/toggle-mcq`, {\n            subject,\n            filename,\n            checked\n        });\n        return response.data;\n    },\n    // Submit group\n    submitGroup: async (subject, groupIndex, checkedFiles)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/submit-group`, {\n            subject,\n            group_index: groupIndex,\n            checked_files: checkedFiles\n        });\n        return response.data;\n    },\n    // Get MCQ data\n    getMCQData: async (subject, filename)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${API_BASE_URL}/api/mcq/${subject}/${filename}`);\n        return response.data;\n    },\n    // OPTIMIZED: Batch file statuses (single API call for multiple files)\n    batchFileStatuses: async (subject, filenames)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/batch-file-statuses`, {\n            subject,\n            filenames\n        });\n        return response.data;\n    },\n    // OPTIMIZED: Batch MCQ data (single API call for multiple files)\n    batchMCQData: async (subject, filenames)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/batch-mcq-data`, {\n            subject,\n            filenames\n        });\n        return response.data;\n    },\n    // Get summary\n    getSummary: async (subject)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${API_BASE_URL}/api/summary/${subject}`);\n        return response.data;\n    },\n    // Stop processing\n    stopProcessing: async (subject)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/stop/${subject}`);\n        return response.data;\n    },\n    // Check session\n    checkSession: async (subject)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${API_BASE_URL}/api/session/${subject}`);\n        return response.data;\n    },\n    // Auto-select best MCQ\n    autoSelectBest: async (subject, files)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/auto-select-best`, {\n            subject,\n            files\n        });\n        return response.data;\n    },\n    // Clear session\n    clearSession: async (subject)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"][\"delete\"](`${API_BASE_URL}/api/session/${subject}`);\n        return response.data;\n    },\n    // Track removed files\n    trackRemoved: async (subject)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/track-removed/${subject}`);\n        return response.data;\n    },\n    // Prepare and process with SBERT (resume mode)\n    prepareAndProcess: async (subject)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(`${API_BASE_URL}/api/prepare-and-process/${subject}?resume_sbert=true`, {}, {\n            timeout: 1800000 // 30 minutes timeout for long processing\n        });\n        return response.data;\n    },\n    // Get preparation statistics\n    getPreparationStats: async (subject)=>{\n        const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(`${API_BASE_URL}/api/preparation-stats/${subject}`);\n        return response.data;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9OLFNBQVNFLElBQUk7SUFDdEI7SUFFQSw2QkFBNkI7SUFDN0JpQyxxQkFBcUIsT0FBTy9CO1FBQzFCLE1BQU1KLFdBQVcsTUFBTVAsaURBQVMsQ0FBQyxDQUFDLEVBQUVDLGFBQWEsdUJBQXVCLEVBQUVVLFFBQVEsQ0FBQztRQUNuRixPQUFPSixTQUFTRSxJQUFJO0lBQ3RCO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL21jcS1kZWR1cGxpY2F0aW9uLWZyb250ZW5kLy4vbGliL2FwaS50cz82OGExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IEFQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCc7XG5cbmV4cG9ydCBjb25zdCBhcGkgPSB7XG4gIC8vIEdldCBzdWJqZWN0c1xuICBnZXRTdWJqZWN0czogYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0FQSV9CQVNFX1VSTH0vYXBpL3N1YmplY3RzYCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG5cbiAgLy8gUHJvY2VzcyBzdWJqZWN0IHdpdGggU0JFUlRcbiAgcHJvY2Vzc1N1YmplY3Q6IGFzeW5jIChzdWJqZWN0OiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXBpL3Byb2Nlc3MvJHtzdWJqZWN0fWAsIHt9LCB7XG4gICAgICAgIHRpbWVvdXQ6IDE4MDAwMDAgLy8gMzAgbWludXRlcyB0aW1lb3V0IGZvciBsb25nIHByb2Nlc3NpbmdcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZS5kYXRhPy5kZXRhaWwgfHwgZXJyb3IucmVzcG9uc2UuZGF0YT8ubWVzc2FnZSB8fCAnUHJvY2Vzc2luZyBmYWlsZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVxdWVzdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhY2tlbmQgc2VydmVyIGlzIG5vdCByZXNwb25kaW5nLiBQbGVhc2UgbWFrZSBzdXJlIHRoZSBiYWNrZW5kIGlzIHJ1bm5pbmcuJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gU2F2ZSBhbGwgZmlsZXNcbiAgc2F2ZUFsbEZpbGVzOiBhc3luYyAoc3ViamVjdDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXBpL3NhdmUtYWxsYCwgeyBzdWJqZWN0IH0pO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuXG4gIC8vIEdldCBncm91cHNcbiAgZ2V0R3JvdXBzOiBhc3luYyAoc3ViamVjdDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0JBU0VfVVJMfS9hcGkvZ3JvdXBzLyR7c3ViamVjdH1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcblxuICAvLyBUb2dnbGUgTUNRXG4gIHRvZ2dsZU1DUTogYXN5bmMgKHN1YmplY3Q6IHN0cmluZywgZmlsZW5hbWU6IHN0cmluZywgY2hlY2tlZDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgJHtBUElfQkFTRV9VUkx9L2FwaS90b2dnbGUtbWNxYCwge1xuICAgICAgc3ViamVjdCxcbiAgICAgIGZpbGVuYW1lLFxuICAgICAgY2hlY2tlZFxuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuXG4gIC8vIFN1Ym1pdCBncm91cFxuICBzdWJtaXRHcm91cDogYXN5bmMgKHN1YmplY3Q6IHN0cmluZywgZ3JvdXBJbmRleDogbnVtYmVyLCBjaGVja2VkRmlsZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXBpL3N1Ym1pdC1ncm91cGAsIHtcbiAgICAgIHN1YmplY3QsXG4gICAgICBncm91cF9pbmRleDogZ3JvdXBJbmRleCxcbiAgICAgIGNoZWNrZWRfZmlsZXM6IGNoZWNrZWRGaWxlc1xuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuXG4gIC8vIEdldCBNQ1EgZGF0YVxuICBnZXRNQ1FEYXRhOiBhc3luYyAoc3ViamVjdDogc3RyaW5nLCBmaWxlbmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7QVBJX0JBU0VfVVJMfS9hcGkvbWNxLyR7c3ViamVjdH0vJHtmaWxlbmFtZX1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcblxuICAvLyBPUFRJTUlaRUQ6IEJhdGNoIGZpbGUgc3RhdHVzZXMgKHNpbmdsZSBBUEkgY2FsbCBmb3IgbXVsdGlwbGUgZmlsZXMpXG4gIGJhdGNoRmlsZVN0YXR1c2VzOiBhc3luYyAoc3ViamVjdDogc3RyaW5nLCBmaWxlbmFtZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXBpL2JhdGNoLWZpbGUtc3RhdHVzZXNgLCB7XG4gICAgICBzdWJqZWN0LFxuICAgICAgZmlsZW5hbWVzXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG5cbiAgLy8gT1BUSU1JWkVEOiBCYXRjaCBNQ1EgZGF0YSAoc2luZ2xlIEFQSSBjYWxsIGZvciBtdWx0aXBsZSBmaWxlcylcbiAgYmF0Y2hNQ1FEYXRhOiBhc3luYyAoc3ViamVjdDogc3RyaW5nLCBmaWxlbmFtZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXBpL2JhdGNoLW1jcS1kYXRhYCwge1xuICAgICAgc3ViamVjdCxcbiAgICAgIGZpbGVuYW1lc1xuICAgIH0pO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuXG4gIC8vIEdldCBzdW1tYXJ5XG4gIGdldFN1bW1hcnk6IGFzeW5jIChzdWJqZWN0OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHtBUElfQkFTRV9VUkx9L2FwaS9zdW1tYXJ5LyR7c3ViamVjdH1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcblxuICAvLyBTdG9wIHByb2Nlc3NpbmdcbiAgc3RvcFByb2Nlc3Npbmc6IGFzeW5jIChzdWJqZWN0OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJX0JBU0VfVVJMfS9hcGkvc3RvcC8ke3N1YmplY3R9YCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG5cbiAgLy8gQ2hlY2sgc2Vzc2lvblxuICBjaGVja1Nlc3Npb246IGFzeW5jIChzdWJqZWN0OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHtBUElfQkFTRV9VUkx9L2FwaS9zZXNzaW9uLyR7c3ViamVjdH1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcblxuICAvLyBBdXRvLXNlbGVjdCBiZXN0IE1DUVxuICBhdXRvU2VsZWN0QmVzdDogYXN5bmMgKHN1YmplY3Q6IHN0cmluZywgZmlsZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXBpL2F1dG8tc2VsZWN0LWJlc3RgLCB7XG4gICAgICBzdWJqZWN0LFxuICAgICAgZmlsZXNcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcblxuICAvLyBDbGVhciBzZXNzaW9uXG4gIGNsZWFyU2Vzc2lvbjogYXN5bmMgKHN1YmplY3Q6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZGVsZXRlKGAke0FQSV9CQVNFX1VSTH0vYXBpL3Nlc3Npb24vJHtzdWJqZWN0fWApO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuXG4gIC8vIFRyYWNrIHJlbW92ZWQgZmlsZXNcbiAgdHJhY2tSZW1vdmVkOiBhc3luYyAoc3ViamVjdDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXBpL3RyYWNrLXJlbW92ZWQvJHtzdWJqZWN0fWApO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuXG4gIC8vIFByZXBhcmUgYW5kIHByb2Nlc3Mgd2l0aCBTQkVSVCAocmVzdW1lIG1vZGUpXG4gIHByZXBhcmVBbmRQcm9jZXNzOiBhc3luYyAoc3ViamVjdDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KGAke0FQSV9CQVNFX1VSTH0vYXBpL3ByZXBhcmUtYW5kLXByb2Nlc3MvJHtzdWJqZWN0fT9yZXN1bWVfc2JlcnQ9dHJ1ZWAsIHt9LCB7XG4gICAgICB0aW1lb3V0OiAxODAwMDAwIC8vIDMwIG1pbnV0ZXMgdGltZW91dCBmb3IgbG9uZyBwcm9jZXNzaW5nXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG5cbiAgLy8gR2V0IHByZXBhcmF0aW9uIHN0YXRpc3RpY3NcbiAgZ2V0UHJlcGFyYXRpb25TdGF0czogYXN5bmMgKHN1YmplY3Q6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAke0FQSV9CQVNFX1VSTH0vYXBpL3ByZXBhcmF0aW9uLXN0YXRzLyR7c3ViamVjdH1gKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxufTtcblxuXG4iXSwibmFtZXMiOlsiYXhpb3MiLCJBUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImFwaSIsImdldFN1YmplY3RzIiwicmVzcG9uc2UiLCJnZXQiLCJkYXRhIiwicHJvY2Vzc1N1YmplY3QiLCJzdWJqZWN0IiwicG9zdCIsInRpbWVvdXQiLCJlcnJvciIsIkVycm9yIiwiZGV0YWlsIiwibWVzc2FnZSIsInJlcXVlc3QiLCJzYXZlQWxsRmlsZXMiLCJnZXRHcm91cHMiLCJ0b2dnbGVNQ1EiLCJmaWxlbmFtZSIsImNoZWNrZWQiLCJzdWJtaXRHcm91cCIsImdyb3VwSW5kZXgiLCJjaGVja2VkRmlsZXMiLCJncm91cF9pbmRleCIsImNoZWNrZWRfZmlsZXMiLCJnZXRNQ1FEYXRhIiwiYmF0Y2hGaWxlU3RhdHVzZXMiLCJmaWxlbmFtZXMiLCJiYXRjaE1DUURhdGEiLCJnZXRTdW1tYXJ5Iiwic3RvcFByb2Nlc3NpbmciLCJjaGVja1Nlc3Npb24iLCJhdXRvU2VsZWN0QmVzdCIsImZpbGVzIiwiY2xlYXJTZXNzaW9uIiwiZGVsZXRlIiwidHJhY2tSZW1vdmVkIiwicHJlcGFyZUFuZFByb2Nlc3MiLCJnZXRQcmVwYXJhdGlvblN0YXRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/api.ts\n");

/***/ }),

/***/ "./lib/storage.ts":
/*!************************!*\
  !*** ./lib/storage.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n// Local storage utilities for session persistence\nconst STORAGE_KEY = \"mcq_deduplication_session\";\nconst storage = {\n    // Save session state\n    saveSession: (state)=>{\n        try {\n            const data = {\n                ...state,\n                lastUpdated: Date.now()\n            };\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n            return true;\n        } catch (error) {\n            console.error(\"Failed to save session:\", error);\n            return false;\n        }\n    },\n    // Load session state\n    loadSession: (subject)=>{\n        try {\n            const data = localStorage.getItem(STORAGE_KEY);\n            if (!data) return null;\n            const session = JSON.parse(data);\n            // Return only if it's for the same subject\n            if (session.subject === subject) {\n                return session;\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Failed to load session:\", error);\n            return null;\n        }\n    },\n    // Clear session\n    clearSession: (subject)=>{\n        try {\n            if (subject) {\n                // Clear session for specific subject\n                const data = localStorage.getItem(STORAGE_KEY);\n                if (data) {\n                    const session = JSON.parse(data);\n                    if (session.subject === subject) {\n                        localStorage.removeItem(STORAGE_KEY);\n                    }\n                }\n            } else {\n                // Clear all sessions\n                localStorage.removeItem(STORAGE_KEY);\n            }\n            return true;\n        } catch (error) {\n            console.error(\"Failed to clear session:\", error);\n            return false;\n        }\n    },\n    // Update checked files\n    updateCheckedFiles: (subject, filename, checked)=>{\n        const session = storage.loadSession(subject);\n        if (session) {\n            session.checkedFiles[filename] = checked;\n            storage.saveSession(session);\n        }\n    },\n    // Mark group as completed\n    markGroupCompleted: (subject, groupIndex)=>{\n        const session = storage.loadSession(subject);\n        if (session) {\n            if (!session.completedGroups.includes(groupIndex)) {\n                session.completedGroups.push(groupIndex);\n            }\n            session.currentGroupIndex = groupIndex + 1;\n            storage.saveSession(session);\n        }\n    },\n    // OPTIMIZED: Update file statuses (batch update)\n    updateFileStatuses: (subject, statuses)=>{\n        let session = storage.loadSession(subject);\n        // CREATE session if it doesn't exist\n        if (!session) {\n            session = {\n                subject,\n                currentGroupIndex: 0,\n                completedGroups: [],\n                checkedFiles: {},\n                fileStatuses: {},\n                lastUpdated: Date.now()\n            };\n        }\n        session.fileStatuses = {\n            ...session.fileStatuses,\n            ...statuses\n        };\n        storage.saveSession(session);\n    },\n    // OPTIMIZED: Update removal history\n    updateRemovalHistory: (subject, history)=>{\n        let session = storage.loadSession(subject);\n        // CREATE session if it doesn't exist\n        if (!session) {\n            session = {\n                subject,\n                currentGroupIndex: 0,\n                completedGroups: [],\n                checkedFiles: {},\n                removalHistory: {},\n                lastUpdated: Date.now()\n            };\n        }\n        session.removalHistory = {\n            ...session.removalHistory,\n            ...history\n        };\n        storage.saveSession(session);\n    },\n    // OPTIMIZED: Get file status from localStorage (instant access)\n    getFileStatus: (subject, filename)=>{\n        const session = storage.loadSession(subject);\n        return session?.fileStatuses?.[filename] || \"unknown\";\n    },\n    // OPTIMIZED: Update MCQ metadata (year info, file number)\n    updateMCQMetadata: (subject, metadata)=>{\n        let session = storage.loadSession(subject);\n        // CREATE session if it doesn't exist (FIX: was losing metadata on first load)\n        if (!session) {\n            session = {\n                subject,\n                currentGroupIndex: 0,\n                completedGroups: [],\n                checkedFiles: {},\n                mcqMetadata: {},\n                lastUpdated: Date.now()\n            };\n        }\n        session.mcqMetadata = {\n            ...session.mcqMetadata,\n            ...metadata\n        };\n        storage.saveSession(session);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixRQUFRYSxXQUFXLENBQUNDO1FBRWxDLHFDQUFxQztRQUNyQyxJQUFJLENBQUNFLFNBQVM7WUFDWkEsVUFBVTtnQkFDUkY7Z0JBQ0FlLG1CQUFtQjtnQkFDbkJILGlCQUFpQixFQUFFO2dCQUNuQkgsY0FBYyxDQUFDO2dCQUNmWSxnQkFBZ0IsQ0FBQztnQkFDakIvQixhQUFhQyxLQUFLQyxHQUFHO1lBQ3ZCO1FBQ0Y7UUFFQVUsUUFBUW1CLGNBQWMsR0FBRztZQUFFLEdBQUduQixRQUFRbUIsY0FBYztZQUFFLEdBQUdELE9BQU87UUFBQztRQUNqRWxDLFFBQVFDLFdBQVcsQ0FBQ2U7SUFDdEI7SUFFQSxnRUFBZ0U7SUFDaEVvQixlQUFlLENBQUN0QixTQUFpQk87UUFDL0IsTUFBTUwsVUFBVWhCLFFBQVFhLFdBQVcsQ0FBQ0M7UUFDcEMsT0FBT0UsU0FBU2dCLGNBQWMsQ0FBQ1gsU0FBUyxJQUFJO0lBQzlDO0lBRUEsMERBQTBEO0lBQzFEZ0IsbUJBQW1CLENBQUN2QixTQUFpQndCO1FBQ25DLElBQUl0QixVQUFVaEIsUUFBUWEsV0FBVyxDQUFDQztRQUVsQyw4RUFBOEU7UUFDOUUsSUFBSSxDQUFDRSxTQUFTO1lBQ1pBLFVBQVU7Z0JBQ1JGO2dCQUNBZSxtQkFBbUI7Z0JBQ25CSCxpQkFBaUIsRUFBRTtnQkFDbkJILGNBQWMsQ0FBQztnQkFDZmdCLGFBQWEsQ0FBQztnQkFDZG5DLGFBQWFDLEtBQUtDLEdBQUc7WUFDdkI7UUFDRjtRQUVBVSxRQUFRdUIsV0FBVyxHQUFHO1lBQUUsR0FBR3ZCLFFBQVF1QixXQUFXO1lBQUUsR0FBR0QsUUFBUTtRQUFDO1FBQzVEdEMsUUFBUUMsV0FBVyxDQUFDZTtJQUN0QjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tY3EtZGVkdXBsaWNhdGlvbi1mcm9udGVuZC8uL2xpYi9zdG9yYWdlLnRzPzVkYzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gTG9jYWwgc3RvcmFnZSB1dGlsaXRpZXMgZm9yIHNlc3Npb24gcGVyc2lzdGVuY2VcblxuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uU3RhdGUge1xuICBzdWJqZWN0OiBzdHJpbmc7XG4gIGN1cnJlbnRHcm91cEluZGV4OiBudW1iZXI7XG4gIGNvbXBsZXRlZEdyb3VwczogbnVtYmVyW107XG4gIGNoZWNrZWRGaWxlczogeyBbZmlsZW5hbWU6IHN0cmluZ106IGJvb2xlYW4gfTtcbiAgc2ltaWxhcml0eUxldmVsSW5kZXg/OiBudW1iZXI7XG4gIHNpbWlsYXJpdHlSYW5nZVN0YXJ0PzogbnVtYmVyO1xuICBzaW1pbGFyaXR5UmFuZ2VFbmQ/OiBudW1iZXI7XG4gIG1heEdyb3Vwc1BlclBhZ2U/OiBudW1iZXI7IC8vIERlcHJlY2F0ZWQsIGtlcHQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgdGFyZ2V0R3JvdXBzUGVyUGFnZT86IG51bWJlcjsgLy8gVGFyZ2V0IGdyb3VwcyBwZXIgcGFnZSAoYXBwcm94aW1hdGUsIG5vdCBzdHJpY3QpXG4gIHBhZ2VDb21wbGV0ZWQ/OiBib29sZWFuO1xuICBwYWdlSGlzdG9yeT86IEFycmF5PHsgc3RhcnQ6IG51bWJlcjsgZW5kOiBudW1iZXIgfT47XG4gIC8vIE9QVElNSVpFRDogQWRkIGZpbGUgc3RhdHVzZXMgYW5kIHJlbW92YWwgaGlzdG9yeSBmb3IgZmFzdGVyIGFjY2Vzc1xuICBmaWxlU3RhdHVzZXM/OiB7IFtmaWxlbmFtZTogc3RyaW5nXTogJ3NhdmVkJyB8ICdyZW1vdmVkJyB8ICd1bmtub3duJyB9O1xuICByZW1vdmFsSGlzdG9yeT86IHsgW2ZpbGVuYW1lOiBzdHJpbmddOiBhbnkgfTtcbiAgLy8gT1BUSU1JWkVEOiBTdG9yZSBNQ1EgbWV0YWRhdGEgKHllYXIgaW5mbykgZm9yIGF1dG8tc2VsZWN0aW9uXG4gIG1jcU1ldGFkYXRhPzogeyBbZmlsZW5hbWU6IHN0cmluZ106IHsgaGFzWWVhcjogYm9vbGVhbjsgZmlsZU51bTogbnVtYmVyIH0gfTtcbiAgbGFzdFVwZGF0ZWQ6IG51bWJlcjtcbn1cblxuY29uc3QgU1RPUkFHRV9LRVkgPSAnbWNxX2RlZHVwbGljYXRpb25fc2Vzc2lvbic7XG5cbmV4cG9ydCBjb25zdCBzdG9yYWdlID0ge1xuICAvLyBTYXZlIHNlc3Npb24gc3RhdGVcbiAgc2F2ZVNlc3Npb246IChzdGF0ZTogU2Vzc2lvblN0YXRlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBsYXN0VXBkYXRlZDogRGF0ZS5ub3coKVxuICAgICAgfTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgc2Vzc2lvbjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIC8vIExvYWQgc2Vzc2lvbiBzdGF0ZVxuICBsb2FkU2Vzc2lvbjogKHN1YmplY3Q6IHN0cmluZyk6IFNlc3Npb25TdGF0ZSB8IG51bGwgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpO1xuICAgICAgaWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcblxuICAgICAgY29uc3Qgc2Vzc2lvbiA9IEpTT04ucGFyc2UoZGF0YSkgYXMgU2Vzc2lvblN0YXRlO1xuICAgICAgXG4gICAgICAvLyBSZXR1cm4gb25seSBpZiBpdCdzIGZvciB0aGUgc2FtZSBzdWJqZWN0XG4gICAgICBpZiAoc2Vzc2lvbi5zdWJqZWN0ID09PSBzdWJqZWN0KSB7XG4gICAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LFxuXG4gIC8vIENsZWFyIHNlc3Npb25cbiAgY2xlYXJTZXNzaW9uOiAoc3ViamVjdD86IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoc3ViamVjdCkge1xuICAgICAgICAvLyBDbGVhciBzZXNzaW9uIGZvciBzcGVjaWZpYyBzdWJqZWN0XG4gICAgICAgIGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSk7XG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IEpTT04ucGFyc2UoZGF0YSkgYXMgU2Vzc2lvblN0YXRlO1xuICAgICAgICAgIGlmIChzZXNzaW9uLnN1YmplY3QgPT09IHN1YmplY3QpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfS0VZKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENsZWFyIGFsbCBzZXNzaW9uc1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTVE9SQUdFX0tFWSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNsZWFyIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvLyBVcGRhdGUgY2hlY2tlZCBmaWxlc1xuICB1cGRhdGVDaGVja2VkRmlsZXM6IChzdWJqZWN0OiBzdHJpbmcsIGZpbGVuYW1lOiBzdHJpbmcsIGNoZWNrZWQ6IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCBzZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgc2Vzc2lvbi5jaGVja2VkRmlsZXNbZmlsZW5hbWVdID0gY2hlY2tlZDtcbiAgICAgIHN0b3JhZ2Uuc2F2ZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgfVxuICB9LFxuXG4gIC8vIE1hcmsgZ3JvdXAgYXMgY29tcGxldGVkXG4gIG1hcmtHcm91cENvbXBsZXRlZDogKHN1YmplY3Q6IHN0cmluZywgZ3JvdXBJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHN0b3JhZ2UubG9hZFNlc3Npb24oc3ViamVjdCk7XG4gICAgaWYgKHNlc3Npb24pIHtcbiAgICAgIGlmICghc2Vzc2lvbi5jb21wbGV0ZWRHcm91cHMuaW5jbHVkZXMoZ3JvdXBJbmRleCkpIHtcbiAgICAgICAgc2Vzc2lvbi5jb21wbGV0ZWRHcm91cHMucHVzaChncm91cEluZGV4KTtcbiAgICAgIH1cbiAgICAgIHNlc3Npb24uY3VycmVudEdyb3VwSW5kZXggPSBncm91cEluZGV4ICsgMTtcbiAgICAgIHN0b3JhZ2Uuc2F2ZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgfVxuICB9LFxuXG4gIC8vIE9QVElNSVpFRDogVXBkYXRlIGZpbGUgc3RhdHVzZXMgKGJhdGNoIHVwZGF0ZSlcbiAgdXBkYXRlRmlsZVN0YXR1c2VzOiAoc3ViamVjdDogc3RyaW5nLCBzdGF0dXNlczogeyBbZmlsZW5hbWU6IHN0cmluZ106ICdzYXZlZCcgfCAncmVtb3ZlZCcgfCAndW5rbm93bicgfSkgPT4ge1xuICAgIGxldCBzZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICBcbiAgICAvLyBDUkVBVEUgc2Vzc2lvbiBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICBzZXNzaW9uID0ge1xuICAgICAgICBzdWJqZWN0LFxuICAgICAgICBjdXJyZW50R3JvdXBJbmRleDogMCxcbiAgICAgICAgY29tcGxldGVkR3JvdXBzOiBbXSxcbiAgICAgICAgY2hlY2tlZEZpbGVzOiB7fSxcbiAgICAgICAgZmlsZVN0YXR1c2VzOiB7fSxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IERhdGUubm93KClcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIHNlc3Npb24uZmlsZVN0YXR1c2VzID0geyAuLi5zZXNzaW9uLmZpbGVTdGF0dXNlcywgLi4uc3RhdHVzZXMgfTtcbiAgICBzdG9yYWdlLnNhdmVTZXNzaW9uKHNlc3Npb24pO1xuICB9LFxuXG4gIC8vIE9QVElNSVpFRDogVXBkYXRlIHJlbW92YWwgaGlzdG9yeVxuICB1cGRhdGVSZW1vdmFsSGlzdG9yeTogKHN1YmplY3Q6IHN0cmluZywgaGlzdG9yeTogeyBbZmlsZW5hbWU6IHN0cmluZ106IGFueSB9KSA9PiB7XG4gICAgbGV0IHNlc3Npb24gPSBzdG9yYWdlLmxvYWRTZXNzaW9uKHN1YmplY3QpO1xuICAgIFxuICAgIC8vIENSRUFURSBzZXNzaW9uIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIHNlc3Npb24gPSB7XG4gICAgICAgIHN1YmplY3QsXG4gICAgICAgIGN1cnJlbnRHcm91cEluZGV4OiAwLFxuICAgICAgICBjb21wbGV0ZWRHcm91cHM6IFtdLFxuICAgICAgICBjaGVja2VkRmlsZXM6IHt9LFxuICAgICAgICByZW1vdmFsSGlzdG9yeToge30sXG4gICAgICAgIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBzZXNzaW9uLnJlbW92YWxIaXN0b3J5ID0geyAuLi5zZXNzaW9uLnJlbW92YWxIaXN0b3J5LCAuLi5oaXN0b3J5IH07XG4gICAgc3RvcmFnZS5zYXZlU2Vzc2lvbihzZXNzaW9uKTtcbiAgfSxcblxuICAvLyBPUFRJTUlaRUQ6IEdldCBmaWxlIHN0YXR1cyBmcm9tIGxvY2FsU3RvcmFnZSAoaW5zdGFudCBhY2Nlc3MpXG4gIGdldEZpbGVTdGF0dXM6IChzdWJqZWN0OiBzdHJpbmcsIGZpbGVuYW1lOiBzdHJpbmcpOiAnc2F2ZWQnIHwgJ3JlbW92ZWQnIHwgJ3Vua25vd24nID0+IHtcbiAgICBjb25zdCBzZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICByZXR1cm4gc2Vzc2lvbj8uZmlsZVN0YXR1c2VzPy5bZmlsZW5hbWVdIHx8ICd1bmtub3duJztcbiAgfSxcblxuICAvLyBPUFRJTUlaRUQ6IFVwZGF0ZSBNQ1EgbWV0YWRhdGEgKHllYXIgaW5mbywgZmlsZSBudW1iZXIpXG4gIHVwZGF0ZU1DUU1ldGFkYXRhOiAoc3ViamVjdDogc3RyaW5nLCBtZXRhZGF0YTogeyBbZmlsZW5hbWU6IHN0cmluZ106IHsgaGFzWWVhcjogYm9vbGVhbjsgZmlsZU51bTogbnVtYmVyIH0gfSkgPT4ge1xuICAgIGxldCBzZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICBcbiAgICAvLyBDUkVBVEUgc2Vzc2lvbiBpZiBpdCBkb2Vzbid0IGV4aXN0IChGSVg6IHdhcyBsb3NpbmcgbWV0YWRhdGEgb24gZmlyc3QgbG9hZClcbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIHNlc3Npb24gPSB7XG4gICAgICAgIHN1YmplY3QsXG4gICAgICAgIGN1cnJlbnRHcm91cEluZGV4OiAwLFxuICAgICAgICBjb21wbGV0ZWRHcm91cHM6IFtdLFxuICAgICAgICBjaGVja2VkRmlsZXM6IHt9LFxuICAgICAgICBtY3FNZXRhZGF0YToge30sXG4gICAgICAgIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICBzZXNzaW9uLm1jcU1ldGFkYXRhID0geyAuLi5zZXNzaW9uLm1jcU1ldGFkYXRhLCAuLi5tZXRhZGF0YSB9O1xuICAgIHN0b3JhZ2Uuc2F2ZVNlc3Npb24oc2Vzc2lvbik7XG4gIH1cbn07XG5cbiJdLCJuYW1lcyI6WyJTVE9SQUdFX0tFWSIsInN0b3JhZ2UiLCJzYXZlU2Vzc2lvbiIsInN0YXRlIiwiZGF0YSIsImxhc3RVcGRhdGVkIiwiRGF0ZSIsIm5vdyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJjb25zb2xlIiwibG9hZFNlc3Npb24iLCJzdWJqZWN0IiwiZ2V0SXRlbSIsInNlc3Npb24iLCJwYXJzZSIsImNsZWFyU2Vzc2lvbiIsInJlbW92ZUl0ZW0iLCJ1cGRhdGVDaGVja2VkRmlsZXMiLCJmaWxlbmFtZSIsImNoZWNrZWQiLCJjaGVja2VkRmlsZXMiLCJtYXJrR3JvdXBDb21wbGV0ZWQiLCJncm91cEluZGV4IiwiY29tcGxldGVkR3JvdXBzIiwiaW5jbHVkZXMiLCJwdXNoIiwiY3VycmVudEdyb3VwSW5kZXgiLCJ1cGRhdGVGaWxlU3RhdHVzZXMiLCJzdGF0dXNlcyIsImZpbGVTdGF0dXNlcyIsInVwZGF0ZVJlbW92YWxIaXN0b3J5IiwiaGlzdG9yeSIsInJlbW92YWxIaXN0b3J5IiwiZ2V0RmlsZVN0YXR1cyIsInVwZGF0ZU1DUU1ldGFkYXRhIiwibWV0YWRhdGEiLCJtY3FNZXRhZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/storage.ts\n");

/***/ }),

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction App({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n        ...pageProps\n    }, void 0, false, {\n        fileName: \"/Users/mac/testpoint/frontend/pages/_app.tsx\",\n        lineNumber: 5,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBOEI7QUFHZixTQUFTQSxJQUFJLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFZO0lBQzVELHFCQUFPLDhEQUFDRDtRQUFXLEdBQUdDLFNBQVM7Ozs7OztBQUNqQyIsInNvdXJjZXMiOlsid2VicGFjazovL21jcS1kZWR1cGxpY2F0aW9uLWZyb250ZW5kLy4vcGFnZXMvX2FwcC50c3g/MmZiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL3N0eWxlcy9nbG9iYWxzLmNzcydcbmltcG9ydCB0eXBlIHsgQXBwUHJvcHMgfSBmcm9tICduZXh0L2FwcCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfTogQXBwUHJvcHMpIHtcbiAgcmV0dXJuIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbn1cblxuXG5cbiJdLCJuYW1lcyI6WyJBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./pages/process/[subject].tsx":
/*!*************************************!*\
  !*** ./pages/process/[subject].tsx ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProcessSubject)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_ProgressIndicator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/ProgressIndicator */ \"./components/ProgressIndicator.tsx\");\n/* harmony import */ var _components_SimilarityGroupView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/SimilarityGroupView */ \"./components/SimilarityGroupView.tsx\");\n/* harmony import */ var _components_Toast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/Toast */ \"./components/Toast.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/api */ \"./lib/api.ts\");\n/* harmony import */ var _lib_storage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/storage */ \"./lib/storage.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_SimilarityGroupView__WEBPACK_IMPORTED_MODULE_4__, _lib_api__WEBPACK_IMPORTED_MODULE_6__]);\n([_components_SimilarityGroupView__WEBPACK_IMPORTED_MODULE_4__, _lib_api__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\nfunction ProcessSubject() {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const { subject } = router.query;\n    const [stage, setStage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"processing\");\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [statusMessage, setStatusMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Initializing...\");\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [totalFiles, setTotalFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [nonDuplicateCount, setNonDuplicateCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [similarCount, setSimilarCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [groupCount, setGroupCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [similarityBins, setSimilarityBins] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [groups, setGroups] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [groupsPairwise, setGroupsPairwise] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [similarityLevelIndex, setSimilarityLevelIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [completedGroups, setCompletedGroups] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [startFromMin, setStartFromMin] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const similarityGroupViewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [showSummaryModal, setShowSummaryModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showToast, setShowToast] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [toastMessage, setToastMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (subject && typeof subject === \"string\") {\n            checkAndResume(subject);\n        }\n    }, [\n        subject\n    ]);\n    const checkAndResume = async (subjectName)=>{\n        try {\n            // Check if restart is requested\n            const urlParams = new URLSearchParams(window.location.search);\n            const restart = urlParams.get(\"restart\");\n            if (restart === \"true\") {\n                // Clear URL parameter and start fresh\n                window.history.replaceState({}, \"\", `/process/${subjectName}`);\n                startProcessing(subjectName);\n                return;\n            }\n            // Check if session exists\n            const sessionCheck = await _lib_api__WEBPACK_IMPORTED_MODULE_6__.api.checkSession(subjectName);\n            if (sessionCheck.exists) {\n                const session = sessionCheck.session;\n                // If files are saved, go directly to review\n                if (session.files_saved) {\n                    const groupsData = await _lib_api__WEBPACK_IMPORTED_MODULE_6__.api.getGroups(subjectName);\n                    const pairwise = groupsData.groups_pairwise || groupsData.groups || [];\n                    setGroupsPairwise(pairwise);\n                    setGroups(pairwise);\n                    setTotalFiles(groupsData.total_files);\n                    setNonDuplicateCount(groupsData.non_duplicate_count);\n                    setSimilarCount(groupsData.total_files - groupsData.non_duplicate_count);\n                    setGroupCount(pairwise.length);\n                    setCompletedGroups(groupsData.completed_groups || []);\n                    // Load saved similarity level index from localStorage\n                    const savedSession = _lib_storage__WEBPACK_IMPORTED_MODULE_7__.storage.loadSession(subjectName);\n                    if (savedSession && savedSession.similarityLevelIndex !== undefined) {\n                        setSimilarityLevelIndex(savedSession.similarityLevelIndex);\n                    }\n                    // Go directly to review (SimilarityGroupView handles navigation internally)\n                    setStage(\"review\");\n                    return;\n                } else {\n                    // Processing complete but files not saved yet - auto-proceed to review\n                    setTotalFiles(session.total_files);\n                    setNonDuplicateCount(session.non_duplicate_count);\n                    setSimilarCount(session.total_files - session.non_duplicate_count);\n                    // Get groups and proceed directly to review\n                    const groupsData = await _lib_api__WEBPACK_IMPORTED_MODULE_6__.api.getGroups(subjectName);\n                    const pairwise = groupsData.groups_pairwise || groupsData.groups || [];\n                    setGroupsPairwise(pairwise);\n                    setGroups(pairwise);\n                    setGroupCount(pairwise.length);\n                    setCompletedGroups(groupsData.completed_groups || []);\n                    // Load saved similarity level index from localStorage\n                    const savedSession = _lib_storage__WEBPACK_IMPORTED_MODULE_7__.storage.loadSession(subjectName);\n                    if (savedSession?.similarityLevelIndex !== undefined) {\n                        setSimilarityLevelIndex(savedSession.similarityLevelIndex);\n                    }\n                    setStage(\"review\");\n                    return;\n                }\n            }\n            // No session, start fresh\n            startProcessing(subjectName);\n        } catch (error) {\n            console.error(\"Error checking session:\", error);\n            // On error, start fresh\n            startProcessing(subjectName);\n        }\n    };\n    // Handle browser navigation/close during processing\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleBeforeUnload = (e)=>{\n            if (stage === \"processing\") {\n                e.preventDefault();\n                e.returnValue = \"Processing in progress. Are you sure you want to leave?\";\n            }\n        };\n        window.addEventListener(\"beforeunload\", handleBeforeUnload);\n        return ()=>window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n    }, [\n        stage\n    ]);\n    const startProcessing = async (subjectName)=>{\n        setStage(\"processing\");\n        setProgress(0);\n        setStatusMessage(\"Starting processing...\");\n        setError(\"\");\n        // Fake progress bar: goes to 99% in 10 seconds, then waits for completion\n        const progressInterval = setInterval(()=>{\n            setProgress((prev)=>{\n                if (prev < 99) {\n                    return Math.min(prev + 10, 99);\n                }\n                return prev;\n            });\n        }, 1000);\n        try {\n            const result = await _lib_api__WEBPACK_IMPORTED_MODULE_6__.api.processSubject(subjectName);\n            clearInterval(progressInterval);\n            setProgress(100);\n            setStatusMessage(\"Processing complete!\");\n            setTotalFiles(result.total_files);\n            setNonDuplicateCount(result.non_duplicate_count);\n            setSimilarCount(result.similar_count);\n            setGroupCount(result.group_count);\n            setSimilarityBins(result.similarity_bins || []);\n            // Load groups and proceed to review\n            setTimeout(async ()=>{\n                try {\n                    const groupsData = await _lib_api__WEBPACK_IMPORTED_MODULE_6__.api.getGroups(subjectName);\n                    const pairwise = groupsData.groups_pairwise || groupsData.groups || [];\n                    setGroupsPairwise(pairwise);\n                    setGroups(pairwise);\n                    setShowSummaryModal(true);\n                    setStage(\"review\");\n                } catch (error) {\n                    setError(\"Failed to load groups\");\n                    // Still proceed to review even if groups load fails\n                    setStage(\"review\");\n                }\n            }, 500);\n        } catch (error) {\n            clearInterval(progressInterval);\n            const errorMessage = error.response?.data?.detail || error.response?.data?.message || error.message || \"Processing failed\";\n            setError(errorMessage);\n            setStatusMessage(`Error: ${errorMessage}`);\n        }\n    };\n    const showToastMessage = (message)=>{\n        setToastMessage(message);\n        setShowToast(true);\n    };\n    const handleSimilarityGroupsSubmitted = async ()=>{\n        // Show toast\n        showToastMessage(\"All groups saved!\");\n        // Reload completed groups\n        try {\n            if (typeof subject === \"string\") {\n                const groupsData = await _lib_api__WEBPACK_IMPORTED_MODULE_6__.api.getGroups(subject);\n                setCompletedGroups(groupsData.completed_groups || []);\n            }\n        } catch (error) {\n            console.error(\"Failed to reload groups:\", error);\n        }\n    };\n    if (!subject || typeof subject !== \"string\") {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-600\",\n                    children: \"Loading...\"\n                }, void 0, false, {\n                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                    lineNumber: 216,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                lineNumber: 215,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n            lineNumber: 214,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Toast__WEBPACK_IMPORTED_MODULE_5__.Toast, {\n                message: toastMessage,\n                show: showToast,\n                onClose: ()=>setShowToast(false)\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                lineNumber: 225,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>router.push(\"/\"),\n                className: \"fixed top-4 left-4 text-blue-600 hover:text-blue-800 underline z-50\",\n                children: \"← Home\"\n            }, void 0, false, {\n                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                lineNumber: 232,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"max-w-7xl mx-auto\",\n                children: [\n                    stage === \"review\" && groups.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center gap-4 mb-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-4xl font-bold text-gray-800 capitalize\",\n                                children: subject.replace(/-/g, \" \")\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                lineNumber: 243,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    if (similarityGroupViewRef.current) {\n                                        if (startFromMin) {\n                                            // Currently at min, jump to max\n                                            similarityGroupViewRef.current.jumpToMax();\n                                            setStartFromMin(false);\n                                        } else {\n                                            // Currently at max, jump to min\n                                            similarityGroupViewRef.current.jumpToMin();\n                                            setStartFromMin(true);\n                                        }\n                                    }\n                                },\n                                className: `px-4 py-2 rounded-lg font-semibold transition-all ${startFromMin ? \"bg-green-600 text-white hover:bg-green-700\" : \"bg-blue-600 text-white hover:bg-blue-700\"}`,\n                                title: startFromMin ? \"Currently at Min (85.0) - Click to jump to Max (100.0)\" : \"Currently at Max (100.0) - Click to jump to Min (85.0)\",\n                                children: startFromMin ? \"Min (85.0)\" : \"Max (100.0)\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                lineNumber: 246,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                        lineNumber: 242,\n                        columnNumber: 11\n                    }, this),\n                    stage !== \"review\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center mb-8\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-4xl font-bold text-gray-800 mb-2 capitalize\",\n                            children: subject.replace(/-/g, \" \")\n                        }, void 0, false, {\n                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                            lineNumber: 273,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                        lineNumber: 272,\n                        columnNumber: 11\n                    }, this),\n                    stage === \"processing\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white rounded-2xl shadow-2xl p-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                className: \"text-2xl font-bold text-gray-800 mb-8 text-center\",\n                                children: \"Processing MCQs with SBERT\"\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                lineNumber: 282,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ProgressIndicator__WEBPACK_IMPORTED_MODULE_3__.ProgressIndicator, {\n                                progress: progress,\n                                message: statusMessage\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                lineNumber: 286,\n                                columnNumber: 13\n                            }, this),\n                            error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mt-6 bg-red-50 border border-red-200 rounded-lg p-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-red-700\",\n                                    children: error\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                    lineNumber: 290,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                lineNumber: 289,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                        lineNumber: 281,\n                        columnNumber: 11\n                    }, this),\n                    stage === \"review\" && groups.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_SimilarityGroupView__WEBPACK_IMPORTED_MODULE_4__.SimilarityGroupView, {\n                        ref: similarityGroupViewRef,\n                        subject: subject,\n                        groups: groupsPairwise,\n                        completedGroups: completedGroups,\n                        onGroupsSubmitted: handleSimilarityGroupsSubmitted,\n                        initialLevelIndex: similarityLevelIndex,\n                        onLevelIndexChange: (index)=>{\n                            setSimilarityLevelIndex(index);\n                            // Save to localStorage\n                            if (typeof subject === \"string\") {\n                                const savedSession = _lib_storage__WEBPACK_IMPORTED_MODULE_7__.storage.loadSession(subject);\n                                if (savedSession) {\n                                    savedSession.similarityLevelIndex = index;\n                                    _lib_storage__WEBPACK_IMPORTED_MODULE_7__.storage.saveSession(savedSession);\n                                }\n                            }\n                        },\n                        onLevelsLoaded: (totalLevels)=>{\n                            // Update toggle state based on initial level index\n                            // If index is 0, we're at max; if index is last, we're at min\n                            if (totalLevels > 0) {\n                                setStartFromMin(similarityLevelIndex === totalLevels - 1);\n                            }\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                        lineNumber: 299,\n                        columnNumber: 11\n                    }, this),\n                    showSummaryModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-2xl shadow-2xl p-8 max-w-3xl w-full mx-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                    className: \"text-2xl font-bold text-gray-800 mb-4\",\n                                    children: \"Processing Summary\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                    lineNumber: 329,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"grid grid-cols-2 gap-4 mb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 bg-blue-50 rounded-lg\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Total MCQs\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 332,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold text-gray-900\",\n                                                    children: totalFiles\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 333,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                            lineNumber: 331,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 bg-green-50 rounded-lg\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Non-duplicates\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 336,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold text-gray-900\",\n                                                    children: nonDuplicateCount\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 337,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                            lineNumber: 335,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 bg-orange-50 rounded-lg\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Similar (in groups)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 340,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold text-gray-900\",\n                                                    children: similarCount\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 341,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                            lineNumber: 339,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 bg-purple-50 rounded-lg\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600\",\n                                                    children: \"Groups Found\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 344,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-2xl font-bold text-gray-900\",\n                                                    children: groupCount\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 345,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                            lineNumber: 343,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                    lineNumber: 330,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-h-96 overflow-y-auto border rounded-lg p-4 mb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                    className: \"text-lg font-semibold text-gray-800\",\n                                                    children: \"Groups by Similarity Range\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 350,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-500\",\n                                                    children: [\n                                                        \"Total: \",\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"font-bold text-gray-900\",\n                                                            children: groupCount.toLocaleString()\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                            lineNumber: 352,\n                                                            columnNumber: 28\n                                                        }, this),\n                                                        \" groups\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 351,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                            lineNumber: 349,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-2\",\n                                            children: [\n                                                similarityBins.filter((bin)=>bin.count > 0) // Only show ranges with groups\n                                                .sort((a, b)=>{\n                                                    // Sort by upper bound descending (100-99 first, then 99-98, etc.)\n                                                    const aUpper = parseInt(a.range.split(\"-\")[0]);\n                                                    const bUpper = parseInt(b.range.split(\"-\")[0]);\n                                                    return bUpper - aUpper;\n                                                }).map((bin)=>{\n                                                    // Parse range format \"100-99\" to \"100.0% - 99.0%\"\n                                                    const [upper, lower] = bin.range.split(\"-\").map(Number);\n                                                    const rangeDisplay = `${upper}.0% - ${lower}.0%`;\n                                                    const percentage = groupCount > 0 ? (bin.count / groupCount * 100).toFixed(1) : \"0\";\n                                                    // Color coding based on similarity level\n                                                    let barColor = \"bg-blue-600\";\n                                                    if (upper >= 99) barColor = \"bg-red-600\"; // Very high similarity (red)\n                                                    else if (upper >= 95) barColor = \"bg-orange-600\"; // High similarity (orange)\n                                                    else if (upper >= 90) barColor = \"bg-yellow-600\"; // Medium-high similarity (yellow)\n                                                    else barColor = \"bg-green-600\"; // Lower similarity (green)\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200 hover:shadow-md transition-shadow\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-3 flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"w-36 min-w-[140px]\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-sm font-semibold text-gray-700\",\n                                                                            children: rangeDisplay\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                            lineNumber: 384,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                        lineNumber: 383,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex-1 max-w-md\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"flex-1 bg-gray-200 rounded-full h-5 overflow-hidden\",\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: `${barColor} h-full rounded-full transition-all`,\n                                                                                        style: {\n                                                                                            width: `${percentage}%`\n                                                                                        },\n                                                                                        title: `${bin.count} groups (${percentage}% of total)`\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                                        lineNumber: 389,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                                    lineNumber: 388,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-xs text-gray-600 w-14 text-right font-medium\",\n                                                                                    children: [\n                                                                                        percentage,\n                                                                                        \"%\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                                    lineNumber: 395,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                            lineNumber: 387,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                        lineNumber: 386,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 382,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-right ml-4 min-w-[80px]\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xl font-bold text-gray-900\",\n                                                                        children: bin.count.toLocaleString()\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                        lineNumber: 400,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-gray-500\",\n                                                                        children: [\n                                                                            \"group\",\n                                                                            bin.count !== 1 ? \"s\" : \"\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                        lineNumber: 401,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 399,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, bin.range, true, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                        lineNumber: 378,\n                                                        columnNumber: 25\n                                                    }, this);\n                                                }),\n                                                similarityBins.filter((bin)=>bin.count > 0).length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-gray-500 text-center py-4\",\n                                                    children: \"No groups found in similarity ranges\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                    lineNumber: 407,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                            lineNumber: 355,\n                                            columnNumber: 17\n                                        }, this),\n                                        similarityBins.filter((bin)=>bin.count > 0).length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-4 pt-4 border-t border-gray-200\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-center gap-4 text-xs text-gray-600\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-3 h-3 bg-red-600 rounded\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 414,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"≥99%\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 415,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                        lineNumber: 413,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-3 h-3 bg-orange-600 rounded\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 418,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"95-98%\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 419,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                        lineNumber: 417,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-3 h-3 bg-yellow-600 rounded\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 422,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"90-94%\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 423,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                        lineNumber: 421,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-3 h-3 bg-green-600 rounded\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 426,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"<90%\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                                lineNumber: 427,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                        lineNumber: 425,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                                lineNumber: 412,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                            lineNumber: 411,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                    lineNumber: 348,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-end\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowSummaryModal(false),\n                                        className: \"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow\",\n                                        children: \"Proceed to Similarity Review\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                        lineNumber: 434,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                                    lineNumber: 433,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                            lineNumber: 328,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                        lineNumber: 327,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n                lineNumber: 239,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/mac/testpoint/frontend/pages/process/[subject].tsx\",\n        lineNumber: 223,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUs7Ozs7O2dEQTBCcEI7Z0RBQ0QzRyxlQUFlbUcsTUFBTSxDQUFDQyxDQUFBQSxNQUFPQSxJQUFJQyxLQUFLLEdBQUcsR0FBRzNELE1BQU0sS0FBSyxtQkFDdEQsOERBQUNpQztvREFBRUQsV0FBVTs4REFBaUM7Ozs7Ozs7Ozs7Ozt3Q0FHakQxRSxlQUFlbUcsTUFBTSxDQUFDQyxDQUFBQSxNQUFPQSxJQUFJQyxLQUFLLEdBQUcsR0FBRzNELE1BQU0sR0FBRyxtQkFDcEQsOERBQUMrQjs0Q0FBSUMsV0FBVTtzREFDYiw0RUFBQ0Q7Z0RBQUlDLFdBQVU7O2tFQUNiLDhEQUFDRDt3REFBSUMsV0FBVTs7MEVBQ2IsOERBQUNEO2dFQUFJQyxXQUFVOzs7Ozs7MEVBQ2YsOERBQUN1QjswRUFBSzs7Ozs7Ozs7Ozs7O2tFQUVSLDhEQUFDeEI7d0RBQUlDLFdBQVU7OzBFQUNiLDhEQUFDRDtnRUFBSUMsV0FBVTs7Ozs7OzBFQUNmLDhEQUFDdUI7MEVBQUs7Ozs7Ozs7Ozs7OztrRUFFUiw4REFBQ3hCO3dEQUFJQyxXQUFVOzswRUFDYiw4REFBQ0Q7Z0VBQUlDLFdBQVU7Ozs7OzswRUFDZiw4REFBQ3VCOzBFQUFLOzs7Ozs7Ozs7Ozs7a0VBRVIsOERBQUN4Qjt3REFBSUMsV0FBVTs7MEVBQ2IsOERBQUNEO2dFQUFJQyxXQUFVOzs7Ozs7MEVBQ2YsOERBQUN1QjswRUFBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OENBTWhCLDhEQUFDeEI7b0NBQUlDLFdBQVU7OENBQ2IsNEVBQUNJO3dDQUNDQyxTQUFTLElBQU1qRSxvQkFBb0I7d0NBQ25DNEQsV0FBVTtrREFDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVVqQiIsInNvdXJjZXMiOlsid2VicGFjazovL21jcS1kZWR1cGxpY2F0aW9uLWZyb250ZW5kLy4vcGFnZXMvcHJvY2Vzcy9bc3ViamVjdF0udHN4PzAxNzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcbmltcG9ydCB7IFByb2dyZXNzSW5kaWNhdG9yIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Qcm9ncmVzc0luZGljYXRvcic7XG5pbXBvcnQgeyBTaW1pbGFyaXR5R3JvdXBWaWV3LCBTaW1pbGFyaXR5R3JvdXBWaWV3SGFuZGxlIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9TaW1pbGFyaXR5R3JvdXBWaWV3JztcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9Ub2FzdCc7XG5pbXBvcnQgeyBhcGkgfSBmcm9tICcuLi8uLi9saWIvYXBpJztcbmltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tICcuLi8uLi9saWIvc3RvcmFnZSc7XG5cbmludGVyZmFjZSBHcm91cCB7XG4gIGZpbGVzOiBzdHJpbmdbXTtcbiAgbWF4X3NpbWlsYXJpdHk6IG51bWJlcjtcbiAgc2ltaWxhcml0aWVzOiBBcnJheTx7XG4gICAgZmlsZTE6IHN0cmluZztcbiAgICBmaWxlMjogc3RyaW5nO1xuICAgIHNjb3JlOiBudW1iZXI7XG4gIH0+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQcm9jZXNzU3ViamVjdCgpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IHsgc3ViamVjdCB9ID0gcm91dGVyLnF1ZXJ5O1xuICBcbiAgY29uc3QgW3N0YWdlLCBzZXRTdGFnZV0gPSB1c2VTdGF0ZTwncHJvY2Vzc2luZycgfCAncmV2aWV3JyB8ICdjb21wbGV0ZSc+KCdwcm9jZXNzaW5nJyk7XG4gIGNvbnN0IFtwcm9ncmVzcywgc2V0UHJvZ3Jlc3NdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzdGF0dXNNZXNzYWdlLCBzZXRTdGF0dXNNZXNzYWdlXSA9IHVzZVN0YXRlKCdJbml0aWFsaXppbmcuLi4nKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZSgnJyk7XG4gIFxuICBjb25zdCBbdG90YWxGaWxlcywgc2V0VG90YWxGaWxlc10gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW25vbkR1cGxpY2F0ZUNvdW50LCBzZXROb25EdXBsaWNhdGVDb3VudF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3NpbWlsYXJDb3VudCwgc2V0U2ltaWxhckNvdW50XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZ3JvdXBDb3VudCwgc2V0R3JvdXBDb3VudF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW3NpbWlsYXJpdHlCaW5zLCBzZXRTaW1pbGFyaXR5Qmluc10gPSB1c2VTdGF0ZTx7IHJhbmdlOiBzdHJpbmc7IGNvdW50OiBudW1iZXIgfVtdPihbXSk7XG4gIFxuICBjb25zdCBbZ3JvdXBzLCBzZXRHcm91cHNdID0gdXNlU3RhdGU8R3JvdXBbXT4oW10pO1xuICBjb25zdCBbZ3JvdXBzUGFpcndpc2UsIHNldEdyb3Vwc1BhaXJ3aXNlXSA9IHVzZVN0YXRlPEdyb3VwW10+KFtdKTtcbiAgY29uc3QgW3NpbWlsYXJpdHlMZXZlbEluZGV4LCBzZXRTaW1pbGFyaXR5TGV2ZWxJbmRleF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2NvbXBsZXRlZEdyb3Vwcywgc2V0Q29tcGxldGVkR3JvdXBzXSA9IHVzZVN0YXRlPG51bWJlcltdPihbXSk7XG4gIGNvbnN0IFtzdGFydEZyb21NaW4sIHNldFN0YXJ0RnJvbU1pbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHNpbWlsYXJpdHlHcm91cFZpZXdSZWYgPSB1c2VSZWY8U2ltaWxhcml0eUdyb3VwVmlld0hhbmRsZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2hvd1N1bW1hcnlNb2RhbCwgc2V0U2hvd1N1bW1hcnlNb2RhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICBjb25zdCBbc2hvd1RvYXN0LCBzZXRTaG93VG9hc3RdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdG9hc3RNZXNzYWdlLCBzZXRUb2FzdE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuICBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc3ViamVjdCAmJiB0eXBlb2Ygc3ViamVjdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNoZWNrQW5kUmVzdW1lKHN1YmplY3QpO1xuICAgIH1cbiAgfSwgW3N1YmplY3RdKTtcblxuICBjb25zdCBjaGVja0FuZFJlc3VtZSA9IGFzeW5jIChzdWJqZWN0TmFtZTogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENoZWNrIGlmIHJlc3RhcnQgaXMgcmVxdWVzdGVkXG4gICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICAgICAgY29uc3QgcmVzdGFydCA9IHVybFBhcmFtcy5nZXQoJ3Jlc3RhcnQnKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3RhcnQgPT09ICd0cnVlJykge1xuICAgICAgICAvLyBDbGVhciBVUkwgcGFyYW1ldGVyIGFuZCBzdGFydCBmcmVzaFxuICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sICcnLCBgL3Byb2Nlc3MvJHtzdWJqZWN0TmFtZX1gKTtcbiAgICAgICAgc3RhcnRQcm9jZXNzaW5nKHN1YmplY3ROYW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBzZXNzaW9uIGV4aXN0c1xuICAgICAgY29uc3Qgc2Vzc2lvbkNoZWNrID0gYXdhaXQgYXBpLmNoZWNrU2Vzc2lvbihzdWJqZWN0TmFtZSk7XG4gICAgICBcbiAgICAgIGlmIChzZXNzaW9uQ2hlY2suZXhpc3RzKSB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBzZXNzaW9uQ2hlY2suc2Vzc2lvbjtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIGZpbGVzIGFyZSBzYXZlZCwgZ28gZGlyZWN0bHkgdG8gcmV2aWV3XG4gICAgICAgIGlmIChzZXNzaW9uLmZpbGVzX3NhdmVkKSB7XG4gICAgICAgICAgY29uc3QgZ3JvdXBzRGF0YSA9IGF3YWl0IGFwaS5nZXRHcm91cHMoc3ViamVjdE5hbWUpO1xuICAgICAgICAgIGNvbnN0IHBhaXJ3aXNlID0gZ3JvdXBzRGF0YS5ncm91cHNfcGFpcndpc2UgfHwgZ3JvdXBzRGF0YS5ncm91cHMgfHwgW107XG4gICAgICAgICAgc2V0R3JvdXBzUGFpcndpc2UocGFpcndpc2UpO1xuICAgICAgICAgIHNldEdyb3VwcyhwYWlyd2lzZSk7XG4gICAgICAgICAgc2V0VG90YWxGaWxlcyhncm91cHNEYXRhLnRvdGFsX2ZpbGVzKTtcbiAgICAgICAgICBzZXROb25EdXBsaWNhdGVDb3VudChncm91cHNEYXRhLm5vbl9kdXBsaWNhdGVfY291bnQpO1xuICAgICAgICAgIHNldFNpbWlsYXJDb3VudChncm91cHNEYXRhLnRvdGFsX2ZpbGVzIC0gZ3JvdXBzRGF0YS5ub25fZHVwbGljYXRlX2NvdW50KTtcbiAgICAgICAgICBzZXRHcm91cENvdW50KHBhaXJ3aXNlLmxlbmd0aCk7XG4gICAgICAgICAgc2V0Q29tcGxldGVkR3JvdXBzKGdyb3Vwc0RhdGEuY29tcGxldGVkX2dyb3VwcyB8fCBbXSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTG9hZCBzYXZlZCBzaW1pbGFyaXR5IGxldmVsIGluZGV4IGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICAgICAgY29uc3Qgc2F2ZWRTZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0TmFtZSk7XG4gICAgICAgICAgaWYgKHNhdmVkU2Vzc2lvbiAmJiBzYXZlZFNlc3Npb24uc2ltaWxhcml0eUxldmVsSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2V0U2ltaWxhcml0eUxldmVsSW5kZXgoc2F2ZWRTZXNzaW9uLnNpbWlsYXJpdHlMZXZlbEluZGV4KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gR28gZGlyZWN0bHkgdG8gcmV2aWV3IChTaW1pbGFyaXR5R3JvdXBWaWV3IGhhbmRsZXMgbmF2aWdhdGlvbiBpbnRlcm5hbGx5KVxuICAgICAgICAgIHNldFN0YWdlKCdyZXZpZXcnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUHJvY2Vzc2luZyBjb21wbGV0ZSBidXQgZmlsZXMgbm90IHNhdmVkIHlldCAtIGF1dG8tcHJvY2VlZCB0byByZXZpZXdcbiAgICAgICAgICBzZXRUb3RhbEZpbGVzKHNlc3Npb24udG90YWxfZmlsZXMpO1xuICAgICAgICAgIHNldE5vbkR1cGxpY2F0ZUNvdW50KHNlc3Npb24ubm9uX2R1cGxpY2F0ZV9jb3VudCk7XG4gICAgICAgICAgc2V0U2ltaWxhckNvdW50KHNlc3Npb24udG90YWxfZmlsZXMgLSBzZXNzaW9uLm5vbl9kdXBsaWNhdGVfY291bnQpO1xuICAgICAgICAgIC8vIEdldCBncm91cHMgYW5kIHByb2NlZWQgZGlyZWN0bHkgdG8gcmV2aWV3XG4gICAgICAgICAgY29uc3QgZ3JvdXBzRGF0YSA9IGF3YWl0IGFwaS5nZXRHcm91cHMoc3ViamVjdE5hbWUpO1xuICAgICAgICAgIGNvbnN0IHBhaXJ3aXNlID0gZ3JvdXBzRGF0YS5ncm91cHNfcGFpcndpc2UgfHwgZ3JvdXBzRGF0YS5ncm91cHMgfHwgW107XG4gICAgICAgICAgc2V0R3JvdXBzUGFpcndpc2UocGFpcndpc2UpO1xuICAgICAgICAgIHNldEdyb3VwcyhwYWlyd2lzZSk7XG4gICAgICAgICAgc2V0R3JvdXBDb3VudChwYWlyd2lzZS5sZW5ndGgpO1xuICAgICAgICAgIHNldENvbXBsZXRlZEdyb3Vwcyhncm91cHNEYXRhLmNvbXBsZXRlZF9ncm91cHMgfHwgW10pO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIExvYWQgc2F2ZWQgc2ltaWxhcml0eSBsZXZlbCBpbmRleCBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICAgIGNvbnN0IHNhdmVkU2Vzc2lvbiA9IHN0b3JhZ2UubG9hZFNlc3Npb24oc3ViamVjdE5hbWUpO1xuICAgICAgICAgIGlmIChzYXZlZFNlc3Npb24/LnNpbWlsYXJpdHlMZXZlbEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNldFNpbWlsYXJpdHlMZXZlbEluZGV4KHNhdmVkU2Vzc2lvbi5zaW1pbGFyaXR5TGV2ZWxJbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHNldFN0YWdlKCdyZXZpZXcnKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gTm8gc2Vzc2lvbiwgc3RhcnQgZnJlc2hcbiAgICAgIHN0YXJ0UHJvY2Vzc2luZyhzdWJqZWN0TmFtZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHNlc3Npb246JywgZXJyb3IpO1xuICAgICAgLy8gT24gZXJyb3IsIHN0YXJ0IGZyZXNoXG4gICAgICBzdGFydFByb2Nlc3Npbmcoc3ViamVjdE5hbWUpO1xuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgYnJvd3NlciBuYXZpZ2F0aW9uL2Nsb3NlIGR1cmluZyBwcm9jZXNzaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQmVmb3JlVW5sb2FkID0gKGU6IEJlZm9yZVVubG9hZEV2ZW50KSA9PiB7XG4gICAgICBpZiAoc3RhZ2UgPT09ICdwcm9jZXNzaW5nJykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUucmV0dXJuVmFsdWUgPSAnUHJvY2Vzc2luZyBpbiBwcm9ncmVzcy4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlPyc7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBoYW5kbGVCZWZvcmVVbmxvYWQpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgaGFuZGxlQmVmb3JlVW5sb2FkKTtcbiAgfSwgW3N0YWdlXSk7XG5cbiAgY29uc3Qgc3RhcnRQcm9jZXNzaW5nID0gYXN5bmMgKHN1YmplY3ROYW1lOiBzdHJpbmcpID0+IHtcbiAgICBzZXRTdGFnZSgncHJvY2Vzc2luZycpO1xuICAgIHNldFByb2dyZXNzKDApO1xuICAgIHNldFN0YXR1c01lc3NhZ2UoJ1N0YXJ0aW5nIHByb2Nlc3NpbmcuLi4nKTtcbiAgICBzZXRFcnJvcignJyk7XG4gICAgXG4gICAgLy8gRmFrZSBwcm9ncmVzcyBiYXI6IGdvZXMgdG8gOTklIGluIDEwIHNlY29uZHMsIHRoZW4gd2FpdHMgZm9yIGNvbXBsZXRpb25cbiAgICBjb25zdCBwcm9ncmVzc0ludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0UHJvZ3Jlc3MocHJldiA9PiB7XG4gICAgICAgIGlmIChwcmV2IDwgOTkpIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5taW4ocHJldiArIDEwLCA5OSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICB9KTtcbiAgICB9LCAxMDAwKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBpLnByb2Nlc3NTdWJqZWN0KHN1YmplY3ROYW1lKTtcbiAgICAgIFxuICAgICAgY2xlYXJJbnRlcnZhbChwcm9ncmVzc0ludGVydmFsKTtcbiAgICAgIHNldFByb2dyZXNzKDEwMCk7XG4gICAgICBzZXRTdGF0dXNNZXNzYWdlKCdQcm9jZXNzaW5nIGNvbXBsZXRlIScpO1xuICAgICAgXG4gICAgICBzZXRUb3RhbEZpbGVzKHJlc3VsdC50b3RhbF9maWxlcyk7XG4gICAgICBzZXROb25EdXBsaWNhdGVDb3VudChyZXN1bHQubm9uX2R1cGxpY2F0ZV9jb3VudCk7XG4gICAgICBzZXRTaW1pbGFyQ291bnQocmVzdWx0LnNpbWlsYXJfY291bnQpO1xuICAgICAgc2V0R3JvdXBDb3VudChyZXN1bHQuZ3JvdXBfY291bnQpO1xuICAgICAgc2V0U2ltaWxhcml0eUJpbnMocmVzdWx0LnNpbWlsYXJpdHlfYmlucyB8fCBbXSk7XG4gICAgICBcbiAgICAgIC8vIExvYWQgZ3JvdXBzIGFuZCBwcm9jZWVkIHRvIHJldmlld1xuICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZ3JvdXBzRGF0YSA9IGF3YWl0IGFwaS5nZXRHcm91cHMoc3ViamVjdE5hbWUpO1xuICAgICAgICAgIGNvbnN0IHBhaXJ3aXNlID0gZ3JvdXBzRGF0YS5ncm91cHNfcGFpcndpc2UgfHwgZ3JvdXBzRGF0YS5ncm91cHMgfHwgW107XG4gICAgICAgICAgc2V0R3JvdXBzUGFpcndpc2UocGFpcndpc2UpO1xuICAgICAgICAgIHNldEdyb3VwcyhwYWlyd2lzZSk7XG4gICAgICAgICAgc2V0U2hvd1N1bW1hcnlNb2RhbCh0cnVlKTtcbiAgICAgICAgICBzZXRTdGFnZSgncmV2aWV3Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGdyb3VwcycpO1xuICAgICAgICAgIC8vIFN0aWxsIHByb2NlZWQgdG8gcmV2aWV3IGV2ZW4gaWYgZ3JvdXBzIGxvYWQgZmFpbHNcbiAgICAgICAgICBzZXRTdGFnZSgncmV2aWV3Jyk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMCk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBjbGVhckludGVydmFsKHByb2dyZXNzSW50ZXJ2YWwpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2U/LmRhdGE/LmRldGFpbCB8fCBlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIHx8ICdQcm9jZXNzaW5nIGZhaWxlZCc7XG4gICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgc2V0U3RhdHVzTWVzc2FnZShgRXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgIH1cbiAgfTtcblxuXG4gIGNvbnN0IHNob3dUb2FzdE1lc3NhZ2UgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0VG9hc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIHNldFNob3dUb2FzdCh0cnVlKTtcbiAgfTtcblxuXG4gIGNvbnN0IGhhbmRsZVNpbWlsYXJpdHlHcm91cHNTdWJtaXR0ZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gU2hvdyB0b2FzdFxuICAgIHNob3dUb2FzdE1lc3NhZ2UoJ0FsbCBncm91cHMgc2F2ZWQhJyk7XG4gICAgXG4gICAgLy8gUmVsb2FkIGNvbXBsZXRlZCBncm91cHNcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiBzdWJqZWN0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBncm91cHNEYXRhID0gYXdhaXQgYXBpLmdldEdyb3VwcyhzdWJqZWN0KTtcbiAgICAgICAgc2V0Q29tcGxldGVkR3JvdXBzKGdyb3Vwc0RhdGEuY29tcGxldGVkX2dyb3VwcyB8fCBbXSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZWxvYWQgZ3JvdXBzOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKCFzdWJqZWN0IHx8IHR5cGVvZiBzdWJqZWN0ICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPkxvYWRpbmcuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWluZGlnby0xMDAgcHktMTIgcHgtNFwiPlxuICAgICAgey8qIFRvYXN0IE5vdGlmaWNhdGlvbiAqL31cbiAgICAgIDxUb2FzdCBcbiAgICAgICAgbWVzc2FnZT17dG9hc3RNZXNzYWdlfSBcbiAgICAgICAgc2hvdz17c2hvd1RvYXN0fSBcbiAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U2hvd1RvYXN0KGZhbHNlKX0gXG4gICAgICAvPlxuICAgICAgXG4gICAgICB7LyogQmFjayB0byBIb21lIC0gVG9wIExlZnQgKi99XG4gICAgICA8YnV0dG9uXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKCcvJyl9XG4gICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIHRvcC00IGxlZnQtNCB0ZXh0LWJsdWUtNjAwIGhvdmVyOnRleHQtYmx1ZS04MDAgdW5kZXJsaW5lIHotNTBcIlxuICAgICAgPlxuICAgICAgICDihpAgSG9tZVxuICAgICAgPC9idXR0b24+XG4gICAgICBcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG9cIj5cbiAgICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgICAge3N0YWdlID09PSAncmV2aWV3JyAmJiBncm91cHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtNCBtYi04XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgY2FwaXRhbGl6ZVwiPlxuICAgICAgICAgICAgICB7c3ViamVjdC5yZXBsYWNlKC8tL2csICcgJyl9XG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNpbWlsYXJpdHlHcm91cFZpZXdSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0RnJvbU1pbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBDdXJyZW50bHkgYXQgbWluLCBqdW1wIHRvIG1heFxuICAgICAgICAgICAgICAgICAgICBzaW1pbGFyaXR5R3JvdXBWaWV3UmVmLmN1cnJlbnQuanVtcFRvTWF4KCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXJ0RnJvbU1pbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBDdXJyZW50bHkgYXQgbWF4LCBqdW1wIHRvIG1pblxuICAgICAgICAgICAgICAgICAgICBzaW1pbGFyaXR5R3JvdXBWaWV3UmVmLmN1cnJlbnQuanVtcFRvTWluKCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXJ0RnJvbU1pbih0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiByb3VuZGVkLWxnIGZvbnQtc2VtaWJvbGQgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICBzdGFydEZyb21NaW5cbiAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyZWVuLTcwMCdcbiAgICAgICAgICAgICAgICAgIDogJ2JnLWJsdWUtNjAwIHRleHQtd2hpdGUgaG92ZXI6YmctYmx1ZS03MDAnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICB0aXRsZT17c3RhcnRGcm9tTWluID8gJ0N1cnJlbnRseSBhdCBNaW4gKDg1LjApIC0gQ2xpY2sgdG8ganVtcCB0byBNYXggKDEwMC4wKScgOiAnQ3VycmVudGx5IGF0IE1heCAoMTAwLjApIC0gQ2xpY2sgdG8ganVtcCB0byBNaW4gKDg1LjApJ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3N0YXJ0RnJvbU1pbiA/ICdNaW4gKDg1LjApJyA6ICdNYXggKDEwMC4wKSd9XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAge3N0YWdlICE9PSAncmV2aWV3JyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItMiBjYXBpdGFsaXplXCI+XG4gICAgICAgICAgICAgIHtzdWJqZWN0LnJlcGxhY2UoLy0vZywgJyAnKX1cbiAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFByb2Nlc3NpbmcgU3RhZ2UgKi99XG4gICAgICAgIHtzdGFnZSA9PT0gJ3Byb2Nlc3NpbmcnICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy0yeGwgcC04XCI+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItOCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICBQcm9jZXNzaW5nIE1DUXMgd2l0aCBTQkVSVFxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPFByb2dyZXNzSW5kaWNhdG9yIHByb2dyZXNzPXtwcm9ncmVzc30gbWVzc2FnZT17c3RhdHVzTWVzc2FnZX0gLz5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC03MDBcIj57ZXJyb3J9PC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cblxuICAgICAgICB7LyogUmV2aWV3IFN0YWdlICovfVxuICAgICAgICB7c3RhZ2UgPT09ICdyZXZpZXcnICYmIGdyb3Vwcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8U2ltaWxhcml0eUdyb3VwVmlld1xuICAgICAgICAgICAgcmVmPXtzaW1pbGFyaXR5R3JvdXBWaWV3UmVmfVxuICAgICAgICAgICAgc3ViamVjdD17c3ViamVjdH1cbiAgICAgICAgICAgIGdyb3Vwcz17Z3JvdXBzUGFpcndpc2V9XG4gICAgICAgICAgICBjb21wbGV0ZWRHcm91cHM9e2NvbXBsZXRlZEdyb3Vwc31cbiAgICAgICAgICAgIG9uR3JvdXBzU3VibWl0dGVkPXtoYW5kbGVTaW1pbGFyaXR5R3JvdXBzU3VibWl0dGVkfVxuICAgICAgICAgICAgaW5pdGlhbExldmVsSW5kZXg9e3NpbWlsYXJpdHlMZXZlbEluZGV4fVxuICAgICAgICAgICAgb25MZXZlbEluZGV4Q2hhbmdlPXsoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgc2V0U2ltaWxhcml0eUxldmVsSW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgICAvLyBTYXZlIHRvIGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHN1YmplY3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2F2ZWRTZXNzaW9uID0gc3RvcmFnZS5sb2FkU2Vzc2lvbihzdWJqZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoc2F2ZWRTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgICBzYXZlZFNlc3Npb24uc2ltaWxhcml0eUxldmVsSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgIHN0b3JhZ2Uuc2F2ZVNlc3Npb24oc2F2ZWRTZXNzaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvbkxldmVsc0xvYWRlZD17KHRvdGFsTGV2ZWxzKSA9PiB7XG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSB0b2dnbGUgc3RhdGUgYmFzZWQgb24gaW5pdGlhbCBsZXZlbCBpbmRleFxuICAgICAgICAgICAgICAvLyBJZiBpbmRleCBpcyAwLCB3ZSdyZSBhdCBtYXg7IGlmIGluZGV4IGlzIGxhc3QsIHdlJ3JlIGF0IG1pblxuICAgICAgICAgICAgICBpZiAodG90YWxMZXZlbHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhcnRGcm9tTWluKHNpbWlsYXJpdHlMZXZlbEluZGV4ID09PSB0b3RhbExldmVscyAtIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIHtzaG93U3VtbWFyeU1vZGFsICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS00MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHNoYWRvdy0yeGwgcC04IG1heC13LTN4bCB3LWZ1bGwgbXgtNFwiPlxuICAgICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItNFwiPlByb2Nlc3NpbmcgU3VtbWFyeTwvaDI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNCBtYi02XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctYmx1ZS01MCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5Ub3RhbCBNQ1FzPC9wPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj57dG90YWxGaWxlc308L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctZ3JlZW4tNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+Tm9uLWR1cGxpY2F0ZXM8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPntub25EdXBsaWNhdGVDb3VudH08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctb3JhbmdlLTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlNpbWlsYXIgKGluIGdyb3Vwcyk8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPntzaW1pbGFyQ291bnR9PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJnLXB1cnBsZS01MCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5Hcm91cHMgRm91bmQ8L3A+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPntncm91cENvdW50fTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtOTYgb3ZlcmZsb3cteS1hdXRvIGJvcmRlciByb3VuZGVkLWxnIHAtNCBtYi02XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItM1wiPlxuICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwXCI+R3JvdXBzIGJ5IFNpbWlsYXJpdHkgUmFuZ2U8L2gzPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgIFRvdGFsOiA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPntncm91cENvdW50LnRvTG9jYWxlU3RyaW5nKCl9PC9zcGFuPiBncm91cHNcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAge3NpbWlsYXJpdHlCaW5zXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoYmluID0+IGJpbi5jb3VudCA+IDApIC8vIE9ubHkgc2hvdyByYW5nZXMgd2l0aCBncm91cHNcbiAgICAgICAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBTb3J0IGJ5IHVwcGVyIGJvdW5kIGRlc2NlbmRpbmcgKDEwMC05OSBmaXJzdCwgdGhlbiA5OS05OCwgZXRjLilcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhVXBwZXIgPSBwYXJzZUludChhLnJhbmdlLnNwbGl0KCctJylbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJVcHBlciA9IHBhcnNlSW50KGIucmFuZ2Uuc3BsaXQoJy0nKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJVcHBlciAtIGFVcHBlcjtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoYmluKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gUGFyc2UgcmFuZ2UgZm9ybWF0IFwiMTAwLTk5XCIgdG8gXCIxMDAuMCUgLSA5OS4wJVwiXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgW3VwcGVyLCBsb3dlcl0gPSBiaW4ucmFuZ2Uuc3BsaXQoJy0nKS5tYXAoTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZURpc3BsYXkgPSBgJHt1cHBlcn0uMCUgLSAke2xvd2VyfS4wJWA7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudGFnZSA9IGdyb3VwQ291bnQgPiAwID8gKChiaW4uY291bnQgLyBncm91cENvdW50KSAqIDEwMCkudG9GaXhlZCgxKSA6ICcwJztcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAvLyBDb2xvciBjb2RpbmcgYmFzZWQgb24gc2ltaWxhcml0eSBsZXZlbFxuICAgICAgICAgICAgICAgICAgICAgIGxldCBiYXJDb2xvciA9ICdiZy1ibHVlLTYwMCc7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHVwcGVyID49IDk5KSBiYXJDb2xvciA9ICdiZy1yZWQtNjAwJzsgLy8gVmVyeSBoaWdoIHNpbWlsYXJpdHkgKHJlZClcbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1cHBlciA+PSA5NSkgYmFyQ29sb3IgPSAnYmctb3JhbmdlLTYwMCc7IC8vIEhpZ2ggc2ltaWxhcml0eSAob3JhbmdlKVxuICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHVwcGVyID49IDkwKSBiYXJDb2xvciA9ICdiZy15ZWxsb3ctNjAwJzsgLy8gTWVkaXVtLWhpZ2ggc2ltaWxhcml0eSAoeWVsbG93KVxuICAgICAgICAgICAgICAgICAgICAgIGVsc2UgYmFyQ29sb3IgPSAnYmctZ3JlZW4tNjAwJzsgLy8gTG93ZXIgc2ltaWxhcml0eSAoZ3JlZW4pXG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YmluLnJhbmdlfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MCB0by1pbmRpZ28tNTAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJsdWUtMjAwIGhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTM2IG1pbi13LVsxNDBweF1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktNzAwXCI+e3JhbmdlRGlzcGxheX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWF4LXctbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgYmctZ3JheS0yMDAgcm91bmRlZC1mdWxsIGgtNSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtiYXJDb2xvcn0gaC1mdWxsIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7cGVyY2VudGFnZX0lYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2Ake2Jpbi5jb3VudH0gZ3JvdXBzICgke3BlcmNlbnRhZ2V9JSBvZiB0b3RhbClgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgdy0xNCB0ZXh0LXJpZ2h0IGZvbnQtbWVkaXVtXCI+e3BlcmNlbnRhZ2V9JTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0IG1sLTQgbWluLXctWzgwcHhdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMFwiPntiaW4uY291bnQudG9Mb2NhbGVTdHJpbmcoKX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+Z3JvdXB7YmluLmNvdW50ICE9PSAxID8gJ3MnIDogJyd9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAge3NpbWlsYXJpdHlCaW5zLmZpbHRlcihiaW4gPT4gYmluLmNvdW50ID4gMCkubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCB0ZXh0LWNlbnRlciBweS00XCI+Tm8gZ3JvdXBzIGZvdW5kIGluIHNpbWlsYXJpdHkgcmFuZ2VzPC9wPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7c2ltaWxhcml0eUJpbnMuZmlsdGVyKGJpbiA9PiBiaW4uY291bnQgPiAwKS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC00IHRleHQteHMgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyBiZy1yZWQtNjAwIHJvdW5kZWRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPuKJpTk5JTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMyBoLTMgYmctb3JhbmdlLTYwMCByb3VuZGVkXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj45NS05OCU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIGJnLXllbGxvdy02MDAgcm91bmRlZFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+OTAtOTQlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyBiZy1ncmVlbi02MDAgcm91bmRlZFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Jmx0OzkwJTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1N1bW1hcnlNb2RhbChmYWxzZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTMgYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHJvdW5kZWQtbGcgc2hhZG93XCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBQcm9jZWVkIHRvIFNpbWlsYXJpdHkgUmV2aWV3XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VSb3V0ZXIiLCJQcm9ncmVzc0luZGljYXRvciIsIlNpbWlsYXJpdHlHcm91cFZpZXciLCJUb2FzdCIsImFwaSIsInN0b3JhZ2UiLCJQcm9jZXNzU3ViamVjdCIsInJvdXRlciIsInN1YmplY3QiLCJxdWVyeSIsInN0YWdlIiwic2V0U3RhZ2UiLCJwcm9ncmVzcyIsInNldFByb2dyZXNzIiwic3RhdHVzTWVzc2FnZSIsInNldFN0YXR1c01lc3NhZ2UiLCJlcnJvciIsInNldEVycm9yIiwidG90YWxGaWxlcyIsInNldFRvdGFsRmlsZXMiLCJub25EdXBsaWNhdGVDb3VudCIsInNldE5vbkR1cGxpY2F0ZUNvdW50Iiwic2ltaWxhckNvdW50Iiwic2V0U2ltaWxhckNvdW50IiwiZ3JvdXBDb3VudCIsInNldEdyb3VwQ291bnQiLCJzaW1pbGFyaXR5QmlucyIsInNldFNpbWlsYXJpdHlCaW5zIiwiZ3JvdXBzIiwic2V0R3JvdXBzIiwiZ3JvdXBzUGFpcndpc2UiLCJzZXRHcm91cHNQYWlyd2lzZSIsInNpbWlsYXJpdHlMZXZlbEluZGV4Iiwic2V0U2ltaWxhcml0eUxldmVsSW5kZXgiLCJjb21wbGV0ZWRHcm91cHMiLCJzZXRDb21wbGV0ZWRHcm91cHMiLCJzdGFydEZyb21NaW4iLCJzZXRTdGFydEZyb21NaW4iLCJzaW1pbGFyaXR5R3JvdXBWaWV3UmVmIiwic2hvd1N1bW1hcnlNb2RhbCIsInNldFNob3dTdW1tYXJ5TW9kYWwiLCJzaG93VG9hc3QiLCJzZXRTaG93VG9hc3QiLCJ0b2FzdE1lc3NhZ2UiLCJzZXRUb2FzdE1lc3NhZ2UiLCJjaGVja0FuZFJlc3VtZSIsInN1YmplY3ROYW1lIiwidXJsUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJyZXN0YXJ0IiwiZ2V0IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInN0YXJ0UHJvY2Vzc2luZyIsInNlc3Npb25DaGVjayIsImNoZWNrU2Vzc2lvbiIsImV4aXN0cyIsInNlc3Npb24iLCJmaWxlc19zYXZlZCIsImdyb3Vwc0RhdGEiLCJnZXRHcm91cHMiLCJwYWlyd2lzZSIsImdyb3Vwc19wYWlyd2lzZSIsInRvdGFsX2ZpbGVzIiwibm9uX2R1cGxpY2F0ZV9jb3VudCIsImxlbmd0aCIsImNvbXBsZXRlZF9ncm91cHMiLCJzYXZlZFNlc3Npb24iLCJsb2FkU2Vzc2lvbiIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJoYW5kbGVCZWZvcmVVbmxvYWQiLCJlIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJvZ3Jlc3NJbnRlcnZhbCIsInNldEludGVydmFsIiwicHJldiIsIk1hdGgiLCJtaW4iLCJyZXN1bHQiLCJwcm9jZXNzU3ViamVjdCIsImNsZWFySW50ZXJ2YWwiLCJzaW1pbGFyX2NvdW50IiwiZ3JvdXBfY291bnQiLCJzaW1pbGFyaXR5X2JpbnMiLCJzZXRUaW1lb3V0IiwiZXJyb3JNZXNzYWdlIiwicmVzcG9uc2UiLCJkYXRhIiwiZGV0YWlsIiwibWVzc2FnZSIsInNob3dUb2FzdE1lc3NhZ2UiLCJoYW5kbGVTaW1pbGFyaXR5R3JvdXBzU3VibWl0dGVkIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsInNob3ciLCJvbkNsb3NlIiwiYnV0dG9uIiwib25DbGljayIsInB1c2giLCJoMSIsInJlcGxhY2UiLCJjdXJyZW50IiwianVtcFRvTWF4IiwianVtcFRvTWluIiwidGl0bGUiLCJoMiIsInJlZiIsIm9uR3JvdXBzU3VibWl0dGVkIiwiaW5pdGlhbExldmVsSW5kZXgiLCJvbkxldmVsSW5kZXhDaGFuZ2UiLCJpbmRleCIsInNhdmVTZXNzaW9uIiwib25MZXZlbHNMb2FkZWQiLCJ0b3RhbExldmVscyIsImgzIiwic3BhbiIsInRvTG9jYWxlU3RyaW5nIiwiZmlsdGVyIiwiYmluIiwiY291bnQiLCJzb3J0IiwiYSIsImIiLCJhVXBwZXIiLCJwYXJzZUludCIsInJhbmdlIiwic3BsaXQiLCJiVXBwZXIiLCJtYXAiLCJ1cHBlciIsImxvd2VyIiwiTnVtYmVyIiwicmFuZ2VEaXNwbGF5IiwicGVyY2VudGFnZSIsInRvRml4ZWQiLCJiYXJDb2xvciIsInN0eWxlIiwid2lkdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/process/[subject].tsx\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = import("axios");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Fprocess%2F%5Bsubject%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fprocess%2F%5Bsubject%5D.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();