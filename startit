#!/bin/bash

# Simple startup script - starts backend and frontend

# Get the directory where the script is located
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
cd "$SCRIPT_DIR"

# Start backend
echo "ðŸš€ Starting backend..."
cd backend
python3 main.py > ../backend.log 2>&1 &
BACKEND_PID=$!
echo "Backend started with PID: ${BACKEND_PID}"
cd ..

# Wait a bit for backend to start
sleep 3

# Start frontend
echo "ðŸš€ Starting frontend..."
cd frontend
npm run dev > ../frontend.log 2>&1 &
FRONTEND_PID=$!
echo "Frontend started with PID: ${FRONTEND_PID}"
cd ..

echo ""
echo "âœ… Both services started!"
echo ""
echo "Backend PID: ${BACKEND_PID}"
echo "Frontend PID: ${FRONTEND_PID}"
echo ""
echo "To view logs:"
echo "  Backend:  tail -f backend.log"
echo "  Frontend: tail -f frontend.log"
echo ""
echo "To stop all processes:"
echo "  ./stop.sh or pkill -f 'python.*main.py|next dev'"
